{"title": "Facebook 是如何做大规模代码部署的", "url": "http://blog.jobbole.com/112764/", "url_object_id": "8ea1d2c424134fca80259ab8274bfb09", "create_date": "2017/10/28", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/f2f9fbba105d1d3260400768bea07421.jpg"], "praise_nums": "2", "fav_nums": 0, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wrm205\">wrm</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://code.facebook.com/posts/270314900139291/rapid-release-at-massive-scale/\">code.facebook.com</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>随着时间的推移，软件行业已经提出了多种方法来更快更好更安全地交付代码。其中大部分的努力都集中在诸如持续集成、持续交付、敏捷开发、DevOps 和测试驱动开发等方面。所有这些方法都有一个共同的目标：<strong>让开发人员能够以安全、小型和渐进的步骤将代码快速正确地提供给用户。</strong></p>\n<p>Facebook 的开发和部署过程已经得到有机地发展，以涵盖这些快速迭代技术的大部分内容，同时也避免特殊依赖任何一项单独的技术。这种灵活、实用的方法使我们能够在快速的时间内成功地发布我们的网络和移动产品。</p>\n<p>多年来，我们使用简单的主程序发布分支策略每天部署三次代码到 Facebook 前端。工程师们会从主干分支中选择一些通过了一系列自动化测试的代码变更推送到每天的发布分支上（这个过程也叫做“cherry-picking”）。总的来说，我们每天选择的变更（cherry-picks）数量为 500 到 700。剩下的没有被 cherry-picked 的变更就推入到每周的发布分支中。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fkumim26z7j20kg0bin0k.jpg\" alt=\"\"></p>\n<p>从 2007 年的几位工程师到现在的数千名工程师，这个系统的扩展性一直很好。好消息是，随着我们增加了更多的工程师，我们完成的工作也越来越多——<a href=\"https://research.fb.com/publications/continuous-deployment-at-facebook-and-oanda/\">代码交付的速度与团队的规模成比例</a>。然而，除了适当的工具和自动化系统之外，它还需要发布工程师花费一定的手工劳动，来完成每天和每周的代码推送和发布。我们知道，随着团队的不断扩大，批量处理日渐增多的交付代码块将无法持续。</p>\n<p>到了 2016 年，我们看到 branch/cherry-pick 模型已经达到了极限。我们每天接收的推送到主分支上的变更超过 1000 个，而每周的接收的变更有时多达 10,000 个。因此每周需要进行大量的手工工作来协调和交付这样大型的发布任务，这是不可持续的。</p>\n<p>2016年4月，我们决定将 facebook.com 移到一个准持续的“push-from-master”系统上。在接下来的一年里，我们逐渐把它推出，首先让50%的员工用上新代码，然后让0.1%的生产环境用上新代码，再到1%，再增加到10%。这些进程中的每一步都是对我们的工具和过程的测试，测试它们处理日益增加的推送频率的能力，从而得到真实的反馈。我们的主要目标是确保新系统能让人们的体验更好——或者至少，不会让它变得更糟。经过了几乎整整一年的规划和开发之后，在2017年4月的3天内，我们使100%的生产环境能够运行直接从master部署的代码。</p>\n<h2>大规模持续交付</h2>\n<p>虽然一个真正的持续交付系统会将每一次提交的代码变更及时发布到生产环境中，但根据Facebook的代码提交速度，我们需要开发一个每隔几个小时就能处理数十到数百个代码变更的系统。在这种准连续交付模式中所做的改变通常是小型且增量的，很少会对实际的用户体验有明显的影响。每一次发布都以分层的方式在几小时内部署到100%的生产环境，因此一旦发现任何问题，我们可以随时停止发布。</p>\n<p><img src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkumimppgqj20kg0bitd5.jpg\"></p>\n<p>首先，代码变更通过一系列自动化的内部测试后才能被提交到主分支，进而被推送给Facebook的员工。在这一阶段引入的任何回归，都会使我们收到推送阻塞警报，而有个紧急停止按钮也可以使我们阻止代码的进一步发布。如果一切正常，我们会将变更推送到2%的生产环境，在那里我们会继续收集信号和监测警报，尤其是对于那些我们的自动测试和员工的内部测试没有发现的边界情况。最后，我们才将这些变更100%部署到生产环境中，由名为Flytrap的工具收集用户报告，并在异常时给我们发送警报。</p>\n<p>许多变更最初都是由 Gatekeeper 系统控制的，这使得我们能够独立地发布移动端和 web 端代码而不依赖于新功能，同时有助于降低由任何特定更新导致问题的风险。如果确实发现了问题，我们只需要关闭 gatekeeper，而不是回退到之前的版本或修复当前版本。</p>\n<p><span style=\"color: #ff0000;\"><strong>这个准持续（”quasi-continuous”）发布周期有几个优点:</strong></span></p>\n<h3>1. 它不再需要热补丁</h3>\n<p>在每天部署三次的策略下，如果一个关键变更必须立刻发布，而不是在它预定的推送时间里，这时就必须有人来打热补丁。这些带外推送是破坏性的，因为他们通常需要一些人力操作，而且可能会撞上下一个预定的推送。在新系统中，绝大多数需要热补丁的程序都可以简单地提交给master，并在下一个版本中进行发布。</p>\n<h3>2. 为全球工程师团队提供了更好支持</h3>\n<p>我们试着尽量合理安排每天三次部署的时间，以适应我们在世界各地的工程办公室。但即使是这样的努力，每周一次的发布也要求所有的工程师在某个特定的日期和时间内集中注意力，然而这些时间在他们的时区并不总是很方便。新的准持续系统意味着世界各地的工程师都可以根据需要开发并交付的代码。</p>\n<h3>3. 它迫使我们开发下一代工具、自动化和流程，以使公司能够扩大规模</h3>\n<p>我们所做的这个项目，可以作为跨越多个团队和系统的压力测试。我们改进了推动工具、diff 审查工具、测试基础架构、容量管理系统、流量路由系统，以及许多其他方面。这些团队都聚集在了一起，因为他们希望看到一个发布周期更快的自动化部署系统尽快成功。我们所做的改进将有助于确保公司为未来的发展做好准备。</p>\n<h3>4. 它使用户体验更好、更快</h3>\n<p>当需要数天或数周的时间来观察代码的运行状况时，工程师们可能已经转向了新的任务。在持续交付的情况下，工程师不必等待一周或更长的时间才能得到他们提交的代码的反馈。他们可以更快地了解到哪些地方不work，并及时进行小的增强或修复，而不是等到下一次大的发布。从基础设施的角度来看，新系统使我们能够更好地应对那些可能影响用户的稀有事件。最终，这将使工程师更加贴近用户，不仅有助于产品开发还有助于提高产品可靠性。</p>\n<h2>持续发布到移动端</h2>\n<p>在web平台上发展出一个准连续系统在某种程度上是可能的，因为我们拥有完整的技术栈，而且可以构建和改进我们需要的工具，使之成为现实。而移动平台上则面临更多的挑战，因为许多现有的移动平台的开发和部署工具使快速的迭代变得比较困难。</p>\n<p>Facebook致力于改善这一情况，并建立和开源了一整套专门针对移动平台上快速开发的工具，包括<a href=\"https://nuclide.io/\">Nuclide</a>、<a href=\"https://buckbuild.com/\">Buck</a>、<a href=\"https://github.com/phacility/phabricator\">Phabricator</a>、各种iOS类库、<a href=\"https://facebook.github.io/react-native/\">React Native</a>和<a href=\"http://fbinfer.com/\">Infer</a>。总之，这一系列构建和测试栈使我们能够产生高质量的代码，以便快速部署到移动平台上。</p>\n<p>我们的持续集成栈主要分成三层：构建、静态分析和测试。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx1.sinaimg.cn/large/7cc829d3gy1fkuminb3fqj20kg0bi0we.jpg\"></p>\n<p>当开发人员将代码提交到移动主分支时，会在所有受影响的产品上对代码进行构建。对于移动端来说，这意味着每次提交都要重新构建Facebook、Messenger、Pages Manager、Instagram以及其他应用程序。我们还为每个产品构建了多个版本，以确保能够涵盖这些产品支持的所有芯片架构和模拟器。</p>\n<p>在构建过程中，我们会运行Infer，它集合了Linters(检查代码风格和错误的小工具)和静态分析工具，用于捕获空指针异常、资源和内存泄漏、未使用的变量和有风险的系统调用，并标记出违反Facebook编码规则的情况。</p>\n<p>第三个并发系统是移动自动化测试，包括数千个单元测试、集成测试以及由Robolectric、XCTest、JUnit和WebDriver等工具驱动的端到端的测试。</p>\n<p>不仅每次提交时会运行构建和测试栈，而且在代码变更的生命周期内也会运行多次。仅在安卓系统上，我们每天就能完成5万到6万次构建。</p>\n<p><img src=\"http://wx4.sinaimg.cn/mw690/7cc829d3gy1fkuminyzcuj20kg0bidjp.jpg\"></p>\n<p>通过将传统的持续交付技术应用到移动栈，我们已经从四周发布一版发展到两周发布一版，再到现在的一周发布一版。目前我们在移动平台上使用的就是之前基于web的策略：branch/ cherry- pick模型。虽然我们每周只发布一个版本，但在现实环境中尽早测试代码仍然很重要，因为这样工程师就可以尽快得到反馈。我们每天都会为我们的金丝雀用户（包括大约100万个<a href=\"https://play.google.com/apps/testing/com.facebook.katana\">Android beta测试人员</a>）提供新的移动候选版本。</p>\n<p><img id=\"pic\" class=\"\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fkumior7jyj20kg0biwht.jpg\"></p>\n<p>与此同时，我们的发布频率增加了，我们的移动工程师团队已经增长了15倍，我们的代码交付速度也已经大大提高。尽管如此，从我们<a href=\"https://research.fb.com/publications/continuous-deployment-of-mobile-software-at-facebook-showcase/\">2012年到2016年的数据</a>来看，无论是按代码行数还是按推送数量来衡量，工程师在Android和IOS方面的生产率都保持不变。同样，无论部署多少次，移动版本出现的关键问题的数量几乎没有变化，这说明我们的代码质量并没有随着代码规模的增大而受到影响。</p>\n<p>随着现有的工具和方法不断取得进展，这是在发布工程领域工作的一个令人兴奋的时刻。我为Facebook的团队感到非常自豪，他们一起合作为我们提供了我认为是这个规模下最先进的web和移动部署系统。这一切能成为可能还有一部分原因是拥有一个强大的中央发布工程团队，因为它是基础设施工程领域的“第一类公民”（First-class citizen）。Facebook的发布团队将继续为开发人员和用户推动改善发布流程的计划，也会继续分享我们的经验、工具和最佳实践。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112764\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112764votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112764\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i>  收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wrm205\">wrm</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wrm205\">\r\n\t\t\t<img src=\"http://www.jobbole.com/wp-content/uploads/2015/10/95902ef97dfc2bd01213807728388ea3.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            计算机应用技术、软件开发、算法设计方向        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wrm205\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wrm205/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/wrm205/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 11</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://blog.csdn.net/wrm_nancy\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/2619302591/profile?topnav=1&amp;wvr=6\"><i class=\"fa fa-weibo\"></i></a> <a title=\"Linked主页\" target=\"_blank\" href=\"https://cn.linkedin.com/pub/%E7%91%9E%E6%95%8F-%E7%8E%8B/ba/862/412\"><i class=\"fa fa-linkedin\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，Facebook", "front_image_path": "full/90a55803b9492ba35384614f602694fd37eb7baf.jpg"}
{"title": "如何在工作之余找精力做副项目？", "url": "http://blog.jobbole.com/112705/", "url_object_id": "495587a925e6822916cba295db3ffbae", "create_date": "2017/10/17", "front_image_url": ["http://wx3.sinaimg.cn/mw690/7cc829d3gy1fkl9k67ic4j20m80b4k04.jpg"], "praise_nums": "1", "fav_nums": 3, "comment_nums": 1, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/wx330778213\">龚一</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://www.startups.co/articles/finding-the-energy-to-work-on-your-sidehustle\">Kennedy Collins</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><blockquote><p>创业很难，在全职工作种用少量的自由时间创业更难。我真心地祝福你，这不容易，但是这真的是值得的。</p></blockquote>\n<p>在 IT 资讯聚合网站 Hacker News 上花超过 5 分钟，你就会看到那些在兼职创业的人。这些敬业的副业工作者花一整天的时间做专职工作，然后赶回家中投入到另一个项目中。他们的创业雄心被挤压到夜晚那仅剩的一点点时间里，往往通过减少睡眠来做更多的工作。这些疯狂的雄心中只有少数的幸运者得到了回报，而大多数尝试的人最终放弃了。</p>\n<p>放弃是如此寻常，因为从你的日常工作中跳出来去做你的副业真的非常非常难。这不仅困难又倍感压力， 所以人们逃避工作以致没有任何成果，或者强迫自己工作到完全心力交瘁。</p>\n<p><img class=\"alignnone\" src=\"http://wx3.sinaimg.cn/mw690/7cc829d3gy1fkl9k67ic4j20m80b4k04.jpg\" width=\"690\" height=\"345\"></p>\n<p>避免心力交瘁的寻常建议和满大街的大男子主义废话一样：别逃避！赶紧做！钻研！努力钻研！咬紧牙关不屈不挠。甘愿三头燃烧蜡烛（译注：过分消耗精力）或者逃避，都说明你不适合这个游戏。这个建议问题就是，它不仅有害而且是错误的。</p>\n<p>这种“磨砺！磨砺！再磨砺！”的心态经不起科学的考验，有两个主要的原因：从你朝九晚五的工作中转换到你的副业中来时，你往往处于很差的状态；毫不夸张地说，你不可能每周 70 个小时都保持创造性。你不能加快你的成功之路，但是你可以每天在工作之后花 1-2 个小时，像砌砖一样，直到你建立起成功的事业。</p>\n<h3>解决转换工作后状态不好的方法</h3>\n<p>如果你想在下班之后继续工作，你将不得不停止思考你朝九晚五的日常工作，并且开始专注于创业项目中必须完成的事。如果你在转换注意力上天生表现糟糕，那真是太不幸了。</p>\n<p>当然，这无关个人。人的大脑不仅不能同时做好两件事件，而且也不能很好地在当前任务完成后转向第二个任务。来自纽约大学的 Sophie Leroy 的研究把这种现象叫做注意力残留：即时在你停止工作时，原先的任务还是逗留在你的脑中，在后台占用你额外的脑力。这使得你很难在工作后投入副业工作，而取得有意义的进展就更加困难了。</p>\n<p>更糟糕的是，当你的大脑感到你做的东西都处于未完成状态——你若想开始一个新的任务，你的潜意识会对做这件事毫无兴趣。如果你曾花了整个上下班时间处理工作中的问题，或者让周五下午的邮件毁了你的周末，那么你就知道我在说什么了。</p>\n<p>但是，如果你说服你的潜意识关闭掉所有你大脑后台运行的其他进程，那么你可以真正有心力在晚上做你的副业。摆脱这些注意力残留的最好方法就是硬复位。</p>\n<h3>硬复位</h3>\n<p>有一种仪式或一种例行程序，能够让你在完成一天的工作之后，完全关闭那些仍然运行的心理进程。</p>\n<p>好的硬复位有两个组成部分：<strong>关机和启动</strong>。关机让你能够清理掉你脑中所有原先的工作，启动帮助你在恢复身体的同时更具体地转移到你新的心理框架中——伴随着身体能量的爆发，鼓舞着新得到的精神力量。</p>\n<p>在卡尔·纽波特的著作《Deep Work》中，他推荐了一种终止工作的方法来释放你的思维、让你休息和放松。这是一个结束一天工作很好的做法，但如果你想要从一天中挤出更多的工作，这也是使任务转换更有效的一个工具。你在这里寻找的是一种仪式，来告诉你的潜意识“今天我已经完成了”。还有很多方法可以做到这点。我的方法如下：</p>\n<ul>\n<li>我每天会在一张 3×5 的索引卡上写下代办事项，这是我某个时候在 Ryan Holiday 上学到的方法。</li>\n<li>在一天结束的时候，我会看那些卡片，并将没有做完的复制到我的周待办列表里，这些会存在我的 Google Docs 里。</li>\n<li>然后，我会为下一个工作日做一些大体上的准备。</li>\n<li>最终——这也是最重要的部分——我会把那些日常 3×5 的待办列表撕碎，然后说“完成啦！”。</li>\n</ul>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/07/4397ef9e57fef971bf879c4e6f146256.png\"><img class=\"alignnone size-medium wp-image-66048\" src=\"http://jbcdn2.b0.upaiyun.com/2017/07/4397ef9e57fef971bf879c4e6f146256.png\"></a></p>\n<p>纽波特建议通过自言自语的方式，大声地告诉自己任务已经完成（他的关键词是“关机完成”）。我会采纳这建议并加上撕碎一张索引卡片这种身体动作。无论是什么方法，这种“完成”的身体表现能够帮助你的大脑相信你真的完成了，这类似于睡前程序帮助睡眠质量。</p>\n<h3>启动</h3>\n<p>当你从你的日常工作中把精神垃圾清理出去之后，做一些身体恢复来获取一些能量并整理自己的思维是个绝佳的选择。这里有很多选择，但是我只打算提出我认为最有效的三个：活动身体（physical activity）、冥想和打盹。这不仅是个人爱好，它们都有减压的奖励效果，这些压力都是在全职工作和开展副业中特别常见的副作用。</p>\n<h3>活动身体</h3>\n<p>活动身体一次次地出现会提高认知和情绪。我建议一些轻有氧运动或瑜伽，不推荐像举重这类对于中枢神经系统来说超负荷的运动。基本上，任何有恢复作用的东西都是好的，任何你需要恢复的东西应该可能会被再次保存。</p>\n<p>你甚至可以做一些像散步一样简单的事情。来自密西根大学的研究表明，在自然环境下散步可以显著提高记忆力和注意力。当我感到压力时，我习惯沿着芝加哥河，穿过绿树成荫的住宅街道，从工作地点走回家。这在改善我心情这方面从来没有失败过。</p>\n<h3>冥想</h3>\n<p>来自大量科学支持，冥想是一种非常经典的清理思维的方法。你也不必出门：20分钟足够了。还有几十种app可以帮助你，我个人使用的是 Headspace。对于初学者还有很多非常好的线上资源，如 Tara Brach。</p>\n<h3>打盹</h3>\n<p>你上一次舒适的打盹是什么时候？打盹是非常棒的。大量的研究表明 20 分钟的打盹可以让你在苛刻的任务之后变得更加敏锐，并恢复一些认知功能。老实说，这是三个观点中我最喜欢的，只要确保你是真的打盹而不是听广播或者在黑暗中玩糖果消消乐。标准的睡眠保健必备——黑暗的房间、没有噪音、没有旁人等等。</p>\n<h3>在合理的时间去睡觉</h3>\n<p>一旦你执行硬复位，就可以解除困陷，做你的事。当你做事情直到凌晨 3 点才结束——你需要睡觉，而且这些额外的时间无论如何也不会变成任何有生产力的事。</p>\n<p>在第一次世界大战期间，英国政府为那些因战争行动需要而生产弹药的工厂取消了工时限制。因此也有一些关于那个时期工人的有趣研究。</p>\n<p>当看到这些数据时，你最初会看到你期望的内容：每工作一个小时，你会得到固定数量的输出。一个小时投入，一个炸弹产生，一个小时投入，一个炸弹产生，等等。这种关系一直持续到大概 49 个小时，每个小时产生的价值开始越来越少。大约 65 个小时开始，他们真的看到了这种消极的生产力——工人们犯得错误多过了生产行为，而且坏的炸弹比好的炸弹还要多。这样本的数量相当小，但即便如此，它也非常清晰地表明，大约 70 个小时后的工作价值是可以忽略不计的。</p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/07/3f7a507d9c3f156b772585fc7be6b16f.png\"><img class=\"alignnone size-medium wp-image-66047\" src=\"http://jbcdn2.b0.upaiyun.com/2017/07/3f7a507d9c3f156b772585fc7be6b16f.png\"></a></p>\n<p>所以：努力工作几个小时，然后停下。你将会得到相同的完成量，你会有更少的压力，也不会让自己累垮。如果你每天花 1-2 个小时干一年，比你在之后三个月里每天晚上熬到凌晨 3 点燃烧自己更高产。</p>\n<h3>祝你好运</h3>\n<p>创业很难，在全职工作种用少量的自由时间创业更难。我真心地祝福你，这不容易，但是这真的是值得的。</p>\n<p>在一段时间的工作之后来一次硬复位——这对我下班后的工作能力有很大的影响，我希望这方法也能帮助到你。甚至当你做副业的时候，来一次硬复位，这是很好的放松方式。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112705\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112705votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112705\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 3 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx330778213\">龚一</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/wx330778213\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2015/04/8fbdaaa5ea6d3b49c8c1c825aafeb5d9.png\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/wx330778213\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/wx330778213/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/wx330778213/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 10</a>        </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "职场，创业，副项目", "front_image_path": "full/93850592982203c1c7a210266d466832985de0b8.jpg"}
{"title": "RESTful API 设计最佳实践", "url": "http://blog.jobbole.com/112710/", "url_object_id": "f3de22799cae4329ae85b31dc708a396", "create_date": "2017/10/16", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/08/544851c6c17d5b59f6fe22f223db85aa.png"], "praise_nums": "1", "fav_nums": 6, "comment_nums": 1, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://blog.philipphauer.de/restful-api-design-best-practices/\">Philipp Hauer</a>   译文出处：<a target=\"_blank\" href=\"http://www.zcfy.cc/article/restful-api-design-best-practices-in-a-nutshell-4388.html\">slane</a>   </div><p>项目资源的URL应该如何设计？用名词复数还是用名词单数？一个资源需要多少个URL？用哪种HTTP方法来创建一个新的资源？可选参数应该放在哪里？那些不涉及资源操作的URL呢？实现分页和版本控制的最好方法是什么？因为有太多的疑问，设计RESTful API变得很棘手。在这篇文章中，我们来看一下RESTful API设计，并给出一个最佳实践方案。</p>\n<h3 id=\"-url\">每个资源使用两个URL</h3>\n<p>资源集合用一个URL，具体某个资源用一个URL：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9502f429818058\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/employees         #资源集合的URL\r\n/employees/56      #具体某个资源的URL\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9502f429818058-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9502f429818058-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9502f429818058-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9502f429818058-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-h\">         </span><span class=\"crayon-p\">#资源集合的URL</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9502f429818058-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">56</span><span class=\"crayon-h\">      </span><span class=\"crayon-p\">#具体某个资源的URL</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9502f429818058-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"-\">用名词代替动词表示资源</h3>\n<p>这让你的API更简洁，URL数目更少。不要这么设计：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9503b787592705\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/getAllEmployees\r\n/getAllExternalEmployees\r\n/createEmployee\r\n/updateEmployee\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9503b787592705-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9503b787592705-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9503b787592705-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9503b787592705-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9503b787592705-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9503b787592705-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">getAllEmployees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9503b787592705-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">getAllExternalEmployees</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9503b787592705-3\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">createEmployee</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9503b787592705-4\"><span class=\"crayon-o\">/</span><span class=\"crayon-i\">updateEmployee</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9503b787592705-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>更好的设计：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95044726277905\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees\r\nGET /employees?state=external\r\nPOST /employees\r\nPUT /employees/56\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95044726277905-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95044726277905-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95044726277905-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95044726277905-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95044726277905-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95044726277905-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">employees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95044726277905-2\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">state</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">external</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95044726277905-3\"><span class=\"crayon-v\">POST</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">employees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95044726277905-4\"><span class=\"crayon-v\">PUT</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">56</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95044726277905-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h3 id=\"-http-\">用HTTP方法操作资源</h3>\n<p>使用URL指定你要用的资源。使用HTTP方法来指定怎么处理这个资源。使用四种HTTP方法POST，GET，PUT，DELETE可以提供CRUD功能（创建，获取，更新，删除）。</p>\n<ul>\n<li><strong>获取</strong>：使用GET方法获取资源。GET请求从不改变资源的状态。无副作用。GET方法是幂等的。GET方法具有只读的含义。因此，你可以完美的使用缓存。</li>\n<li><strong>创建</strong>：使用POST创建新的资源。</li>\n<li><strong>更新</strong>：使用PUT更新现有资源。</li>\n<li><strong>删除</strong>：使用DELETE删除现有资源。</li>\n</ul>\n<p>2个URL乘以4个HTTP方法就是一组很好的功能。看看这个表格：</p>\n<p>POST（创建）GET（读取）PUT（更新）DELETE（删除）</p>\n<table>\n<thead></thead>\n<tbody>\n<tr>\n<td>/employees</td>\n<td>创建一个新员工</td>\n<td>列出所有员工</td>\n<td>批量更新员工信息</td>\n<td>删除所有员工</td>\n</tr>\n<tr>\n<td>/employees/56</td>\n<td>（错误）</td>\n<td>获取56号员工的信息</td>\n<td>更新56号员工的信息</td>\n<td>删除56号员工</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"-url-post-\">对资源集合的URL使用POST方法，创建新资源</h3>\n<p>创建一个新资源的时，客户端与服务器是怎么交互的呢？ <img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/111c86eac0b74ede93ae079af7a44289.png\" alt=\"\"></p>\n<p style=\"text-align: center\">在资源集合URL上使用POST来创建新的资源过程</p>\n<ol>\n<li>客户端向资源集合URL<code>/employees</code>发送POST请求。HTTP body 包含新资源的属性 “Albert Stark”。</li>\n<li>RESTful Web服务器为新员工生成ID，在其内部模型中创建员工，并向客户端发送响应。这个响应的HTTP头部包含一个Location字段，指示创建资源可访问的URL。</li>\n</ol>\n<h3 id=\"-url-put-\">对具体资源的URL使用PUT方法，来更新资源</h3>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/5c019a4c307827b6235fd0c13da17421.png\" alt=\"\"></p>\n<p style=\"text-align: center\">使用PUT更新已有资源</p>\n<ol>\n<li>客户端向具体资源的URL发送PUT请求<code>/employee/21</code>。请求的HTTP body中包含要更新的属性值（21号员工的新名称“Bruce Wayne”）。</li>\n<li>REST服务器更新ID为21的员工名称，并使用HTTP状态码200表示更改成功。</li>\n</ol>\n<h3 id=\"-\">推荐用复数名词</h3>\n<p>推荐：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9504c833425387\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/employees\r\n/employees/21\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9504c833425387-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9504c833425387-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9504c833425387-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9504c833425387-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9504c833425387-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">21</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9504c833425387-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>不推荐：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95052191563305\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/employee\r\n/employee/21\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95052191563305-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95052191563305-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95052191563305-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95052191563305-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employee</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95052191563305-2\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employee</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">21</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95052191563305-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>事实上，这是个人爱好问题，但复数形式更为常见。此外，在资源集合URL上用GET方法，它更直观，特别是<code>GET /employees?state=external</code>、<code>POST /employees</code>、<code>PUT /employees/56</code>。但最重要的是：避免复数和单数名词混合使用，这显得非常混乱且容易出错。</p>\n<h3 id=\"-\">对可选的、复杂的参数，使用查询字符串（？）。</h3>\n<p>不推荐做法：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95057429471398\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees\r\nGET /externalEmployees\r\nGET /internalEmployees\r\nGET /internalAndSeniorEmployees\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95057429471398-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95057429471398-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95057429471398-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95057429471398-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95057429471398-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95057429471398-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">employees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95057429471398-2\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">externalEmployees</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95057429471398-3\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">internalEmployees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95057429471398-4\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">internalAndSeniorEmployees</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95057429471398-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p>为了让你的URL更小、更简洁。为资源设置一个基本URL，将可选的、复杂的参数用查询字符串表示。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9505c447620457\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees?state=internal&amp;maturity=senior\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9505c447620457-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9505c447620457-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9505c447620457-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">state</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">internal</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">maturity</span><span class=\"crayon-o\">=</span><span class=\"crayon-i\">senior</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9505c447620457-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"-http-\">使用HTTP状态码</h3>\n<p>RESTful Web服务应使用合适的HTTP状态码来响应客户端请求</p>\n<ul>\n<li>2xx – 成功 – 一切都很好</li>\n<li>4xx – 客户端错误 – 如果客户端发生错误（例如客户端发送无效请求或未被授权）</li>\n<li>5xx – 服务器错误 – 如果服务器发生错误（例如，尝试处理请求时出错） 参考<a href=\"https://en.wikipedia.org/wiki/List_of_HTTP_status_codes\">维基百科上的HTTP状态代码</a>。但是，其中的大部分HTTP状态码都不会被用到，只会用其中的一小部分。通常会用到一下几个：2xx：成功3xx：重定向4xx：客户端错误5xx：服务器错误<br>\n<table>\n<thead></thead>\n<tbody>\n<tr>\n<td>200 成功</td>\n<td>301 永久重定向</td>\n<td>400 错误请求</td>\n<td>500 内部服务器错误</td>\n</tr>\n<tr>\n<td>201 创建</td>\n<td>304 资源未修改</td>\n<td>401未授权</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>403 禁止</td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td>404 未找到</td>\n<td></td>\n</tr>\n</tbody>\n</table>\n</li>\n</ul>\n<h3 id=\"-\">返回有用的错误提示</h3>\n<p>除了合适的状态码之外，还应该在HTTP响应正文中提供有用的错误提示和详细的描述。这是一个例子。 请求：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95066515836821\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees?state=super\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95066515836821-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95066515836821-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95066515836821-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">state</span><span class=\"crayon-o\">=</span><span class=\"crayon-r\">super</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95066515836821-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>响应：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9506b773407006\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n// 400 Bad Request\r\n{\r\n    \"message\": \"You submitted an invalid state. Valid state values are 'internal' or 'external'\",\r\n    \"errorCode\": 352,\r\n    \"additionalInformation\" : \r\n    \"http://www.domain.com/rest/errorcode/352\"\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9506b773407006-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9506b773407006-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9506b773407006-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9506b773407006-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9506b773407006-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9506b773407006-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9506b773407006-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9506b773407006-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9506b773407006-1\"><span class=\"crayon-c\">// 400 Bad Request</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9506b773407006-2\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9506b773407006-3\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"message\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"You submitted an invalid state. Valid state values are 'internal' or 'external'\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9506b773407006-4\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"errorCode\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">352</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9506b773407006-5\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"additionalInformation\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9506b773407006-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-s\">\"http://www.domain.com/rest/errorcode/352\"</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9506b773407006-7\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9506b773407006-8\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<h3 id=\"-\">使用小驼峰命名法</h3>\n<p>使用小驼峰命名法作为属性标识符。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95070406685100\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n{ \"yearOfBirth\": 1982 }\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95070406685100-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95070406685100-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95070406685100-1\"><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"yearOfBirth\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1982</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95070406685100-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>不要使用下划线（<code>year_of_birth</code>）或大驼峰命名法（<code>YearOfBirth</code>）。通常，RESTful Web服务将被JavaScript编写的客户端使用。客户端会将JSON响应转换为JavaScript对象（通过调用<code>var person = JSON.parse(response)</code>），然后调用其属性。因此，最好遵循JavaScript代码通用规范。<br>\n对比：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95073888548079\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nperson.year_of_birth // 不推荐，违反JavaScript代码通用规范\r\nperson.YearOfBirth // 不推荐，JavaScript构造方法命名\r\nperson.yearOfBirth // 推荐\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95073888548079-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95073888548079-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95073888548079-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95073888548079-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95073888548079-1\"><span class=\"crayon-v\">person</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">year_of_birth</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 不推荐，违反JavaScript代码通用规范</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95073888548079-2\"><span class=\"crayon-v\">person</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">YearOfBirth</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 不推荐，JavaScript构造方法命名</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95073888548079-3\"><span class=\"crayon-v\">person</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">yearOfBirth</span><span class=\"crayon-h\"> </span><span class=\"crayon-c\">// 推荐</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95073888548079-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h3 id=\"-url-\">在URL中强制加入版本号</h3>\n<p>从始至终，都使用版本号发布您的RESTful API。将版本号放在URL中以是必需的。如果您有不兼容和破坏性的更改，版本号将让你能更容易的发布API。发布新API时，只需在增加版本号中的数字。这样的话，客户端可以自如的迁移到新API，不会因调用完全不同的新API而陷入困境。<br>\n使用直观的 “v” 前缀来表示后面的数字是版本号。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95077846856207\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/v1/employees\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95077846856207-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95077846856207-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95077846856207-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">v1</span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">employees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95077846856207-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>你不需要使用次级版本号（“v1.2”），因为你不应该频繁的去发布API版本。</p>\n<h3 id=\"-\">提供分页信息</h3>\n<p>一次性返回数据库所有资源不是一个好主意。因此，需要提供分页机制。通常使用数据库中众所周知的参数offset和limit。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9507a342006447\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/employees?offset=30&amp;limit=15       #返回30 到 45的员工\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9507a342006447-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9507a342006447-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9507a342006447-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">offset</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">30</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">limit</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">15</span><span class=\"crayon-h\">       </span><span class=\"crayon-p\">#返回30 到 45的员工</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9507a342006447-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>如果客户端没有传这些参数，则应使用默认值。通常默认值是<code>offset = 0</code>和<code>limit = 10</code>。如果数据库检索很慢，应当减小<code>limit</code>值。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9507d554361767\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/employees       #返回0 到 10的员工\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9507d554361767-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9507d554361767-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9507d554361767-1\"><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-h\">       </span><span class=\"crayon-p\">#返回0 到 10的员工</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9507d554361767-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>此外，如果您使用分页，客户端需要知道资源总数。例： 请求：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95083552330617\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95083552330617-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95083552330617-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95083552330617-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-i\">employees</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95083552330617-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>响应：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95086818744619\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n{\r\n  \"offset\": 0,\r\n  \"limit\": 10,\r\n  \"total\": 3465,\r\n  \"employees\": [\r\n    //...\r\n  ]\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95086818744619-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95086818744619-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95086818744619-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95086818744619-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95086818744619-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95086818744619-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95086818744619-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95086818744619-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95086818744619-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95086818744619-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95086818744619-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"offset\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95086818744619-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"limit\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95086818744619-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"total\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3465</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95086818744619-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"employees\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95086818744619-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">//...</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95086818744619-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95086818744619-8\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95086818744619-9\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<h3 id=\"-\">非资源请求用动词</h3>\n<p>有时API调用并不涉及资源（如计算，翻译或转换）。例：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95089872273834\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /translate?from=de_DE&amp;to=en_US&amp;text=Hallo\r\nGET /calculate?para2=23&amp;para2=432\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95089872273834-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95089872273834-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95089872273834-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95089872273834-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">translate</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">from</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">de_DE</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-st\">to</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">en_US</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">text</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">Hallo</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95089872273834-2\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">calculate</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">para2</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">23</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">para2</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">432</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95089872273834-3\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p>在这种情况下，API响应不会返回任何资源。而是执行一个操作并将结果返回给客户端。因此，您应该在URL中使用动词而不是名词，来清楚的区分资源请求和非资源请求。</p>\n<h3 id=\"-\">考虑特定资源搜索和跨资源搜索</h3>\n<p>提供对特定资源的搜索很容易。只需使用相应的资源集合URL，并将搜索字符串附加到查询参数中即可。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9508d684965322\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees?query=Paul\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9508d684965322-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9508d684965322-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9508d684965322-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">query</span><span class=\"crayon-o\">=</span><span class=\"crayon-i\">Paul</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9508d684965322-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p>如果要对所有资源提供全局搜索，则需要用其他方法。前文提到，对于非资源请求URL，使用动词而不是名词。因此，您的搜索网址可能如下所示：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95090657716935\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /search?query=Paul   //返回 employees, customers, suppliers 等等.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95090657716935-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95090657716935-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95090657716935-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">search</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">query</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">Paul</span><span class=\"crayon-h\">   </span><span class=\"crayon-c\">//返回 employees, customers, suppliers 等等.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95090657716935-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3 id=\"-api-\">在响应参数中添加浏览其它API的链接</h3>\n<p>理想情况下，不会让客户端自己构造使用REST API的URL。让我们思考一个例子。 客户端想要访问员工的薪酬表。为此，他必须知道他可以通过在员工URL（例如<code>/employees/21/salaryStatements</code>）中附加字符串“salaryStatements”来访问薪酬表。这个字符串连接很容易出错，且难以维护。如果你更改了访问薪水表的REST API的方式（例如变成了<code>/employees/21/salary-statement</code>或<code>/employees/21/paySlips</code>），所有客户端都将中断。 更好的方案是在响应参数中添加一个<code>links</code>字段，让客户端可以自动变更。<br>\n请求：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95093926003549\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees/\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95093926003549-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95093926003549-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95093926003549-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-o\">/</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95093926003549-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>响应：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b95096324790364\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n//...\r\n   {\r\n      \"id\":1,\r\n      \"name\":\"Paul\",\r\n      \"links\": [\r\n         {\r\n            \"rel\": \"salary\",\r\n            \"href\": \"/employees/1/salaryStatements\"\r\n         }\r\n      ]\r\n   },\r\n//...\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95096324790364-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95096324790364-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95096324790364-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95096324790364-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95096324790364-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b95096324790364-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b95096324790364-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-1\"><span class=\"crayon-c\">//...</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95096324790364-2\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-3\"><span class=\"crayon-h\">      </span><span class=\"crayon-s\">\"id\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95096324790364-4\"><span class=\"crayon-h\">      </span><span class=\"crayon-s\">\"name\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-s\">\"Paul\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-5\"><span class=\"crayon-h\">      </span><span class=\"crayon-s\">\"links\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95096324790364-6\"><span class=\"crayon-h\">         </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-7\"><span class=\"crayon-h\">            </span><span class=\"crayon-s\">\"rel\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"salary\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95096324790364-8\"><span class=\"crayon-h\">            </span><span class=\"crayon-s\">\"href\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"/employees/1/salaryStatements\"</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-9\"><span class=\"crayon-h\">         </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95096324790364-10\"><span class=\"crayon-h\">      </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-11\"><span class=\"crayon-h\">   </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b95096324790364-12\"><span class=\"crayon-c\">//...</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b95096324790364-13\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0010 seconds] -->\r\n<p>如果客户端完全依靠<code>links</code>中的字段获得薪资表，你更改了API，客户端将始终获得一个有效的URL（只要你更改了<code>link</code>字段，请求的URL会自动更改），不会中断。另一个好处是，你的API变得可以自我描述，需要写的文档更少。<br>\n在分页时，您还可以添加获取下一页或上一页的链接示例。只需提供适当的偏移和限制的链接示例。</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9509a783627173\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nGET /employees?offset=20&amp;limit=10\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509a783627173-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509a783627173-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9509a783627173-1\"><span class=\"crayon-v\">GET</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">employees</span><span class=\"crayon-sy\">?</span><span class=\"crayon-v\">offset</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">20</span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-v\">limit</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509a783627173-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f53e3b9509d844205828\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n{\r\n  \"offset\": 20,\r\n  \"limit\": 10,\r\n  \"total\": 3465,\r\n  \"employees\": [\r\n    //...\r\n  ],\r\n  \"links\": [\r\n     {\r\n        \"rel\": \"nextPage\",\r\n        \"href\": \"/employees?offset=30&amp;limit=10\"\r\n     },\r\n     {\r\n        \"rel\": \"previousPage\",\r\n        \"href\": \"/employees?offset=10&amp;limit=10\"\r\n     }\r\n  ]\r\n}\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f53e3b9509d844205828-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f53e3b9509d844205828-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-1\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"offset\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">20</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"limit\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-4\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"total\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3465</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-5\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"employees\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-6\"><span class=\"crayon-h\">    </span><span class=\"crayon-c\">//...</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-8\"><span class=\"crayon-h\">  </span><span class=\"crayon-s\">\"links\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-9\"><span class=\"crayon-h\">     </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-10\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"rel\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"nextPage\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-11\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"href\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"/employees?offset=30&amp;limit=10\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-12\"><span class=\"crayon-h\">     </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-13\"><span class=\"crayon-h\">     </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-14\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"rel\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"previousPage\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-15\"><span class=\"crayon-h\">        </span><span class=\"crayon-s\">\"href\"</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"/employees?offset=10&amp;limit=10\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-16\"><span class=\"crayon-h\">     </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-17\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">]</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f53e3b9509d844205828-18\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59f53e3b9509d844205828-19\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p></p>\n<h3 id=\"-\">相关阅读</h3>\n<ul>\n<li>作者写的一篇关于在<a href=\"https://blog.philipphauer.de/testing-restful-services-java-best-practices/\">Java中测试RESTful服务的最佳实践</a>的文章。</li>\n<li>作者强烈推荐一本书<a href=\"https://pages.apigee.com/rs/apigee/images/api-design-ebook-2012-03.pdf\">Brain Mulloy’s nice paper</a>，作为这篇文章的基础。</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112710\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112710votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112710\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 6 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，restful", "front_image_path": "full/947d74929f5809c543dc9539bb00815a461c9e7c.jpg"}
{"title": "如何让 Vim 成为我们的神器", "url": "http://blog.jobbole.com/112726/", "url_object_id": "b63f0e37d6ad2afe0c8f7bd7208167ab", "create_date": "2017/10/19", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2012/04/vim-logo.png"], "praise_nums": "4", "fav_nums": 16, "comment_nums": 3, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://segmentfault.com/a/1190000011466454\">枫上雾棋</a>   </div><blockquote><p><img src=\"https://segmentfault.com/img/bVWhNF?w=1920&amp;h=1080\"><code>Vim</code> 是一个上古神器，本篇文章主要 <code>持续总结</code> 使用 <code>Vim</code> 的过程中不得不了解的一些 <code>指令</code> 和 <code>注意事项</code>，以及 <code>持续分享</code> 一个 <code>前端工作者</code> 不得不安装的一些 <code>插件</code>，而关于 <code>Vim</code> 的简介，<code>主题</code> 的选择，以及为何使用 <code>vim-plug</code> 来管理插件等内容，有兴趣的同学下来可以自己了解和对比下</p></blockquote>\n<h1>安装</h1>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b262608361211\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsudo apt-get install vim  // Ubuntu</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b262608361211-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b262608361211-1\"><span class=\"crayon-e\">sudo </span><span class=\"crayon-v\">apt</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">get </span><span class=\"crayon-e\">install </span><span class=\"crayon-v\">vim</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// Ubuntu</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p>其他平台，可以自行谷歌</p>\n<h1>新手指南</h1>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b26c990455591\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nvimtutor  // vim 教程</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b26c990455591-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b26c990455591-1\"><span class=\"crayon-v\">vimtutor</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// vim 教程</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p>上面是史上最简单，最全面的 <code>Vim</code> 基础教程，至今无人超越</p>\n<p>下面是作者基于上面的归纳</p>\n<h2><code>移动光标</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b270497356814\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# hjkl\r\n# 2w 向前移动两个单词\r\n# 3e 向前移动到第 3 个单词的末尾\r\n# 0 移动到行首\r\n# $ 当前行的末尾\r\n# gg 文件第一行\r\n# G 文件最后一行\r\n# 行号+G 指定行\r\n# &lt;ctrl&gt;+o 跳转回之前的位置\r\n# &lt;ctrl&gt;+i 返回跳转之前的位置</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b270497356814-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b270497356814-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b270497356814-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b270497356814-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b270497356814-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b270497356814-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b270497356814-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b270497356814-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b270497356814-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b270497356814-10\">10</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b270497356814-1\"><span class=\"crayon-p\"># hjkl</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b270497356814-2\"><span class=\"crayon-p\"># 2w 向前移动两个单词</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b270497356814-3\"><span class=\"crayon-p\"># 3e 向前移动到第 3 个单词的末尾</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b270497356814-4\"><span class=\"crayon-p\"># 0 移动到行首</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b270497356814-5\"><span class=\"crayon-p\"># $ 当前行的末尾</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b270497356814-6\"><span class=\"crayon-p\"># gg 文件第一行</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b270497356814-7\"><span class=\"crayon-p\"># G 文件最后一行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b270497356814-8\"><span class=\"crayon-p\"># 行号+G 指定行</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b270497356814-9\"><span class=\"crayon-p\"># &lt;ctrl&gt;+o 跳转回之前的位置</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b270497356814-10\"><span class=\"crayon-p\"># &lt;ctrl&gt;+i 返回跳转之前的位置</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h2><code>退出</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b275501139962\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# &lt;esc&gt; 进入正常模式\r\n# :q! 不保存退出\r\n# :wq 保存后退出</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b275501139962-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b275501139962-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b275501139962-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b275501139962-1\"><span class=\"crayon-p\"># &lt;esc&gt; 进入正常模式</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b275501139962-2\"><span class=\"crayon-p\"># :q! 不保存退出</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b275501139962-3\"><span class=\"crayon-p\"># :wq 保存后退出</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h2><code>删除</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b279012104134\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# x 删除当前字符\r\n# dw 删除至当前单词末尾\r\n# de 删除至当前单词末尾，包括当前字符\r\n# d$ 删除至当前行尾\r\n# dd 删除整行\r\n# 2dd 删除两行</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b279012104134-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b279012104134-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b279012104134-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b279012104134-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b279012104134-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b279012104134-6\">6</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b279012104134-1\"><span class=\"crayon-p\"># x 删除当前字符</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b279012104134-2\"><span class=\"crayon-p\"># dw 删除至当前单词末尾</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b279012104134-3\"><span class=\"crayon-p\"># de 删除至当前单词末尾，包括当前字符</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b279012104134-4\"><span class=\"crayon-p\"># d$ 删除至当前行尾</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b279012104134-5\"><span class=\"crayon-p\"># dd 删除整行</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b279012104134-6\"><span class=\"crayon-p\"># 2dd 删除两行</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h2><code>修改</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b27d051336553\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# i 插入文本\r\n# A 当前行末尾添加\r\n# r 替换当前字符\r\n# o 打开新的一行并进入插入模式</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b27d051336553-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b27d051336553-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b27d051336553-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b27d051336553-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b27d051336553-1\"><span class=\"crayon-p\"># i 插入文本</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b27d051336553-2\"><span class=\"crayon-p\"># A 当前行末尾添加</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b27d051336553-3\"><span class=\"crayon-p\"># r 替换当前字符</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b27d051336553-4\"><span class=\"crayon-p\"># o 打开新的一行并进入插入模式</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h2><code>撤销</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b280076589934\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# u 撤销\r\n# &lt;ctrl&gt;+r 取消撤销</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b280076589934-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b280076589934-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b280076589934-1\"><span class=\"crayon-p\"># u 撤销</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b280076589934-2\"><span class=\"crayon-p\"># &lt;ctrl&gt;+r 取消撤销</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h2><code>复制粘贴剪切</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b283082284680\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# v 进入可视模式\r\n# y 复制\r\n# p 粘贴\r\n# yy 复制当前行\r\n# dd 剪切当前行</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b283082284680-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b283082284680-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b283082284680-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b283082284680-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b283082284680-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b283082284680-1\"><span class=\"crayon-p\"># v 进入可视模式</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b283082284680-2\"><span class=\"crayon-p\"># y 复制</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b283082284680-3\"><span class=\"crayon-p\"># p 粘贴</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b283082284680-4\"><span class=\"crayon-p\"># yy 复制当前行</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b283082284680-5\"><span class=\"crayon-p\"># dd 剪切当前行</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h2><code>状态</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b286515856919\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# &lt;ctrl&gt;+g 显示当前行以及文件信息</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b286515856919-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b286515856919-1\"><span class=\"crayon-p\"># &lt;ctrl&gt;+g 显示当前行以及文件信息</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h2><code>查找</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b289018277427\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# / 正向查找（n：继续查找，N：相反方向继续查找）\r\n# ？ 逆向查找\r\n# % 查找配对的 {，[，(\r\n# :set ic 忽略大小写\r\n# :set noic 取消忽略大小写\r\n# :set hls 匹配项高亮显示\r\n# :set is 显示部分匹配</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b289018277427-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b289018277427-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b289018277427-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b289018277427-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b289018277427-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b289018277427-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b289018277427-7\">7</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b289018277427-1\"><span class=\"crayon-p\"># / 正向查找（n：继续查找，N：相反方向继续查找）</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b289018277427-2\"><span class=\"crayon-p\"># ？ 逆向查找</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b289018277427-3\"><span class=\"crayon-p\"># % 查找配对的 {，[，(</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b289018277427-4\"><span class=\"crayon-p\"># :set ic 忽略大小写</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b289018277427-5\"><span class=\"crayon-p\"># :set noic 取消忽略大小写</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b289018277427-6\"><span class=\"crayon-p\"># :set hls 匹配项高亮显示</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b289018277427-7\"><span class=\"crayon-p\"># :set is 显示部分匹配</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h2><code>替换</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b28d261083327\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# :s/old/new 替换该行第一个匹配串\r\n# :s/old/new/g 替换全行的匹配串\r\n# :%s/old/new/g 替换整个文件的匹配串</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b28d261083327-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b28d261083327-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b28d261083327-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b28d261083327-1\"><span class=\"crayon-p\"># :s/old/new 替换该行第一个匹配串</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b28d261083327-2\"><span class=\"crayon-p\"># :s/old/new/g 替换全行的匹配串</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b28d261083327-3\"><span class=\"crayon-p\"># :%s/old/new/g 替换整个文件的匹配串</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h2><code>执行外部命令</code></h2>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b290641580120\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# :!shell 执行外部命令</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b290641580120-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b290641580120-1\"><span class=\"crayon-p\"># :!shell 执行外部命令</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h1>.vimrc</h1>\n<p><code>.vimrc</code> 是 <code>Vim</code> 的配置文件，需要我们自己创建</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b293202831523\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ncd Home               // 进入 Home 目录\r\ntouch .vimrc          // 配置文件\r\n\r\n# Unix\r\n# vim-plug\r\n# Vim\r\ncurl -fLo ~/.vim/autoload/plug.vim --create-dirs \\\r\n    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim\r\n# Neovim\r\ncurl -fLo ~/.local/share/nvim/site/autoload/plug.vim --create-dirs \\\r\n    https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b293202831523-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b293202831523-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b293202831523-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b293202831523-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b293202831523-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b293202831523-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b293202831523-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b293202831523-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b293202831523-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b293202831523-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b293202831523-11\">11</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b293202831523-1\"><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">Home</span><span class=\"crayon-h\">               </span><span class=\"crayon-c\">// 进入 Home 目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b293202831523-2\"><span class=\"crayon-i\">touch</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">vimrc</span><span class=\"crayon-h\">          </span><span class=\"crayon-c\">// 配置文件</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b293202831523-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b293202831523-4\"><span class=\"crayon-p\"># Unix</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b293202831523-5\"><span class=\"crayon-p\"># vim-plug</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b293202831523-6\"><span class=\"crayon-p\"># Vim</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b293202831523-7\"><span class=\"crayon-v\">curl</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fLo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">vim</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">autoload</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">plug</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">create</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">dirs</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b293202831523-8\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b293202831523-9\"><span class=\"crayon-p\"># Neovim</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b293202831523-10\"><span class=\"crayon-v\">curl</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">fLo</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">~</span><span class=\"crayon-o\">/</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">share</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">nvim</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">site</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">autoload</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">plug</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">vim</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">create</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">dirs</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">\\</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b293202831523-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0017 seconds] -->\r\n<p>其他平台，可以查看 <a href=\"https://github.com/junegunn/vim-plug\">vim-plug</a></p>\n<h2>基本配置</h2>\n<h3><code>取消备份</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b297096277131\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset nobackup\r\nset noswapfile</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b297096277131-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b297096277131-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b297096277131-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-e\">nobackup</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b297096277131-2\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">noswapfile</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>文件编码</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b29a805529151\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset encoding=utf-8</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b29a805529151-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b29a805529151-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">encoding</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">utf</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">8</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3><code>显示行号</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b29d168826571\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset number</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b29d168826571-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b29d168826571-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">number</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>取消换行</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2a0349176928\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset nowrap</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2a0349176928-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2a0349176928-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">nowrap</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>显示光标当前位置</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2a3463388623\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset ruler</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2a3463388623-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2a3463388623-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">ruler</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>设置缩进</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2a8306881278\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset cindent\r\n\r\nset tabstop=2\r\nset shiftwidth=2</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2a8306881278-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2a8306881278-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2a8306881278-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2a8306881278-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2a8306881278-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-e\">cindent</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2a8306881278-2\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2a8306881278-3\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">tabstop</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">2</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2a8306881278-4\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">shiftwidth</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">2</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n<p></p>\n<h3><code>突出显示当前行</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2ac728361401\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset cursorline</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2ac728361401-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2ac728361401-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">cursorline</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>查找</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2af490819930\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset ic\r\nset hls\r\nset is</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2af490819930-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2af490819930-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2af490819930-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2af490819930-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-e\">ic</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2af490819930-2\"><span class=\"crayon-e\">set </span><span class=\"crayon-e\">hls</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2af490819930-3\"><span class=\"crayon-e\">set </span><span class=\"crayon-st\">is</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<h3><code>左下角显示当前 vim 模式</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2b2773916993\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nset showmode</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2b2773916993-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2b2773916993-1\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">showmode</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>代码折叠</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2b5170151063\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# 启动 vim 时关闭折叠代码\r\nset nofoldenable</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2b5170151063-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2b5170151063-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2b5170151063-1\"><span class=\"crayon-p\"># 启动 vim 时关闭折叠代码</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2b5170151063-2\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">nofoldenable</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<h3><code>主题</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2b8361503359\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsyntax enable\r\nset background=dark\r\ncolorscheme solarized</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2b8361503359-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2b8361503359-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2b8361503359-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2b8361503359-1\"><span class=\"crayon-e\">syntax </span><span class=\"crayon-e\">enable</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2b8361503359-2\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">background</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">dark</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2b8361503359-3\"><span class=\"crayon-e\">colorscheme </span><span class=\"crayon-v\">solarized</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/altercation/vim-colors-solarized\">altercation/vim-colors-solarized</a></li>\n<li><a href=\"https://github.com/Anthony25/gnome-terminal-colors-solarized\">Anthony25/gnome-terminal-colors-solarized</a></li>\n</ul>\n<h2>插件配置</h2>\n<h3><code>树形目录</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2bb751816629\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'scrooloose/nerdtree'\r\nPlug 'jistr/vim-nerdtree-tabs'\r\nPlug 'Xuyuanp/nerdtree-git-plugin'\r\n\r\nautocmd vimenter * NERDTree\r\nmap &lt;C-n&gt; :NERDTreeToggle &lt;CR&gt;\r\nlet NERDTreeShowHidden=1\r\nlet g:NERDTreeShowIgnoredStatus = 1\r\nlet g:nerdtree_tabs_open_on_console_startup=1\r\nlet g:NERDTreeIndicatorMapCustom = {\r\n    \\ \"Modified\"  : \"✹\",\r\n    \\ \"Staged\"    : \"✚\",\r\n    \\ \"Untracked\" : \"✭\",\r\n    \\ \"Renamed\"   : \"➜\",\r\n    \\ \"Unmerged\"  : \"═\",\r\n    \\ \"Deleted\"   : \"✖\",\r\n    \\ \"Dirty\"     : \"✗\",\r\n    \\ \"Clean\"     : \"✔︎\",\r\n    \\ 'Ignored'   : '☒',\r\n    \\ \"Unknown\"   : \"?\"\r\n    \\ }\r\n\r\n# o 打开关闭文件或目录\r\n# e 以文件管理的方式打开选中的目录\r\n# t 在标签页中打开\r\n# T 在标签页中打开，但光标仍然留在 NERDTree\r\n# r 刷新光标所在的目录\r\n# R 刷新当前根路径\r\n# X 收起所有目录\r\n# p 小写，跳转到光标所在的上一级路径\r\n# P 大写，跳转到当前根路径\r\n# J 到第一个节点\r\n# K 到最后一个节点\r\n# I 显示隐藏文件\r\n# m 显示文件操作菜单\r\n# C 将根路径设置为光标所在的目录\r\n# u 设置上级目录为根路径\r\n# ctrl + w + w 光标自动在左右侧窗口切换\r\n# ctrl + w + r 移动当前窗口的布局位置\r\n# :tabc 关闭当前的 tab\r\n# :tabo   关闭所有其他的 tab\r\n# :tabp   前一个 tab\r\n# :tabn   后一个 tab\r\n# gT      前一个 tab\r\n# gt      后一个 tab</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bb751816629-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bb751816629-45\">45</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'scrooloose/nerdtree'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'jistr/vim-nerdtree-tabs'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-3\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Xuyuanp/nerdtree-git-plugin'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-4\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-5\"><span class=\"crayon-e\">autocmd </span><span class=\"crayon-e \">vimenter *</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">NERDTree</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-6\"><span class=\"crayon-v\">map</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">C</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">n</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">NERDTreeToggle</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">CR</span><span class=\"crayon-o\">&gt;</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-7\"><span class=\"crayon-e\">let </span><span class=\"crayon-v\">NERDTreeShowHidden</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-8\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">NERDTreeShowIgnoredStatus</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-9\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">nerdtree_tabs_open_on_console_startup</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-10\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">NERDTreeIndicatorMapCustom</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-11\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Modified\"</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"✹\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-12\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Staged\"</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"✚\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-13\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Untracked\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"✭\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-14\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Renamed\"</span><span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"➜\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-15\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Unmerged\"</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"═\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-16\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Deleted\"</span><span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"✖\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Dirty\"</span><span class=\"crayon-h\">     </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"✗\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-18\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Clean\"</span><span class=\"crayon-h\">     </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"✔︎\"</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-19\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Ignored'</span><span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'☒'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-20\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Unknown\"</span><span class=\"crayon-h\">   </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"?\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-22\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-23\"><span class=\"crayon-p\"># o 打开关闭文件或目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-24\"><span class=\"crayon-p\"># e 以文件管理的方式打开选中的目录</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-25\"><span class=\"crayon-p\"># t 在标签页中打开</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-26\"><span class=\"crayon-p\"># T 在标签页中打开，但光标仍然留在 NERDTree</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-27\"><span class=\"crayon-p\"># r 刷新光标所在的目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-28\"><span class=\"crayon-p\"># R 刷新当前根路径</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-29\"><span class=\"crayon-p\"># X 收起所有目录</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-30\"><span class=\"crayon-p\"># p 小写，跳转到光标所在的上一级路径</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-31\"><span class=\"crayon-p\"># P 大写，跳转到当前根路径</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-32\"><span class=\"crayon-p\"># J 到第一个节点</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-33\"><span class=\"crayon-p\"># K 到最后一个节点</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-34\"><span class=\"crayon-p\"># I 显示隐藏文件</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-35\"><span class=\"crayon-p\"># m 显示文件操作菜单</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-36\"><span class=\"crayon-p\"># C 将根路径设置为光标所在的目录</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-37\"><span class=\"crayon-p\"># u 设置上级目录为根路径</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-38\"><span class=\"crayon-p\"># ctrl + w + w 光标自动在左右侧窗口切换</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-39\"><span class=\"crayon-p\"># ctrl + w + r 移动当前窗口的布局位置</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-40\"><span class=\"crayon-p\"># :tabc 关闭当前的 tab</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-41\"><span class=\"crayon-p\"># :tabo   关闭所有其他的 tab</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-42\"><span class=\"crayon-p\"># :tabp   前一个 tab</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-43\"><span class=\"crayon-p\"># :tabn   后一个 tab</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bb751816629-44\"><span class=\"crayon-p\"># gT      前一个 tab</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bb751816629-45\"><span class=\"crayon-p\"># gt      后一个 tab</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0040 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/scrooloose/nerdtree\">scrooloose/nerdtree</a></li>\n<li><a href=\"https://github.com/jistr/vim-nerdtree-tabs\">vim-nerdtree-tabs</a></li>\n<li><a href=\"https://github.com/Xuyuanp/nerdtree-git-plugin\">nerdtree-git-plugin</a></li>\n</ul>\n<h3><code>代码，引号，路径补全</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2bf233232658\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'Valloric/YouCompleteMe'\r\nPlug 'Raimondi/delimitMate'\r\nPlug 'Shougo/deoplete.nvim', { 'do': ':UpdateRemotePlugins' }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bf233232658-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2bf233232658-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2bf233232658-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2bf233232658-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Valloric/YouCompleteMe'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2bf233232658-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Raimondi/delimitMate'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2bf233232658-3\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'Shougo/deoplete.nvim'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'do'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">':UpdateRemotePlugins'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/Valloric/YouCompleteMe\">Valloric/YouCompleteMe</a></li>\n<li><a href=\"https://github.com/Raimondi/delimitMate\">Raimondi/delimitMate</a></li>\n<li><a href=\"https://github.com/Shougo/deoplete.nvim\">Shougo/deoplete.nvim</a></li>\n</ul>\n<h3><code>语法高亮，检查</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2c3716040517\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'sheerun/vim-polyglot'\r\nPlug 'w0rp/ale'\r\n\r\nlet g:ale_linters = {\r\n\\    'javascript': ['eslint'],\r\n\\    'css': ['stylelint'],\r\n\\}\r\nlet g:ale_fixers = {\r\n\\    'javascript': ['eslint'],\r\n\\    'css': ['stylelint'],\r\n\\}\r\nlet g:ale_fix_on_save = 1\r\n\r\nlet g:ale_sign_column_always = 1\r\nlet g:ale_sign_error = '●'\r\nlet g:ale_sign_warning = '▶'\r\n\r\nnmap &lt;silent&gt; &lt;C-k&gt; &lt;Plug&gt;(ale_previous_wrap)\r\nnmap &lt;silent&gt; &lt;C-j&gt; &lt;Plug&gt;(ale_next_wrap)</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c3716040517-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c3716040517-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'sheerun/vim-polyglot'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'w0rp/ale'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-4\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">ale_linters</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-5\"><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\">    </span><span class=\"crayon-s\">'javascript'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'eslint'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-6\"><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\">    </span><span class=\"crayon-s\">'css'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'stylelint'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-7\"><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-8\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">ale_fixers</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-9\"><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\">    </span><span class=\"crayon-s\">'javascript'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'eslint'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-10\"><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\">    </span><span class=\"crayon-s\">'css'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'stylelint'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-11\"><span class=\"crayon-sy\">\\</span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-12\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">ale_fix_on_save</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-14\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">ale_sign_column_always</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-15\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">ale_sign_error</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'●'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-16\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">ale_sign_warning</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'▶'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-17\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c3716040517-18\"><span class=\"crayon-v\">nmap</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">silent</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">C</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">k</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Plug</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ale_previous_wrap</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2c3716040517-19\"><span class=\"crayon-v\">nmap</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">silent</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">C</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">j</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-v\">Plug</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ale_next_wrap</span><span class=\"crayon-sy\">)</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0030 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/w0rp/ale\">w0rp/ale</a></li>\n<li><a href=\"https://github.com/sheerun/vim-polyglot\">sheerun/vim-polyglot</a></li>\n</ul>\n<h3><code>文件，代码搜索</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2c7256596673\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'rking/ag.vim'\r\nPlug 'kien/ctrlp.vim'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2c7256596673-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2c7256596673-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2c7256596673-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'rking/ag.vim'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2c7256596673-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'kien/ctrlp.vim'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/kien/ctrlp.vim\">kien/ctrlp.vim</a></li>\n<li><a href=\"https://github.com/ggreer/the_silver_searcher\">ggreer/the_silver_searcher</a></li>\n<li><a href=\"https://github.com/rking/ag.vim\">rking/ag.vim</a></li>\n</ul>\n<h3><code>加强版状态栏</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2cc273370408\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'vim-airline/vim-airline'\r\nPlug 'vim-airline/vim-airline-themes'\r\n\r\nlet g:airline_theme='papercolor'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2cc273370408-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2cc273370408-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2cc273370408-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2cc273370408-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2cc273370408-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'vim-airline/vim-airline'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2cc273370408-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'vim-airline/vim-airline-themes'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2cc273370408-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2cc273370408-4\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">airline_theme</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'papercolor'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/vim-airline/vim-airline\">vim-airline/vim-airline</a></li>\n<li><a href=\"https://github.com/vim-airline/vim-airline-themes\">vim-airline/vim-airline-themes</a></li>\n</ul>\n<h3><code>代码注释</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2d0764620750\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'scrooloose/nerdcommenter'\r\n\r\n# &lt;leader&gt;cc // 注释\r\n# &lt;leader&gt;cm 只用一组符号注释\r\n# &lt;leader&gt;cA 在行尾添加注释\r\n# &lt;leader&gt;c$ /* 注释 */\r\n# &lt;leader&gt;cs /* 块注释 */\r\n# &lt;leader&gt;cy 注释并复制\r\n# &lt;leader&gt;c&lt;space&gt; 注释/取消注释\r\n# &lt;leader&gt;ca 切换　// 和 /* */\r\n# &lt;leader&gt;cu 取消注释\r\n\r\nlet g:NERDSpaceDelims = 1\r\nlet g:NERDDefaultAlign = 'left'\r\nlet g:NERDCustomDelimiters = {\r\n            \\ 'javascript': { 'left': '//', 'leftAlt': '/**', 'rightAlt': '*/' },\r\n            \\ 'less': { 'left': '/**', 'right': '*/' }\r\n        \\ }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d0764620750-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d0764620750-18\">18</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'scrooloose/nerdcommenter'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-2\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-3\"><span class=\"crayon-p\"># &lt;leader&gt;cc // 注释</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-4\"><span class=\"crayon-p\"># &lt;leader&gt;cm 只用一组符号注释</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-5\"><span class=\"crayon-p\"># &lt;leader&gt;cA 在行尾添加注释</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-6\"><span class=\"crayon-p\"># &lt;leader&gt;c$ /* 注释 */</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-7\"><span class=\"crayon-p\"># &lt;leader&gt;cs /* 块注释 */</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-8\"><span class=\"crayon-p\"># &lt;leader&gt;cy 注释并复制</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-9\"><span class=\"crayon-p\"># &lt;leader&gt;c&lt;space&gt; 注释/取消注释</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-10\"><span class=\"crayon-p\"># &lt;leader&gt;ca 切换　// 和 /* */</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-11\"><span class=\"crayon-p\"># &lt;leader&gt;cu 取消注释</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-12\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-13\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">NERDSpaceDelims</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-14\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">NERDDefaultAlign</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'left'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-15\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">NERDCustomDelimiters</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-16\"><span class=\"crayon-h\">            </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'javascript'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'left'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'//'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'leftAlt'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/**'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'rightAlt'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'*/'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d0764620750-17\"><span class=\"crayon-h\">            </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'less'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'left'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'/**'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'right'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'*/'</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d0764620750-18\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/scrooloose/nerdcommenter\">scrooloose/nerdcommenter</a></li>\n</ul>\n<h3><code>git</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2d3934580906\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'airblade/vim-gitgutter'\r\nPlug 'tpope/vim-fugitive'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d3934580906-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d3934580906-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2d3934580906-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'airblade/vim-gitgutter'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d3934580906-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'tpope/vim-fugitive'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/airblade/vim-gitgutter\">airblade/vim-gitgutter</a></li>\n<li><a href=\"https://github.com/tpope/vim-fugitive\">tpope/vim-fugitive</a></li>\n</ul>\n<h3><code>Markdown</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2d6428914673\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'suan/vim-instant-markdown'\r\n\r\nlet g:instant_markdown_slow = 1\r\nlet g:instant_markdown_autostart = 0\r\n# :InstantMarkdownPreview</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d6428914673-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d6428914673-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d6428914673-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2d6428914673-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2d6428914673-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2d6428914673-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'suan/vim-instant-markdown'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d6428914673-2\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d6428914673-3\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">instant_markdown_slow</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2d6428914673-4\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">instant_markdown_autostart</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2d6428914673-5\"><span class=\"crayon-p\"># :InstantMarkdownPreview</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/suan/vim-instant-markdown\">suan/vim-instant-markdown</a></li>\n</ul>\n<h3><code>Emmet</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2da906024134\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'mattn/emmet-vim'\r\n\r\nlet g:user_emmet_leader_key='&lt;Tab&gt;'\r\nlet g:user_emmet_settings = {\r\n         \\ 'javascript.jsx' : {\r\n            \\ 'extends' : 'jsx',\r\n        \\ },\r\n         \\ }</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2da906024134-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2da906024134-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2da906024134-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2da906024134-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2da906024134-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2da906024134-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2da906024134-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2da906024134-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2da906024134-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'mattn/emmet-vim'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2da906024134-2\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2da906024134-3\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">user_emmet_leader_key</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">'&lt;Tab&gt;'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2da906024134-4\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">user_emmet_settings</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2da906024134-5\"><span class=\"crayon-h\">         </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'javascript.jsx'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2da906024134-6\"><span class=\"crayon-h\">            </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'extends'</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'jsx'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2da906024134-7\"><span class=\"crayon-h\">        </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2da906024134-8\"><span class=\"crayon-h\">         </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/mattn/emmet-vim\">mattn/emmet-vim</a></li>\n</ul>\n<h3><code>html 5</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2dd920756294\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'othree/html5.vim'</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2dd920756294-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2dd920756294-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'othree/html5.vim'</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0003 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/othree/html5.vim\">othree/html5.vim</a></li>\n</ul>\n<h3><code>css 3</code></h3>\n<p><img src=\"https://segmentfault.com/img/bVWLbE?w=684&amp;h=451\"></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2e0334400106\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'hail2u/vim-css3-syntax'\r\nPlug 'ap/vim-css-color'\r\n\r\naugroup VimCSS3Syntax\r\n  autocmd!\r\n\r\n  autocmd FileType css setlocal iskeyword+=-\r\naugroup END</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e0334400106-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e0334400106-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e0334400106-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e0334400106-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e0334400106-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e0334400106-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e0334400106-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e0334400106-8\">8</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2e0334400106-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'hail2u/vim-css3-syntax'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e0334400106-2\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'ap/vim-css-color'</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e0334400106-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e0334400106-4\"><span class=\"crayon-e\">augroup </span><span class=\"crayon-e\">VimCSS3Syntax</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e0334400106-5\"><span class=\"crayon-e\">  </span><span class=\"crayon-v\">autocmd</span><span class=\"crayon-o\">!</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e0334400106-6\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e0334400106-7\"><span class=\"crayon-h\">  </span><span class=\"crayon-e\">autocmd </span><span class=\"crayon-e\">FileType </span><span class=\"crayon-e\">css </span><span class=\"crayon-e\">setlocal </span><span class=\"crayon-v\">iskeyword</span><span class=\"crayon-o\">+=</span><span class=\"crayon-o\">-</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e0334400106-8\"><span class=\"crayon-e\">augroup </span><span class=\"crayon-st\">END</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/hail2u/vim-css3-syntax\">hail2u/vim-css3-syntax</a></li>\n<li><a href=\"https://github.com/ap/vim-css-color\">ap/vim-css-color</a></li>\n</ul>\n<h3><code>JavaScipt</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2e5004505752\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'pangloss/vim-javascript'\r\n\r\nlet g:javascript_plugin_jsdoc = 1\r\nlet g:javascript_plugin_ngdoc = 1\r\nlet g:javascript_plugin_flow = 1\r\nset foldmethod=syntax\r\nlet g:javascript_conceal_function             = \"ƒ\"\r\nlet g:javascript_conceal_null                 = \"ø\"\r\nlet g:javascript_conceal_this                 = \"@\"\r\nlet g:javascript_conceal_return               = \"⇚\"\r\nlet g:javascript_conceal_undefined            = \"¿\"\r\nlet g:javascript_conceal_NaN                  = \"ℕ\"\r\nlet g:javascript_conceal_prototype            = \"¶\"\r\nlet g:javascript_conceal_static               = \"•\"\r\nlet g:javascript_conceal_super                = \"Ω\"\r\nlet g:javascript_conceal_arrow_function       = \"⇒\"\r\nlet g:javascript_conceal_noarg_arrow_function = \"\"\r\nlet g:javascript_conceal_underscore_arrow_function = \"\"\r\nset conceallevel=1</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e5004505752-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e5004505752-19\">19</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'pangloss/vim-javascript'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-2\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-3\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_plugin_jsdoc</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-4\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_plugin_ngdoc</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-5\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_plugin_flow</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-6\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">foldmethod</span><span class=\"crayon-o\">=</span><span class=\"crayon-e\">syntax</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-7\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_function</span><span class=\"crayon-h\">             </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ƒ\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-8\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_null</span><span class=\"crayon-h\">                 </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ø\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-9\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_this</span><span class=\"crayon-h\">                 </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"@\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-10\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_return</span><span class=\"crayon-h\">               </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"⇚\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-11\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_undefined</span><span class=\"crayon-h\">            </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"¿\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-12\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_NaN</span><span class=\"crayon-h\">                  </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"ℕ\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-13\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_prototype</span><span class=\"crayon-h\">            </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"¶\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-14\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_static</span><span class=\"crayon-h\">               </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"•\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-15\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_super</span><span class=\"crayon-h\">                </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"Ω\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-16\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_arrow_function</span><span class=\"crayon-h\">       </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"⇒\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-17\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_noarg_arrow_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e5004505752-18\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">javascript_conceal_underscore_arrow_function</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"\"</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e5004505752-19\"><span class=\"crayon-e\">set </span><span class=\"crayon-v\">conceallevel</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">1</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0035 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/pangloss/vim-javascript\">pangloss/vim-javascript</a></li>\n</ul>\n<h3><code>React</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2e9798699594\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'mxw/vim-jsx'\r\n\r\nlet g:jsx_ext_required = 0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e9798699594-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2e9798699594-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2e9798699594-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2e9798699594-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'mxw/vim-jsx'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2e9798699594-2\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2e9798699594-3\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">jsx_ext_required</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0006 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/mxw/vim-jsx\">mxw/vim-jsx</a></li>\n</ul>\n<h3><code>Prettier</code></h3>\n<p></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f54a443b2ed911938667\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nPlug 'prettier/vim-prettier', {\r\n  \\ 'do': 'yarn install',\r\n  \\ 'for': ['javascript', 'typescript', 'css', 'less', 'scss', 'json', 'graphql'] }\r\n\r\nlet g:prettier#config#bracket_spacing = 'true'\r\nlet g:prettier#autoformat = 0\r\nautocmd BufWritePre *.js,*.jsx,*.mjs,*.ts,*.tsx,*.css,*.less,*.scss,*.json,*.graphql PrettierAsync\r\n\r\n# :Prettier</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2ed911938667-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2ed911938667-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2ed911938667-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2ed911938667-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2ed911938667-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2ed911938667-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2ed911938667-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f54a443b2ed911938667-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f54a443b2ed911938667-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f54a443b2ed911938667-1\"><span class=\"crayon-i\">Plug</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'prettier/vim-prettier'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2ed911938667-2\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'do'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'yarn install'</span><span class=\"crayon-sy\">,</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2ed911938667-3\"><span class=\"crayon-h\">  </span><span class=\"crayon-sy\">\\</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'for'</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">[</span><span class=\"crayon-s\">'javascript'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'typescript'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'css'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'less'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'scss'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'json'</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'graphql'</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2ed911938667-4\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2ed911938667-5\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">prettier</span><span class=\"crayon-p\">#config#bracket_spacing = 'true'</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2ed911938667-6\"><span class=\"crayon-i\">let</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">g</span><span class=\"crayon-o\">:</span><span class=\"crayon-v\">prettier</span><span class=\"crayon-p\">#autoformat = 0</span></div><div class=\"crayon-line\" id=\"crayon-59f54a443b2ed911938667-7\"><span class=\"crayon-e\">autocmd </span><span class=\"crayon-e \">BufWritePre *</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">js</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">jsx</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">mjs</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">ts</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">tsx</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">css</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">less</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">scss</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">json</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">*</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">graphql </span><span class=\"crayon-v\">PrettierAsync</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f54a443b2ed911938667-8\"> </div><div class=\"crayon-line\" id=\"crayon-59f54a443b2ed911938667-9\"><span class=\"crayon-p\"># :Prettier</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n<p></p>\n<ul>\n<li><a href=\"https://github.com/prettier/vim-prettier\">prettier/vim-prettier</a></li>\n</ul>\n<h1>总结</h1>\n<p>最后，呈上<code>参考配置</code> <a href=\"https://github.com/FengShangWuQi/to-vim/blob/master/.vimrc\">.vimrc</a>，如果关于 <code>vim</code> 有更好的 <code>idea</code>，欢迎在评论中交流</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112726\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112726votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112726\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 16 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 3 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，Vim", "front_image_path": "full/4c6abd763d27eeeb4c7e7665f213388ec74df623.jpg"}
{"title": "若你要开源自己的代码，此文带你了解开源协议", "url": "http://blog.jobbole.com/112716/", "url_object_id": "c29aa1ef06c0496133b27af176b5caa2", "create_date": "2017/10/17", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/5f2ee2454532cd8e62d6bce42c989eea.jpg"], "praise_nums": "2", "fav_nums": 4, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.ruanyifeng.com/blog/2017/10/open-source-license-tutorial.html\">阮一峰的日志</a>   </div><p>作为一个开发者，如果你打算开源自己的代码，千万不要忘记，选择一种开源许可证（license）。</p>\n<p>许多开发者对开源许可证了解很少，不清楚有哪些许可证，应该怎么选择。本文介绍开源许可证的基本知识，主要参考了 OpenSource.com （<a href=\"https://opensource.com/article/17/9/9-open-source-software-rules-startups\">1</a>，<a href=\"https://opensource.com/article/17/9/open-source-licensing\">2</a>）。</p>\n<p><img title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/5f2ee2454532cd8e62d6bce42c989eea.jpg\" alt=\"\"></p>\n<h2>一、什么是开源许可证</h2>\n<p>开源许可证是一种法律许可。通过它，版权拥有人明确允许，用户可以免费地使用、修改、共享版权软件。</p>\n<p>版权法默认禁止共享，也就是说，没有许可证的软件，就等同于保留版权，虽然开源了，用户只能看看源码，不能用，一用就会侵犯版权。所以软件开源的话，必须明确地授予用户开源许可证。</p>\n<h2>二、开源许可证的种类</h2>\n<p>目前，国际公认的开源许可证共有<a href=\"https://opensource.org/licenses/alphabetical\">80多种</a>。它们的共同特征是，都允许用户免费地使用、修改、共享源码，但是都有各自的使用条件。</p>\n<p>如果一种开源许可证没有任何使用条件，连保留作者信息都不需要，那么就等同于放弃版权了。这时，软件可以直接声明进入”公共领域”（public domain）。</p>\n<p>根据使用条件的不同，开源许可证分成两大类。</p>\n<blockquote>\n<ul>\n<li>宽松式（permissive）许可证</li>\n<li>Copyleft 许可证</li>\n</ul>\n</blockquote>\n<h2>三、宽松式许可证</h2>\n<h3>3.1 特点</h3>\n<p>宽松式许可证（permissive license）是最基本的类型，对用户几乎没有限制。用户可以修改代码后闭源。</p>\n<p>它有三个基本特点。</p>\n<p><strong>（1）没有使用限制</strong></p>\n<p>用户可以使用代码，做任何想做的事情。</p>\n<p><strong>（2）没有担保</strong></p>\n<p>不保证代码质量，用户自担风险。</p>\n<p><strong>（3）披露要求（notice requirement）</strong></p>\n<p>用户必须披露原始作者。</p>\n<h3>3.2 常见许可证</h3>\n<p>常见的宽松式许可证有四种。它们都允许用户任意使用代码，区别在于要求用户遵守的条件不同。</p>\n<p><strong>（1）BSD（二条款版）</strong></p>\n<p>分发软件时，必须保留原始的许可证声明。</p>\n<p><strong>（2） BSD（三条款版）</strong></p>\n<p>分发软件时，必须保留原始的许可证声明。不得使用原始作者的名字为软件促销。</p>\n<p><strong>（3）MIT</strong></p>\n<p>分发软件时，必须保留原始的许可证声明，与 BSD（二条款版）基本一致。</p>\n<p><strong>（4）Apache 2</strong></p>\n<p>分发软件时，必须保留原始的许可证声明。凡是修改过的文件，必须向用户说明该文件修改过；没有修改过的文件，必须保持许可证不变。</p>\n<h2>四、Copyleft 许可证</h2>\n<h3>4.1 Copyleft 的含义</h3>\n<p>Copyleft 是<a href=\"http://www.ruanyifeng.com/blog/2005/03/post_112.html\">理查德·斯托曼</a>发明的一个词，作为 Copyright （版权）的反义词。</p>\n<p>Copyright 直译是”复制权”，这是版权制度的核心，意为不经许可，用户无权复制。作为反义词，Copyleft 的含义是不经许可，用户可以随意复制。</p>\n<p>但是，它带有前提条件，比宽松式许可证的限制要多。</p>\n<blockquote>\n<ul>\n<li>如果分发二进制格式，必须提供源码</li>\n<li>修改后的源码，必须与修改前保持许可证一致</li>\n<li>不得在原始许可证以外，附加其他限制</li>\n</ul>\n</blockquote>\n<p>上面三个条件的核心就是：修改后的 Copyleft 代码不得闭源。</p>\n<h3>4.2 常见许可证</h3>\n<p>常见的 Copyleft 许可证也有四种（对用户的限制从最强到最弱排序）。</p>\n<p><strong>（1）Affero GPL (AGPL)</strong></p>\n<p>如果云服务（即 SAAS）用到的代码是该许可证，那么云服务的代码也必须开源。</p>\n<p><strong>（2）GPL</strong></p>\n<p>如果项目包含了 GPL 许可证的代码，那么整个项目都必须使用 GPL 许可证。</p>\n<p><strong>（3）LGPL</strong></p>\n<p>如果项目采用动态链接调用该许可证的库，项目可以不用开源。</p>\n<p><strong>（4）Mozilla（MPL）</strong></p>\n<p>只要该许可证的代码在单独的文件中，新增的其他文件可以不用开源。</p>\n<h2>五、常见问题</h2>\n<p>本节回答一些开源许可证的常见问题。</p>\n<h3>5.1 什么叫分发（distribution）？</h3>\n<p>除了 Affero GPL (AGPL) ，其他许可证都规定只有在”分发”时，才需要遵守许可证。换言之，如果不”分发”，就不需要遵守。</p>\n<p>简单说，分发就是指将版权作品从一个人转移到另一个人。这意味着，如果你是自己使用，不提供给他人，就没有分发。另外，这里的”人”也指”法人”，因此如果使用方是公司，且只在公司内部使用，也不需要遵守许可证。</p>\n<p>云服务（SaaS）是否构成”分发”呢？答案是不构成。所以你使用开源软件提供云服务，不必提供源码。但是，Affero GPL (AGPL) 许可证除外，它规定云服务也必须提供源码。</p>\n<h3>5.2 开源软件的专利如何处理？</h3>\n<p>某些许可证（Apache 2 和 GPL v3）包含明确的条款，授予用户许可，使用软件所包含的所有专利。</p>\n<p>另一些许可证（BSD、MIT 和 GPL v2）根本没提到专利。但是一般认为，它们默认给予用户专利许可，不构成侵犯专利。</p>\n<p>总得来说，除非有明确的”保留专利”的条款，使用开源软件都不会构成侵犯专利。</p>\n<h3>5.3 什么是披露要求？</h3>\n<p>所有的开源许可证都带有”披露要求”（notice requirement），即要求软件的分发者必须向用户披露，软件里面有开源代码。</p>\n<p>一般来说，你只要在软件里面提供完整的原始许可证文本，并且披露原始作者，就满足了”披露要求”。</p>\n<h3>5.4 GPL 病毒是真的吗？</h3>\n<p>GPL 许可证规定，只要你的项目包含了 GPL 代码，整个项目就都变成了 GPL。有人把这种传染性比喻成”GPL 病毒”。</p>\n<p>很多公司希望避开这个条款，既使用 GPL 软件，又不把自己的专有代码开源。理论上，这是做不到的。因为 GPL 的设计目的，就是为了防止出现这种情况。</p>\n<p>但是实际上，不遵守 GPL，最坏情况就是被起诉。如果你向法院表示无法履行 GPL 的条件，法官只会判决你停止使用 GPL 代码（法律上叫做”停止侵害”），而不会强制要求你将源码开源，因为《版权法》里面的”违约救济”没有提到违约者必须开源，只提到可以停止侵害和赔偿损失。</p>\n<p>（完）</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112716\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112716votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112716\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，开源", "front_image_path": "full/c101dcc5700c51fb6b89a25cd6bad61c665f0b3e.jpg"}
{"title": "人工智能创业，你需要知道的 6 大核心问题", "url": "http://blog.jobbole.com/112718/", "url_object_id": "1513c70bbc65ce07f55dc829aa54c6f7", "create_date": "2017/10/17", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/326d31f3fdb700c798bd91ff04147980.jpeg"], "praise_nums": "3", "fav_nums": 4, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://mp.weixin.qq.com/s/Jpo2Cf446u39noe7v-koig\">迅雷创始人程浩</a>   </div><p>大家好，我是迅雷创始人程浩，我现在专注科技领域的投资。今天跟大家聊聊人工智能领域的创业和创新，包括如何选择赛道、团队的搭配、以及如何应对巨头的挑战。</p>\n<p>为此我从投资人的视角，给大家总结了人工智能创业的 6 大核心问题。</p>\n<h2>第一个问题：互联网 vs 人工智能</h2>\n<p>首先如果今天大家选择创业，我建议更应该关注人工智能，而非互联网。为什么这么讲？</p>\n<p>1. 互联网的流量红利已经消失；</p>\n<p>以PC来说，全球PC出货量连续5年下滑。大家知道国内最后出现的一个PC互联网独角兽是谁吗？是知乎，大概是2011年初推出，这么多年过去，再也没有PC互联网的独角兽出现。做个类比，我们知道2015年移动互联网的渗透率和竞争程度和2011年的PC互联网类似，以此类推，2015年以后再做移动APP，也很难出独角兽了。</p>\n<p>毕竟中国连续两年手机出货量都在5亿多台，增长放缓，代表无线流量基本已走平，你多卖一台，我就少卖一台，是存量竞争。今天创业者再做一个纯互联网的APP，投资人问的第一个问题就是你怎么获客。因为现阶段流量格局已定，首屏就那几个APP。</p>\n<h3>2. 互联网+的机会同样有限；</h3>\n<p>主要在于互联网最大的价值，是解决信息不对称和连接。所以对于电商特别有价值。淘宝用皇冠、钻石等信用体系解决了信息不对称，同时又把全国有这么多买家和卖家连接在一起。这个是互联网的价值。</p>\n<p>但很多行业信息和连接并不是痛点。拿医疗举例，中国三甲医院的大夫就那么多，你把全国13亿人民都和这些大夫连接上了也没用，因为一个医生一天还是只能看那么多病人。互联网并没有提高医生看诊的效率。在诸如餐饮、医疗这些传统领域，互联网的帮助是很有限的。</p>\n<p>也包括滴滴打车，互联网解决了打车难的问题，但是没解决打车价格的问题。事实上，补贴去掉之后，大家都发现了滴滴一点都不便宜，道理很简单——不管是专车还是出租车，还是需要由人来开，人工成本降不下来，就不可能便宜。</p>\n<h3>3. 真正能够提高社会生产力，解决供需关系不平衡的就是人工智能；</h3>\n<p>人工智能将给社会生产力带来的提高，以及对人类带来的影响将远远超过互联网。</p>\n<p>还是拿医疗来说，很多基层医院水平不高，那未来完全可以通过人工智能来辅助医生读CT、X光等医疗影像。像今年，IBMWatson对皮肤黑色素瘤的诊断，准确率已提高至97%，远远超过了人类专家75%-84%的平均水平。</p>\n<p>未来，人工智能无论是在无人车、机器人、医疗、金融、教育还是其他领域，都将爆发巨大的社会效益，这点毋庸置疑。我认为下一波大趋势和大的红利不是互联网+，而是人工智能+。我建议现在的创业者更应该关注人工智能领域的创业机会。</p>\n<h2>第二个问题：人工智能 vs 人工智能+</h2>\n<p>人工智能主要分三层。最底层是基础架构（Infrastructure），包括云计算、芯片以及TensorFlow这样的框架。在基础层之上是中间层，叫通用技术（EnablingTechnology），例如图像识别、语音识别、语义理解、机器翻译这些。</p>\n<p>基础层和中间层，是互联网巨头的必争之地。比如芯片领域，Intel、英伟达、高通都投入巨资，竞争极其激烈。同样云计算、框架也是一样，都不是小公司能够涉足的领地。</p>\n<p>现在对于中间层的通用技术，BAT也极其重视。因为大家都相信人工智能是下一波工业革命浪潮。对腾讯、阿里、百度这些巨头来讲，要想在大浪中屹立不倒，必须要构建出人工智能的生态系统（Ecosystem）。而核心就是要依靠这些Enabling Technology技术。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/326d31f3fdb700c798bd91ff04147980.jpeg\" alt=\"迅雷创始人程浩：人工智能创业的6大核心问题\" data-img-size-val=\"596,380\"></p>\n<p>相比创业公司，BAT的最大优势是什么呢？第一，不缺数据；第二，为了构建自己的生态系统，未来通用技术一定全部是免费的；第三，虽然通用技术免费，但BAT有羊毛出在身上的猪机会。这是典型的互联网打法。</p>\n<p>这里的猪是什么？猪就是云计算。例如百度的ABC策略，分别代表人工智能（AI）、大数据（Big Data）和云计算（Cloud Computing）。AI我可以不赚钱，开放给大家，那么大家想享受我的服务，就来买我的云吧。</p>\n<p>而对于创业企业来说，只做图像识别、语音识别、语义理解、机器翻译这些通用技术，指望通过SDK卖钱，未来路会越来越窄，特别是BAT都免费的压力下。</p>\n<p>所以从这个角度讲，创业公司做下面两层风险比较大。我认为创业公司的机会在最上层，就是拿着下两层的成果去服务垂直行业，也就是我们所谓的人工智能+。</p>\n<h2>第三个问题：人工智能+ vs +人工智能</h2>\n<p>深入垂直行业的人工智能+，又可细分为两类情况：即“人工智能+行业”和“行业+人工智能”，他们间有明显的区别。</p>\n<p>“AI+行业”简单讲就是在AI技术成熟之前，这个行业、产品从未存在过。比如自动驾驶，亚马逊的Echo智能音箱、苹果的Siri语音助手。在人工智能技术未突破前，不存在这样的产品。因为AI，创造出了一条全新的产业链。</p>\n<p>“行业+AI”就是行业本身一直存在，产业链条成熟，只是以前完全靠人工，效率比较低，现在加入AI元素后，使得行业效率有了明显提高。比如安防、医疗等领域。</p>\n<p>客观讲，这两个类别都有创业机会。但“AI+行业”，因为是一条新的产业链，创业公司与互联网巨头实际是处在同一起跑线上。巨头们坐拥数据优势。所以从这个角度，“行业+AI”相对对创业公司更为友好，也更容易构建出壁垒。</p>\n<p>我认为，未来行业壁垒才是人工智能创业最大的护城河。因为每个行业都有垂直纵深, 尽管BAT技术好一点、并不关键。拿医疗+AI举例，什么最重要？大量准确的被医生标注过的数据最重要。没有数据，再天才的科学家也无用武之地。</p>\n<p>但在国内，这个医疗数据拿出来非常困难。所以BAT做医疗一点优势都没有，因为他们要把这些数据，从各医院、各科室搞出来也很累。相反，如果一个创业者在医疗行业耕耘很多年，也许拿起数据来比大公司更容易。</p>\n<p>这要求创始团队的合伙人中，必须有懂行业、有行业资源的人才。这与互联网+一样，一旦细分到具体行业，并不是说你百度、腾讯有资金、有流量，投入人才就什么都能做，比拼的还有行业资源和人脉。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/5ff7998ba95b9006be6db2ef83bc7ae7.jpeg\" alt=\"迅雷创始人程浩：人工智能创业的6大核心问题\" data-img-size-val=\"640,366\"></p>\n<p>之所以跟大家聊这个话题，是因为前一段去百度大学跟大家交流，他们提到百度人工智能在无人车和DuerOS的应用。同时又问我，人脸识别在国内安防领域的应用价值非常大。像海康威视有近3000亿人民币的市值，每年光净利润就有近百亿。百度在AI方面是不是该考虑进军这个领域。我回答说千万别，因为安防是典型的、有巨大壁垒的“行业+AI”领域。</p>\n<p>即使百度技术好，在人脸识别率方面比海康威视高一个百分点（实际不一定，海康背后有几百人的AI研发团队）。但这并不代表百度就能替代海康。因为安防是“非关键性应用”（non-mission-critical），100个犯人我识别了95个，你比我多识别了一个做到了96个，其实没那么重要。</p>\n<p>而反过来，海康对比百度有什么优势？首先海康是做摄像头的，用自己的硬件跑自己的算法，是很自然的事儿。就像苹果手机，软硬一体体验更好。其次，海康做了这么多年的安防，积累了非常多的数据，人脸的数据、环境的数据……在安防领域有数据优势。最后，海康给公安系统做了很多类似警务通、基站信息采集、视图档案管理等SaaS平台的东西，以及警用云系统。我们可以认为公安系统的IT化，其中有一部分就是海康威视参与的。</p>\n<p>这些东西可能不赚钱，但却为海康构建了壁垒。因为底层的基础设施都是我建的，那前端的东西就只能用我的（我可以有100个理由，说竞品与我不兼容）。而且海康做了这么长时间，积累了大量的客户资源，特别是政府公安局的资源，开拓这些资源非常需要时间。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/da17c367646dbcb512ad556b6b243a06.jpeg\" alt=\"迅雷创始人程浩：人工智能创业的6大核心问题\" data-img-size-val=\"640,360\"></p>\n<p>这些就是所谓的行业纵深。所以即使对BAT而言，想进入“行业+AI”领域，选择垂直赛道时，同样要非常谨慎。在巨大的行业壁垒面前，真不是说我的算法比你好一些，市场就是我的，只有技术优势仍然差的很远。</p>\n<p>回归 “AI+行业”和“行业+AI”，通常来讲前者的行业纵深会比较浅，而后者则有巨大的行业壁垒。而行业壁垒，则是创业公司最大的护城河，也是抵挡BAT的关键。</p>\n<h2>第四个问题：关键性应用 vs 非关键性应用</h2>\n<p>谈到人工智能领域的创业，很多人都会有个误解，就是如果我团队没有个大牛的科学家，比如斯坦福、MIT的博士坐镇，我都不好意思讲在人工智能方面创业。其实这个认知是完全错的。因为在人工智能领域，算法到底有多重要，完全取决于你要准备进入哪个行业。</p>\n<p>根据行业和应用场景不同，我认人工智能的创业本质上有mission-critical和non-mission-critical之分。为了方便大家理解，我们简称为“关键性应用”和“非关键性应用”。</p>\n<p>“关键性应用”要追求99.9……%后的多个9，做不到就没法商业化。比如大家认为，99%可靠度的自动驾驶能上路吗？肯定不能，意味着100次就出1次事故。99.9%也不行，1000次出一次事故。</p>\n<p>千万记住，99%和99.9%的可靠度差距并不是0.9%，而是要反过来算，差距是10倍。也包括手术机器人，听起来99.9%可靠度已经很高了，但意味着1000次出一次医疗事故，放在美国，医院还不得被巨额索赔搞得破产。</p>\n<p>所以“关键性应用”领域，就是一丁点儿错都不能犯的人工智能领域，必须要有技术大牛、科学家或算法专家坐镇。同时，这类项目研发周期都很长。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/7e48d49a9c8f3538006fa9653333c2d0.jpeg\" alt=\"迅雷创始人程浩：人工智能创业的6大核心问题\" data-img-size-val=\"596,380\"></p>\n<p>正如以色列做ADAS （高级驾驶辅助系统）解决方案的Mobileye公司，今年3月被Intel以153亿美金收购。大家知道这家公司研发周期有多长吗？Mobileye成立于1999年，到他们推出首款产品、挣到第一桶金已是2007年。长达8年的研发周期。这在互联网创业里不可想象。包括谷歌无人车从2009年开始研发，到现在一直没有商业化；达芬奇手术机器人从启动研发到2000年拿到美国食品药品管理局（FDA）的认证，花了十年时间。</p>\n<p>“关键性应用”的普遍特点就是这样，项目通常很贵，研发周期巨长，离钱非常远，需要持续的融资能力，团队怎样才有持续融资？起码要有非常好的简历和非常好的背景。这个是能够持续融资的必要前提。所以大家可以看到，今天做无人驾驶的创业团队都是高富帅。因为不是高富帅，你都熬不到产品真正商业化应用那天。</p>\n<p>当然，如果在人工智能领域都是“关键性应用”，那就没大多数创业者什么事了。实际上，人工智能领域的创业，95%都是“非关键性应用（none-mission-critical）”。简单讲对这些领域，AI的可靠度只要过了基础线，高一点低一点区别不大。</p>\n<p>最简单的例子，现在很多公司的门禁开始用人脸识别。你今天带个帽子，明天戴个墨镜或口罩，识别率没法做到99%。可即使没识别出来也没问题。因为所有带人脸识别的门禁都有地方让你按指纹。即使指纹也刷不进去，问题也不大，公司不还有前台吗。</p>\n<p>这就是“非关键性应用“。这类项目不追求99%后面的很多个9。实际上，国内人工智能和机器人方向的创业，大部分领域都是“非关键性应用”。当然并不是说，在这个领域算法不重要，你天天认不出来也不行，所以一定要过了基础的可用性门槛，偶尔出现问题可以容忍。“关键性应用”则不能容忍。</p>\n<p>“非关键性应用“不追求高大上，简单、实用、性价比高更重要，这样的项目通常比拼综合实力。包括：</p>\n<ul>\n<li>对行业的洞察理解。要熟知行业痛点；</li>\n<li>产品和工程化能力。光在实验室里搞没意义；</li>\n<li>成本控制。不光能做出来的产品，还得便宜的做出来；</li>\n<li>供应链能力。不光能出货，还要能批量生产；</li>\n<li>营销能力。产品出来了，你得把东西卖出去。团队里有没有营销高手，能不能搞定最好的渠道是关键。</li>\n</ul>\n<p>所以大家在创业组团队时，一定要想好你选择的赛道处于哪个领域，不同的赛道对于团队的要求是不一样。“关键性应用”必须有技术大牛坐镇，“非关键性应用”则要求团队更加综合和全面。</p>\n<h2>第五个问题：技术提供商 vs 全栈服务商</h2>\n<p>现在很多人工智能创业者都是技术背景出身，创业的第一个想法通常是做技术提供商。技术提供商作为创业的敲门砖可以。但如果只定位做技术提供商，未来路会非常窄。为什么说未来只做技术提供商价值会越来越小？原因有几点：</p>\n<h3>1. 首先通用技术一定是大公司的赛道，BAT未来一定会开放免费。</h3>\n<p>人家大公司会免费提供人脸识别、语音识别、语义理解、机器翻译这类EnablingTechnology，你还打算怎么靠API调用赚钱呢？也许现在还可赚点小钱，但很难成为一个长久的生意。</p>\n<h3>2. 依托于算法的技术壁垒会越来越低。</h3>\n<p>未来随着基础计算平台和开源平台的丰富成熟，技术方面的壁垒会越来越不明显，整个人工智能的技术准入门槛会越降越低。就像2008年你想找个IOS开发者，很难，现在却很容易一样，所有技术的演进都遵循这一规律。特别随着今天各大学的计算机专业，都纷纷开设机器学习课程，未来人才不缺，这会拉低整个行业的进入门槛。</p>\n<p>同时随着谷歌TensorFlow等生态系统的成熟，很多领域都会有训练好的模型可以用来参考（出Demo会更快），创业者只要有足够的数据来训练参数就好了。所以未来算法的壁垒会越来越低，如果这个公司的核心竞争力只是算法，那将非常危险。</p>\n<h3>3. 技术提供商如果不直接面向用户/客户提供整体解决方案，则非常容易被上下游碾压：</h3>\n<p>对于技术提供商和算法类公司，如果你的技术壁垒不够高，上游很可能直接把你的事做了。这样的例子比比皆是，比如给海康威视提供人脸识别算法的公司。问题就在于，海康在用你算法的时候，人家也有庞大的研发团队在研究自己的算法。现在用你是人家还没准备好，一旦准备好立刻会把你替换掉。</p>\n<p>即使在有一定技术门槛的行业，技术提供商的日子同样并不好过。比如专注嵌入式的视觉处理芯片的Movidius，大疆无人机一直在用他们的芯片。但自从大疆统治了消费级无人机市场后，大疆现在也很自然地开始研发自己的芯片。</p>\n<p>按说芯片的技术壁垒并不低，但只要行业集中度高，赢家就会选择通吃。比如做手机的厂商，出货量到了一个阀值，都有动力自己做芯片。像苹果、三星、华为还有现在的小米，都选择了自己做手机CPU。所以联发科、高通这些技术提供商，其实是挺痛苦的。</p>\n<p>这其实是一个产业链通用规律：产业链上的垄断者会吃掉所有利润，而且他们非常有动力往上游或下游扩展。拿PC产业链举例，内存、硬盘、整机、显示器……都不赚钱。钱被谁赚走了？Windows和Intel却赚走了绝大部分利润。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/d635f948f322781c4226a283f8a46aa5.jpeg\" alt=\"迅雷创始人程浩：人工智能创业的6大核心问题\" data-src=\"http://s2.51cto.com/wyfs02/M02/A6/CA/wKioL1nbMBjAhVGDAAEFUgBCzMQ83.jpeg-wh_600x-s_561520517.jpeg\" data-img-size-val=\"720,405\"></p>\n<p>既然做纯技术提供商没有出路，那怎么办？浩哥提出“一横一纵”理论。前期做技术服务可以，但是不能一辈子做技术服务。</p>\n<p>“一横”就是指你提供的技术服务。通常“一横”能服务很多行业，一定要找到1、2个，你认为最有市场机会，最适合你的垂直领域，深扎进去做“全栈”：把技术转化为产品，然后搞定用户卖出去，实现商业变现，再通过商业反馈更多的数据，更加夯实自己的技术。一句话讲，要做技术、产品、商业和数据四位一体的“全栈”，这就是“一纵”。这才是健康的商业模式。</p>\n<p>在垂直外的行业，因为没有利益冲突，你仍可老老实实的做技术服务。这样的话，商业上你能吃透一个垂直行业，技术上你还能通过横向合作，形成更多的数据回路，从而夯实你的技术。这个就是“一横一纵”理论。</p>\n<p>那么对于技术创业公司，从“一横”走到“一纵”，要选哪个垂直领域，取决5个关键因素：</p>\n<ul>\n<li>\n<h3>市场空间够不够大？</h3>\n</li>\n</ul>\n<p>做垂直领域的全栈，还是做横向的技术提供商？取决市场空间哪个更大。找对垂直领域，即使只占一点点市场份额，也可能比做“一横”全归你的收益大。拿美图公司举例，他们有美图秀秀、美拍、美颜相机等APP，同时还会跟很多手机厂商合作，提供相机拍摄的美颜效果，你可以理解这就是技术服务。</p>\n<p>但研究2016财报后，大家知道美图秀秀选的“一纵”是什么吗？就是美图手机。以上提到的技术服务都远没有垂直做美图手机赚钱。美图手机占了公司全部营收的93%。虽然美图手机去年的销量大约在74.8万台，仅仅只占国内手机市场全年销量5亿多台的不足0.15%。</p>\n<ul>\n<li>\n<h3>行业集中度如何？</h3>\n</li>\n</ul>\n<p>做“一横”技术提供商时，最担心的是你的上游或下游过于集中，或者说头部效应越明显，对技术提供商就越不利。举个简单的例子，IDC时代，HP、DELL等厂商卖服务器，都是直接卖给各IT公司，大家日子过的都很滋润。但2010年之后就很难做了，因为云计算出现了。</p>\n<p>提供云计算的厂商就那几个，两只手就能数出来。而且头部效应极其明显，仅阿里云一家占了50%以上份额。如果你是一个技术提供商，在跟这么垄断的行业去谈判，你会发现没有任何筹码。所以现在就很悲催，假设我是阿里云，会让你列出BOM成本，我就给你5%或10%的利润，这个生意就很难做了。</p>\n<p>在这种情况下，你当然有意愿也往上游走。但带来的问题是什么？如果上游集中度高，说明这事的壁垒很高，你作为技术提供商想往上走，同样很困难；如果这个上游集中度低或客户很零散，对你是件好事。但是你也没有太大动力往上游走，因为这个市场本来就很零散，你即使杀进去，可能只有1%的市场份额，而且使得99%的人都变成你的竞争对手了。这是个悖论。</p>\n<ul>\n<li>\n<h3>技术是改良还是革命？</h3>\n</li>\n</ul>\n<p>如果你的技术创新对这个垂直领域是革命性的，就越有机会走到上游。如果只是改良性的，你就老老实实在下游赚个辛苦钱算了。 越是颠覆性的东西，越有机会往上游走。因为上游越离不开你，意味着你有机会做他的事。</p>\n<p>打个异想天开的比方，如果你能提供一个“待机一礼拜”的电池，那你就可以考虑自己做手机，你的手机只打一点：一星期不用充电，而且是全球唯一！就这一点可能就够了，因为这个技术是革命性的。相反，如果是改良性的技术，例如你的电池待机只是比以前多了10~20%，那你还是老老实实卖电池吧。</p>\n<ul>\n<li>\n<h3>双方壁垒谁更高？</h3>\n</li>\n</ul>\n<p>技术提供商的壁垒和上游客户的壁垒哪个更高，也决定做“一纵”的成败。拿比较火的直播平台而言，现在都有美颜功能，例如给女孩长出个耳朵那种，这个通常都是第三方提供的技术。技术本身的壁垒并不高，很多公司都能提供，虽然效果有一些小的差异，但你没有明显优势。</p>\n<p>可是直播的壁垒相当高，这事有网络效应，用户越多会吸引更多的美女主播，因为能赚到更多钱，美女主播越多，也会带来更多的用户。同时你舍得花钱，需要很多资金来买流量以及签约很NB的主播。所以这个事壁垒很高。你做技术提供商壁垒不高。这种情况下，虽然技术提供商只能赚个辛苦钱，但是仍然完全没有机会往上游走。</p>\n<ul>\n<li>\n<h3>到底跟团队基因相符不相符？</h3>\n</li>\n</ul>\n<p>能做得了技术服务，不代表能做垂直解决方案，做全栈，因为团队不一定有行业经验，这是很大的问题。亚马逊的无人便利店Amazon Go出来之后，国内不少技术团队也想提供类似的技术，甚至想做2C的便利店。</p>\n<p>与他们聊完后，我都会劝他们再考虑一下，你的技术再好，对于用户而言，他买东西的时候，会看这个便利店有人还是无人的吗？不会，这不是优先选项。他首要考虑的还是——哪个便利店离我更近，以及我想买的东西这个便利店有没有。</p>\n<p>从这个意义讲，这又回到了零售的本质。所以如果团队没有零售的基因，没有懂零售的人，就别考虑自己开便利店的事。这时候，很多人可能会问“那我找个懂行业的高管不就行了么？”这事没那么简单，如果CEO不了解行业本质，其实是很难靠一个高管去弥补的。</p>\n<p>我特别相信基因决定论，如果任何一个新的商业，BAT找个懂行业的高管就能搞定了，那中国互联网的生意就全是BAT的了，就没创业公司什么事了。BAT，一个做搜索，一个做电商，一个做社交。其实他们3个都把对方的事情已尝试了一遍，最后都不成功。所以大家能做什么，不能做什么，跟这个公司的基因是高度相关的。</p>\n<h2>第六个问题：2C vs 2B</h2>\n<p>最后一个问题，简单说一下，科技成熟都需要一定的时间。因为从任何技术普及演进的角度，几乎都延续了先是从军工（航天）、到政府、到企业、到B2B2C、再到2C这个规律。人工智能也一样，目前人工智能在2C市场还不是很成熟。</p>\n<p>简单说机器人，在个人消费者市场，出货量大的机器人只有4类产品：扫地机器人、无人机、STEAM教育类机器人和亚马逊ECHO为代表的智能音箱。为什么2C市场早期的普及有一定的困难，简单讲几个原因：</p>\n<h3>1. 产业链不成熟</h3>\n<p>我做一个创新的东西，成品有10个部件。每一个部件都得自己做，而且因为出货量不大，每个部件都没有规模效应，这就导致每个部件都很贵，那你最后做出成品一定很贵。这是非常大的问题。</p>\n<h3>2. 2C是额外花钱</h3>\n<p>这也是很重要的一个问题，2C端的用户因为自掏腰包、额外花钱，所以对价格通常比较敏感，产品很贵就是一个很大的门槛。</p>\n<h3>3. 2C产品的用户期待度高</h3>\n<p>用户买了这么贵的东西，自然对产品的期待度会更高很多。大家觉得我买一个机器人回来，恨不得什么都能干：又能唱歌、又能跳舞、又能聊天、又能清洁、又能讲英语。但这是不现实的，现在的技术成熟度离此还有些远。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/a2fe69f39ad0441d3963bf785e9754e7.jpeg\" alt=\"迅雷创始人程浩：人工智能创业的6大核心问题\" data-img-size-val=\"720,405\"></p>\n<p>相对于2C端，这些问题在2B端却不是问题。</p>\n<h3>1. 2B端对价格承受能力更高</h3>\n<p>首先，企业对价格的承受能力显然比2C强很多。你说一个机器人2万，2C消费者不可能买，但企业问题不大，企业对成本承受能力高。</p>\n<h3>2. 2B的核心目的是降成本</h3>\n<p>举例工业机器人，10万块钱一个，听起来很贵。但一个工业机器人替代你2个岗位。这2个岗位一年也得10万块钱，还不算四险一金。然后这机器人能工作4年，这一下成本只有你原来的25%，甚至不到。那么企业一算账，觉得还是很便宜。</p>\n<h3>3. 2B可以采取人机混合模式</h3>\n<p>还有2B端的机器人应用更简单一些。一方面大多是单任务，机器人只要做好一件事就行了，实现起来简单。另外，很多都是以”人机混合”模式在作业。也就是以前需要10个人干活，现在我用机器人替代一半人。简单重复的工作用机器人替代，复杂的用剩下的5个人，这就是”人机混合”模式。</p>\n<p>举个例子，现在国内外已有很多安保机器人，按固定路线去巡逻。你可以理解为移动的摄像头，当然算法上肯定加入了一些识别的东西。固定绕路线巡逻，这个完全可以交给机器人来做。难的是，在巡逻的过程中，如果发现有老太太摔倒了，让机器人扶起来，这个目前还做不到。</p>\n<p>但这不重要，你们后台不还有5个人么，让他们过来就好了。所以人机混合是2B比较主流的模式，这个大幅降低了机器人普及的难度。</p>\n<p>最后再说一点，目前大多数AI创业公司都是技术专家主导，这很容易理解，因为现在技术还有壁垒，技术专家主导起码保证产品能做出来。不过未来随着技术门槛的降低，特别在“非关键应用”领域里，团队的核心主导，会慢慢过渡到产品经理和行业专家为主，因为他们离用户需求最近。“非关键应用”领域，懂需求比技术实现更重要。长期来看，人工智能创业和任何其他领域的创业一样，一定是综合实力的比拼！</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112718\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112718votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112718\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "创业，人工智能，创业", "front_image_path": "full/9bf88283c9108849eb733631c201cd6d19232b29.jpg"}
{"title": "我从编程写软件学到的 7 件事", "url": "http://blog.jobbole.com/112588/", "url_object_id": "e709e9a89b7140ade9b9b5822de56153", "create_date": "2017/10/12", "front_image_url": ["http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkf7mv1sa4j20x30im0vd.jpg"], "praise_nums": "4", "fav_nums": 2, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q1857502771\">暖日生烟</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://techcrunch.com/2017/08/27/one-morning-when-gregor-samsa-woke-from-troubled-reams-he-found-himself-transformed-in-his-bed-into-a-manager/?\">Jon Evans</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我正在一点一点的从一个工程师转型为管理者。别弄错了，虽然我在转管理，但我仍然在每天写代码。不过我发现自己在会议和电话中会花越来越多的时间去分析讨论，试着去组织团队，并且为全局部署而不是具体战术而烦恼。</p>\n<p>当然这不是一件坏事。高层次的决策往往比单个的类和函数的细节更有影响。让一个团队更有效率，比仅仅让自己更有生产力有更高的杠杆作用。但我想我已经从我多年来的编程中吸取到了一些经验。我希望大部分经验可以应用于管理方面。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkf7mv1sa4j20x30im0vd.jpg\" width=\"690\" height=\"388\"></p>\n<h3>1、没有规定（rules），只有公案（koans）</h3>\n<blockquote><p>译注：公案（Koan）有五种重要的涵义： 作悟禅的工具； 作考验的方法； 作权威的法范； 作印证的符信； 作究竟的指点。）</p></blockquote>\n<p>举个例子：DRY，意思是「不要重复你自己」。作为软件的基本规则这很好理解，因为很多话可以证明：“我做 X 是因为它没有重复。”这说得通，不是吗？如果你有两个或者两个以上部分的代码在做相同的事情，说明你正在浪费。而且如果当你需要改变它们其中一个的时候，你可能也需要改变其他的，并且你很可能会忘记这么做。当它们不同步时，你会得到一个怪异的 bug。因此很显然你不能重复你自己。</p>\n<p>然而，在使用了几年之后，人们开始怀疑它的普遍适用性。假如你的两个方法中包含相同的代码块，所以你将其拿出来形成一个单独的函数。通常那些方法会开始朝不同的方向发展…接着你发现自己要在函数中加入更多的参数，很可能为结果立了更多 flags……然后下一个接手的程序员会因为分离出来的函数以及它所带的特定的参数和结果，而出现认知负载。你会意识到如果当初允许自己重复，并让两块代码自然的发展为不同的个体，你生成的代码将会更简单直观。</p>\n<p>这意味着 DRY 不好吗？当然不是！通常在合适的环境下使用 DRY 是正确的…好吧，也许。我个人的经验是：“重复一次是可以的，超过一次就不太好了…当然这取决于所处的环境。”因为所有事都取决于环境。DRY 的目的并不是为了 DRY。如果你迷信于此，小孩儿，那你还有太多要学。DRY 的目的为了让你了解 DRY。那当然不是规定，仅仅是公案。</p>\n<p>（让我重申一遍：我在讨论的是软件。在我的经验中，硬件规定的确更倾向于是我们所理解中的规定。这就是我为什么要从电气工程转到软件的原因）</p>\n<p>细想我最喜欢的两个计算机科学“定律”。第一：“计算机科学中没有一个问题是不能通过添加另一层抽象来解决的！”这句话完全正确吗？当然不。这在现象学上是正确的吗？实际上，的确是。这是否意味着抽象是解决任何问题的正确途径？不，不是。它是一个公案，可以启发思想。</p>\n<p>还有我历来最喜欢的：“第一优化定律：不要这样做。第二优化定律（对专家而言）：不要又这样做。”这显然是一个公案，却称自己为法规。是时候让你的代码运行的更快吗？不。是时候让你的代码运行的更快吗？还不是。什么意思？意思是要考虑到时间，复杂性，认知负载，具体结果，生活意义，人类存在的意义。并且三思而后行，小孩儿。但不要花太长时间，我们还有工作要做。</p>\n<h3>2、要想得到他人的信任，先信任他人</h3>\n<p>这不仅仅针对于管理者。虽然它对管理者尤其重要。信任是你真正拥有的唯一价值。如果你的公正、判断、理解、诚实不被信任。接下来你组织的成员将把你视为祸害并绕着你走。然而，如果你是个有能力但不被信赖的开发者，你可能还有一些价值。虽然你在每个决定上做的努力都会被大大消减。</p>\n<p><strong>不过更重要的一点是：一个团队的成员需要互相信任。</strong>当 Natascia 说：“我来解决那个问题单（ticket）”，你必须相信她会去做。当你说：“Peter 能在截止时间前完成的。”，你必须相信那会实现。当某人说，“我有一个疯狂的点子”，他们必须信任他们会被尊重和认真对待，尽管那点子的确很疯狂。</p>\n<p><strong>你是如何建立和得到信任的？答案很简单：你去信任他人。</strong>你相信那个说他可以学会这个新库并且在周一前会整合完的人。你相信那个说他需要提前离开，因为家里有事而会错过明天工作的人。你相信那些想在截止日期前一个月休假的人，因为他们觉得自己已经开始筋疲力尽了。你相信说想要解决难题的初级程序员。</p>\n<p><strong>但你不总是正确的。有些时候人在工作上存了坏心。</strong>你需要揭露这些人的真面目，让他们尽早离开。有时候你要信任那些真心想成功的人，虽然他们会失败。但违反常识的是，长远来看这通常是个胜利。因为那些人会记住你的信任，他们会尽一切努力来报答你。</p>\n<h3>3、简单比优雅重要的多</h3>\n<p>我也喜欢紧凑优雅的代码。我喜欢灵活的框架，有如此多抽象层次随时待命，无论抛出什么改变的需求都能解决。我喜欢使用位向量、位位移、略微复杂的数据结构和不太流行且古怪的小语言特性，但在特定环境下十分实用。</p>\n<p>然而你并不只是为了你自己写代码。即使它只是个“原型”。（我已经记不清我有多少“原型”在多次对层操作和润色的过程中出现问题。）而且你不仅仅是为了解决当前的问题编写它。你正在为了下一个接手的开发者可以使用它来解决下一个问题而编写。把你写到那五行代码扩充为十行可以增强其可读性，你知道吗，也许扩展为十五行效果会更好。</p>\n<p>你可以提前尝试并用灵活且充满抽象的框架解决它们。但是也许预言不是你的强项，也许你关于下一个问题的概念的想法完全是错误的。也许仅仅编写足够简单的代码才是最佳选择。有一个命名约定和一个编码风格，让它读起来像英语一样。也许不是添加一个类，而是下一个开发者在试图跟随你的控制流程时必须保持另一个文件的开放。你应该用愚蠢的方式，不雅的方式，简单的方式。</p>\n<h3>4、动力比大多数事都重要</h3>\n<p>我们都曾见过这种情况。一周里每个人都在检查代码，构建显而易见的雏形，每天不断增加特性，测试覆盖率越来越高。疏忽也随着生产的想法和解决方案而出现。不知怎么的下一周所有事都变得缓慢起来。关于 A 的决定，会影响到 B、C和 D。当人们可以运行D、E 和 F 时，它们不是逻辑序列发展上的一部分。于是需要做更多的假设，认知负载加重，你不得不模拟出一堆东西来写出非模仿代码。一些人需要做这个决定。</p>\n<p>或许不是决定会瘫痪，是你上周所做的一切都在错误的基础上，是一个“地震多发区”的技术负债。你需要停止所有事返回并重构它。而且你必须马上开始，因为等的时间越长，事情会变得越糟糕。没人想看到这种事发生 。但他们宁愿现在面对也比下个月知道的好。让暴风雨来的更猛烈些吧。</p>\n<p>也许上周每个人都拼劲全力，现在实在撑不住了。你知道该怎样吗？得让他们休息一下，每个人，休息一整天。我保证，这会给你接下来的“长跑”节省时间。</p>\n<p>I我们很难定义、衡量以及说明动力。但它在软件开发中是真实存在的东西。而且它的缺失会成为造成首要影响，导致我们需要去解决很多根本问题。别忽略它，也别期望或假装它会神奇地回来。察觉警报并迅速采取行动。</p>\n<h3>5、与和你互补而不是像你一样的人一起工作</h3>\n<p>每当我看到人们根据“文化契合度”来找人的时候，我就会拼命翻白眼。你知道大多单一栽培会发生什么吗？他们遭遇了他们不知如何解决的病原体，然后嗝屁死翘翘了。</p>\n<p>你不会希望你的所有开发者、设计者、 QA人员、产品人员、销售人员和执行官是彼此的克隆人。你肯定不想。每个人都有自己的长处和短处、优点和缺点。你想要雇佣的是他们的长处，让其他人的长处弥补他们的短处。</p>\n<p>比如说我，写代码非常快，擅于沟通，读写文章都奇快。我在任何时候都能熟悉很多编程语言和框架。我理解东西透彻且迅速，有丰富的经验。然而我还是一个在特定领域、框架和语言缺乏深刻专研、精通掌握的全才。我是一个真正从别人身上获益的建筑师，跟踪所有需要，在骨骼构建好之后添加肉体和润色。我还是个 UX 盲（等一下，你说那些还没对齐？），这一直被当作同事之间的玩笑。</p>\n<p>像我这样的人非常难找到也是及其被需要的。但一个由我和九个像我一样的克隆人组成的公司是从一开始就注定要失败的。唔，我们会把很多事情做好，但只需要一个集中的盲点，一个灾难性的空隙就足以毁灭公司。大多数人承认有些事情他们做不好，另一些人可能需要照应。这些人往往是寻找“文化契合度”的人，并试图雇佣和他们一样的人。真令人哭笑不得。</p>\n<h3>6、任何决定都比没决定强</h3>\n<p>别犹豫，当你拿不准主意时，去做就好了。当然，这可能不适用在生产代码的时候。但它可以应用于除此之外在软件开发里的任何方面。我们在历史上发展最快的行业里工作。我们生活在以指数形式发展的世界里。时间不等人，别浪费它。</p>\n<p>这与低级决策的高级讨论一样真实。在高水平的讨论里，比如“我们应该实现特性 A 还会说 B？我们要用哪种方式实现呢，X 还是 Y？“，常常会产生这样的对话，”让我们先跳过这个…下周再对它进行讨论…“，或者更阴险的，”让我们先研究一下其他人做了什么再来讨论一次。“这样的问题极少情况下会有正确答案。大多时候，像这么说才是正确的，”我会在今天之前决定尝试哪一个，这样我们就可以明天开始行动了。</p>\n<p>甚至 A 选项基本上是错误选择，开始进行 A 大概也比啥都不做强。这和直觉是相悖的，但它通常也是正确的。以实际上手的方式去理解 A 的本质是一个更好的办法，这个道理始终是正确的。这样的理解可能会引导你做出更好的决定。</p>\n<p>对于低级决策，那就更应该如此了。“规范没有说明我们应该如何处理错误条件 X，或者错误信息应该是什么。”(规范似乎是为一个有抱负的乌托邦写的，在这种乌托邦中，错误条件和独角兽一样罕见。)“我知道，我只是想插一句，回去问问他们在这种情况下想做什么!”</p>\n<p>这非常诱人。如果你这么做，没人能指责你哪里做错了。但这么做是错误的。宁愿继续自己做决定，尽管有些鲁莽，也不要什么都不做等着问别人。让它们在你做已经写好的程序和你学到的教训里迭代，虽然你知道这并不完美，也好过从头开始错误认知。它们和项目将会变得更好。快速尝试，快速改变方向。</p>\n<h3>7、保持谦虚，但要自信</h3>\n<p>你不需要所有的答案。甚至是我也不得不勉强承认我不会有全部的答案。可恶，我甚至连它们的大多数也没有，不过我有自信，只要给我足够的时间和精力，我能弄清楚大部分。并且你也可以。</p>\n<p>我们无法都成为 <a href=\"http://blog.jobbole.com/tag/jeff-dean/\" target=\"_blank\">Jeff Dean（谷歌大牛）</a>、中本聪（比特币创始人） 或是 Margaret Hamilton（<a href=\"http://blog.jobbole.com/97936/\" target=\"_blank\">登月计划中的女程序员</a>）。我们在一个充斥着真正的天才和自称天才的地方工作。没人知道所有的事情，每个人都敏锐地意识到他们所不知道的一切。幸运的是，大多数情况下，我们不是科学家。我们的工作不是去寻找新突破。我们的工作是实践他人的发现，使东西运转，希望服务于人们真正想要的东西。也许你永远不会发明任何东西，像是布隆过滤器或默克尔树。不过大多与你共事的人们也不会。而且这不是重点，重点是使用布隆过滤器和默克尔树，亦或是在它们之上建个抽象层，来实际的完成它们。</p>\n<p>所以假设你懂的会比在座的人都多是错误的，就算你觉得他们违背直觉的想法很疯狂，他们的语言选择很糟糕。假设人家比你懂的多也是错误的，即使真是那样，也没关系。世界上多的是聪明人因为一些不可思议的原因什么实际东西也没做出来。（开个廉价的玩笑╮(╯▽╰)╭：这就是为什么我们有学术界的原因。）</p>\n<p>如果你真的做出了一些东西，在面对那些令人眼花缭乱的理论知识，或是和你相似甚至比你做的更糟糕的人时大可不必谦虚。在一天结束之时，正是那些在战壕中的开发者——构建、测试和开发了代码的人，真正做了事情。话说那些发现自己远离战壕的人，那些没有和你一起并肩作战的逃兵，你有权利鄙视他们。并且向你的伙伴致敬，而不是上司。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112588\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112588votetotal\">4</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112588\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q1857502771\">暖日生烟</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q1857502771\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/06EB1B2C5C7835017E628CFB8E25D68F/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            简介还没来得及写 :）        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q1857502771\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q1857502771/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q1857502771/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 14</a> · <a title=\"QQ：826672619\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a> <a title=\"个人微信：xzs826672619\" target=\"_blank\" href=\"#\"><i class=\"fa fa-weixin\"></i></a> <a title=\"GitHub主页\" target=\"_blank\" href=\"https://github.com/NinoMiao\"><i class=\"fa fa-github\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "职场", "front_image_path": "full/9af8182da5eb58dea9f9ddc5102a9dcd7697ad07.jpg"}
{"title": "八款值得尝试的精美的 Linux 发行版（2017 版）", "url": "http://blog.jobbole.com/112594/", "url_object_id": "b8c991ba6492623366372bdc5704ea5d", "create_date": "2017/10/11", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/04/e260ae4f5d153b25be87819b25ff0577.jpg"], "praise_nums": "3", "fav_nums": 4, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://my.oschina.net/editorial-story/blog/1548766\">开源中国编辑部</a>   </div><p>在这篇文章中，将会列出让一些令 Linux 用户印象最深刻且精美的 Linux 发行版，包括对初学者友好和流行的发行版。</p>\n<p> </p>\n<h2><strong><a href=\"https://elementary.io/\" target=\"_blank\" rel=\"nofollow\">1. elementary OS</a></strong></h2>\n<p><strong><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/6edd33865348a5e1e0301d44c93cf113.png\" alt=\"\" width=\"650\" height=\"361\"></strong></p>\n<p>elementary OS 是一款基于 Ubuntu 精心打磨美化的桌面 Linux 发行版，号称是最漂亮的 Linux 发行版。事实上，Elementary 起初是 Ubuntu 的一个主题美化项目，后来因太受欢迎演变成了独立的发行版。在其官网上，elementary OS 对自己的介绍是快速、开源的 Windows/macOS 替代方案。</p>\n<p>elementary OS 是 Ubuntu 的衍生产品，因此它可以完全兼容所有的 Ubuntu 软件包。虽然基于 Ubuntu，但它放弃了许多默认的 Ubuntu 应用程序，使用了许多轻量级的替代方案。例如邮件程序用的是 Geary Mail 而非 ThunderBird，终端用的是 Pantheon Terminal，文本编辑器用的是 Scratch，音乐播放器使用的是 noise，文件管理器是 Pantheon Files 等等。</p>\n<p>这款漂亮的 Linux 发行版参考了不少 macOS 的设计元素，为用户提供了更简洁的体验。elementary OS 从界面外观到系统的各种设计元素都十分精美，逼格甚高！如果想体验 Linux 与漂亮的界面设计，不妨考虑一下它。</p>\n<p>为什么选择 elementary OS？</p>\n<ul>\n<li>与 macOS 相似的外观</li>\n<li>轻量高效的桌面环境</li>\n<li>精心挑选的一系列应用程序</li>\n</ul>\n<p><em><strong><a href=\"https://elementary.io/\" target=\"_blank\" rel=\"nofollow\">查看 elementary OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://www.deepin.org/en/\" target=\"_blank\" rel=\"nofollow\">2. Deepin</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/65288224c0ebefd958dc87ee4fae6d87.png\" alt=\"\" width=\"650\" height=\"406\"></p>\n<p>Deepin，即大家熟知也是口碑极高的深度操作系统，是一款国产的 Linux 发行版。深度操作系统为用户提供了一份美观易用、安全可靠的 Linux 发行版。它不仅仅对最优秀的开源产品进行了集成和配置，还基于 Qt 技术开发了深度桌面环境和深度控制中心。</p>\n<p>深度操作系统有着易用的体验和美观的设计，对于大多数用户来说，它易于安装和使用，能够很好的代替 Windows 系统进行工作与娱乐。此外，它的 Deepin Store 也提供了大量的应用程序。</p>\n<p>深度操作系统的历史可以追溯到 2004 年，其前身 Hiweed Linux 是中国第一个基于 Debian 的本地化版本。在 2008 年更名为深度操作系统。</p>\n<p>Deepin 默认使用的桌面环境经过许多变化，Deepin 早期曾使用过 IceWM、xfce、LXDE 和 GNOME，最终确定使用自行开发的深度桌面环境 (Deepin Desktop Environment)。关于基于的底层系统方面，也经历了 Morphix、Debian 和 Ubuntu 的多次变化。</p>\n<p>为什么选择 Deepin？</p>\n<ul>\n<li>创新的功能</li>\n<li>美观的设计</li>\n<li>Deepin Store</li>\n<li>简单易用的安装程序</li>\n</ul>\n<p><em><strong><a href=\"https://www.deepin.org/en/\" target=\"_blank\" rel=\"nofollow\">查看 Deepin 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://solus-project.com/\" target=\"_blank\" rel=\"nofollow\">3. Solus OS</a></strong></h2>\n<p><strong><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e43eb4380b52fd78ed5b8c3091ae537a.jpg\" alt=\"\" width=\"650\" height=\"366\"></strong></p>\n<p>Solus OS 基于 Debian，是一款从无到有创建的桌面 Linux 发行版。在极短的时间内，Solus OS 成为发展最快、最酷的 Linux 发行版之一。它遵循极简主义的风格，拥有扁平和现代化的外观，Solus OS 默认安装了一系列软件，包括 LibreofficeSuite、Firefox、Thunderbird、XChat、OpenShotVideoEditor 等。</p>\n<p>Budgie 基于 GNOME，但 Solus 自身开发的 Budgie 并没有使用 GNOME Shell，用于 Solus 的 Budgie 有一个可以访问可用应用程序的主菜单。也是在 Budgie 桌面环境的帮助下，Solus 成为了引人注目的 Linux 发行版。此外，Solus 最近添加了对来自 Ubuntu Snappy Store 的 Snaps 的支持，这使得它更加易用。</p>\n<p>为什么选择 Solus？</p>\n<ul>\n<li>发展最快的新发行版之一</li>\n<li>使用 Budgie 桌面环境</li>\n<li>支持 Snap</li>\n<li>开箱即用</li>\n</ul>\n<p><em><strong><a href=\"https://solus-project.com/\" target=\"_blank\" rel=\"nofollow\">查看 Solus 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://nxos.org/\" target=\"_blank\" rel=\"nofollow\">4. Nitrux</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/283a7fc36bcea4c11de8f65128ec5e39.jpg\" alt=\"\" width=\"650\" height=\"365\"></p>\n<p>Nitrux 也是一份美观的 Linux 发行版，它是以设计为基础的。值得注意的是，Nitrux 基于 Ubuntu unstable dev 分支，采用基于 KDE Plasma 5 和 Qt 的 Nomad 桌面环境。Nitrux 的特色软件有 Babe 音乐播放器及 Nomad 防火墙实用工具。</p>\n<p>Nitrux 的核心思想包括便于移植的通用应用程序格式，也附带了定制的软件，它采用滚动发布模式，仅提供 64 位系统。</p>\n<p>为什么选择 Nitrux OS？</p>\n<ul>\n<li>自主定制的应用程序</li>\n<li>美观的桌面 UI</li>\n<li>极简的设计</li>\n</ul>\n<p><em><strong><a href=\"https://nxos.org/\" target=\"_blank\" rel=\"nofollow\">查看 Nitrux OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://neon.kde.org/\" target=\"_blank\" rel=\"nofollow\">5. KDE Neon</a></strong></h2>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/aded704033143a63b4b0d4914992457c.jpg\" alt=\"\" width=\"650\" height=\"360\"></p>\n<p>如果你追求美观和轻量级的 Linux 使用体验，并且还是 KDE 的忠实拥趸，那不妨考虑一下 KDE Neon 吧。Neon 提供一个当最新的 KDE 软件一发布就可以获得的途径（快速的软件更新仓库），它让 KDE 粉丝可以用上最新的 KDE 软件。</p>\n<p>KDE Neon 基于 LTS 版的 Ubuntu，关于外观方面，KDE Neon 的主要特色是它美观的扁平主题，可轻松添加到桌面的小部件，还有直观和对用户友好的菜单。使用这个美观的 Linux 发行版，不仅可以获得 LTS 版 Ubuntu 带来的稳定性，还能享受流畅的体验。</p>\n<p>为什么选择 KDE Neon？</p>\n<ul>\n<li>最新的 KDE 软件</li>\n<li>基于坚实的 Ubuntu LTS</li>\n<li>自由使用、美观、扁平化主题</li>\n</ul>\n<p><em><strong><a href=\"https://neon.kde.org/\" target=\"_blank\" rel=\"nofollow\">查看 KDE Neon 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"http://ferenos.weebly.com/\" target=\"_blank\" rel=\"nofollow\">6. feren OS</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/a0b0772747131c92fccad968e29149a0.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>feren OS 是基于 Linux Mint 的桌面 Linux 发行，它定制开发的 Cinnamon 桌面环境使得它成为最具视觉吸引力的 Linux 发行版。此外，它还提供了与 macOS 和 Windows 操作系统相似的使用体验。</p>\n<p>feren OS 的外观初看起来会感觉十分熟悉，因为它有一个类似 Windows 的“开始”按钮和任务栏，不仅仅外观相似，feren OS 还包含可运行 Windows 应用程序的 WINE 兼容层。所以 feren OS 是给用户的体验是既熟悉又创新的。</p>\n<p>为什么选择 feren OS？</p>\n<ul>\n<li>熟悉的桌面和开始菜单</li>\n<li>简洁、扁平化的设计</li>\n<li>现代化的风格，对初学者友好</li>\n</ul>\n<p><em><strong><a href=\"http://ferenos.weebly.com/\" rel=\"nofollow\">查看 feren OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://system76.com/pop\" target=\"_blank\" rel=\"nofollow\">7. Pop!_OS</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/773927e7840ca929c3a50e0e29613f0f.jpg\" alt=\"\" width=\"650\" height=\"366\"></p>\n<p>Pop!_OS 是知名 Linux 笔记本厂商 System76 最近推出的 Linux 发行版，基于 Ubuntu 和 GNOME 桌面环境，希望能为用户提供个性化且新鲜的使用体验。</p>\n<p>虽然基于 GNOME 桌面环境，但 System76 会对用户界面、驱动等内容进行个性化定制，具有现代化和简洁的外观，更好地控制用户体验。</p>\n<p>Pop!_OS 的创意和功能重点是针对专业用户，让 Linux 桌面变得更具生产力，成为工程师、开发人员以及计算机科研领域的好帮手。</p>\n<p>为什么选择 Pop!_OS?</p>\n<ul>\n<li>舒缓的色彩主题</li>\n<li>新鲜的外观和极简主义的风格</li>\n<li>专为计算机科学领域的创意而设计</li>\n</ul>\n<p><em><strong><a href=\"https://system76.com/pop\" target=\"_blank\" rel=\"nofollow\">查看 Pop!_OS 网站</a></strong></em></p>\n<p> </p>\n<h2><strong><a href=\"https://zorinos.com/\" target=\"_blank\" rel=\"nofollow\">8. Zorin OS</a></strong></h2>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/a7ab31009716c4e134c9df4166337873.png\" alt=\"\" width=\"650\" height=\"520\"></p>\n<p>Zorin OS 被大众最为熟知的特色就是拥有与 Windows 高度相似的图形界面，默认配置了不少桌面特效。用户对其的第一印象基本上是漂亮、符合传统 Windows 的使用习惯。</p>\n<p>Zorin OS 是一款基于 Ubuntu 的 Linux 发行版，特别为 Linux 新手而设计。因为内置了 WINE，所以能支持很多 Windows 下的应用软件，还自带了常用的办公娱乐应用。该发行版的终极目标是提供一份可作为 Windows 替代的 Linux 选择，并让 Windows 用户在避免烦琐的同时享受 Linux 的所有特性。</p>\n<p>为什么选择 Zorin OS？</p>\n<ul>\n<li>符合 Windows 的使用习惯</li>\n<li>热门的发行版，有很好的支持</li>\n<li>精美稳定的 Linux 桌面体验</li>\n</ul>\n<p><strong><em><a href=\"https://zorinos.com/\" target=\"_blank\" rel=\"nofollow\">查看 Zorin OS 网站</a></em></strong></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112594\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112594votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112594\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 4 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，Linux", "front_image_path": "full/6085acc0af4696f5d49164561c6bc4f9b590fc26.jpg"}
{"title": "如何让网站不下线而从 Redis 2 迁移到 Redis 3", "url": "http://blog.jobbole.com/112744/", "url_object_id": "f44e9d126df9e68989db9db38ee1066e", "create_date": "2017/10/20", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/04/49961db8952e63d98b519b76a2daa5e2.png"], "praise_nums": "1", "fav_nums": 2, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"http://engineering.skybettingandgaming.com/2017/09/25/redis-2-to-redis-3/\">Craig Stewart</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8968-1.html\">Linux中国/geekpi</a>   </div><p>我们在 Sky Betting＆Gaming 中使用 <a href=\"https://redis.io/\">Redis</a> 作为共享内存缓存，用于那些需要跨 API 服务器或者 Web 服务器鉴别令牌之类的操作。在 Core Tribe 内，它用来帮助处理日益庞大的登录数量，特别是在繁忙的时候，我们在一分钟内登录数量会超过 20,000 人。这在很大程度上适用于数据存放在大量服务器的情况下（在 SSO 令牌用于 70 台 Apache HTTPD 服务器的情况下）。我们最近着手升级 Redis 服务器，此升级旨在使用 Redis 3.2 提供的原生集群功能。这篇博客希望解释为什么我们要使用集群、我们遇到的问题以及我们的解决方案。</p>\n<h3 id=\"toc_1\">在开始阶段（或至少在升级之前）</h3>\n<p>我们的传统缓存中每个缓存都包括一对 Redis 服务器，使用 keepalive 确保始终有一个主节点监听浮动 IP floating IP地址。当出现问题时，这些服务器对需要很大的精力来进行管理，而故障模式有时是非常各种各样的。有时，只允许读取它所持有的数据，而不允许写入的从属节点却会得到浮动 IP 地址，这种问题是相对容易诊断的，但会让无论哪个程序试图使用该缓存时都很麻烦。</p>\n<h3 id=\"toc_2\">新的应用程序</h3>\n<p>因此，这种情况下，我们需要构建一个新的应用程序，一个使用共享内存缓存shared in-memory cache的应用程序，但是我们不希望对该缓存进行迂回的故障切换过程。因此，我们的要求是共享的内存缓存，没有单点故障，可以使用尽可能少的人为干预来应对多种不同的故障模式，并且在事件恢复之后也能够在很少的人为干预下恢复，一个额外的要求是提高缓存的安全性，以减少数据泄露的范围（稍后再说）。当时 Redis Sentinel 看起来很有希望，并且有许多程序支持代理 Redis 连接，比如 <a href=\"https://github.com/twitter/twemproxy\">twemproxy</a>。这会导致还要安装其它很多组件，它应该有效，并且人际交互最少，但它复杂而需要运行大量的服务器和服务，并且相互通信。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/90754ddd08473e05e755ad65f7249460.jpg\"></p>\n<p>将会有大量的应用服务器与 twemproxy 进行通信，这会将它们的调用路由到合适的 Redis 主节点，twemproxy 将从 sentinal 集群获取主节点的信息，它将控制哪台 Redis 实例是主，哪台是从。这个设置是复杂的，而且仍有单点故障，它依赖于 twemproxy 来处理分片，来连接到正确的 Redis 实例。它具有对应用程序透明的优点，所以我们可以在理论上做到将现有的应用程序转移到这个 Redis 配置，而不用改变应用程序。但是我们要从头开始构建一个应用程序，所以迁移应用程序不是一个必需条件。</p>\n<p>幸运的是，这个时候，Redis 3.2 出来了，而且内置了原生集群，消除了对单一 sentinel 集群需要。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/6dd57f0b87ff2ebcffddc4c7c5d7f450.jpg\"></p>\n<p>它有一个更简单的设置，但 twemproxy 不支持 Redis 集群分片，它能为你分片数据，但是如果尝试在与分片不一致的集群中这样做会导致问题。有参考的指南可以使其匹配，但是集群可以自动改变形式，并改变分片的设置方式。它仍然有单点故障。正是在这一点上，我将永远感谢我的一位同事发现了一个 Node.js 的 Redis 的集群发现驱动程序，让我们完全放弃了 twemproxy。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/3839953e6c3ea86ff837d079b1796564.jpg\"></p>\n<p>因此，我们能够自动分片数据，故障转移和故障恢复基本上是自动的。应用程序知道哪些节点存在，并且在写入数据时，如果写入错误的节点，集群将自动重定向该写入。这是被选的配置，这让我们共享的内存缓存相当健壮，可以没有干预地应付基本的故障模式。在测试期间，我们的确发现了一些缺陷。复制是在一个接一个节点的基础上进行的，因此如果我们丢失了一个主节点，那么它的从节点会成为一个单点故障，直到死去的节点恢复服务，也只有主节点对集群健康投票，所以如果我们一下失去太多主节点，那么集群无法自我恢复。但这比我们过去的好。</p>\n<h3 id=\"toc_3\">向前进</h3>\n<p>随着使用集群 Redis 配置的新程序，我们对于老式 Redis 实例的状态变得越来越不适应，但是新程序与现有程序的规模并不相同（超过 30GB 的内存专用于我们最大的老式 Redis 实例数据库）。因此，随着 Redis 集群在底层得到了证实，我们决定迁移老式的 Redis 实例到新的 Redis 集群中。</p>\n<p>由于我们有一个原生支持 Redis 集群的 Node.js Redis 驱动程序，因此我们开始将 Node.js 程序迁移到 Redis 集群。但是，如何将数十亿字节的数据从一个地方移动到另一个地方，而不会造成重大问题？特别是考虑到这些数据是认证令牌，所以如果它们错了，我们的终端用户将会被登出。一个选择是要求网站完全下线，将所有内容都指向新的 Redis 群集，并将数据迁移到其中，以希望获得最佳效果。另一个选择是切换到新集群，并强制所有用户再次登录。由于显而易见的原因，这些都不是非常合适的。我们决定采取的替代方法是将数据同时写入老式 Redis 实例和正在替换它的集群，同时随着时间的推移，我们将逐渐更多地向该集群读取。由于数据的有效期有限（令牌在几个小时后到期），这种方法可以导致零停机，并且不会有数据丢失的风险。所以我们这么做了。迁移是成功的。</p>\n<p>剩下的就是服务于我们的 PHP 代码（其中还有一个项目是有用的，其它的最终是没必要的）的 Redis 的实例了，我们在这过程中遇到了一个困难，实际上是两个。首先，也是最紧迫的是找到在 PHP 中使用的 Redis 集群发现驱动程序，还要是我们正在使用的 PHP 版本。这被证明是可行的，因为我们升级到了最新版本的 PHP。我们选择的驱动程序不喜欢使用 Redis 的授权方式，因此我们决定使用 Redis 集群作为一个额外的安全步骤 （我告诉你，这将有更多的安全性）。当我们用 Redis 集群替换每个老式 Redis 实例时，修复似乎很直接，将 Redis 授权关闭，这样它将会响应所有的请求。然而，这并不是真的，由于某些原因，Redis 集群不会接受来自 Web 服务器的连接。 Redis 在版本 3 中引入的称为“保护模式”的新安全功能将在 Redis 绑定到任何接口时将停止监听来自外部 IP 地址的连接，并无需配置 Redis 授权密码。这被证明相当容易修复，但让我们保持警惕。</p>\n<h3 id=\"toc_4\">现在？</h3>\n<p>这就是我们现在的情况。我们已经迁移了我们的一些老式 Redis 实例，并且正在迁移其余的。我们通过这样做解决了我们的一些技术债务，并提高了我们的平台的稳定性。使用 Redis 集群，我们还可以扩展内存数据库并扩展它们。 Redis 是单线程的，所以只要在单个实例中留出更多的内存就会可以得到这么多的增长，而且我们已经紧跟在这个限制后面。我们期待着从新的集群中获得改进的性能，同时也为我们提供了扩展和负载均衡的更多选择。</p>\n<h3 id=\"toc_5\">未来怎么样？</h3>\n<p>我们解决了一些技术性债务，这使我们的服务更容易支持，更加稳定。但这并不意味着这项工作完成了，Redis 4 似乎有一些我们可能想要研究的功能。而且 Redis 并不是我们使用的唯一软件。我们将继续努力改进平台，缩短处理技术债务的时间，但随着客户群体的扩大，我们力求提供更丰富的服务，我们总是会遇到需要改进的事情。下一个挑战可能与每分钟超过 20,000次 登录到超过 40,000 次甚至更高的扩展有关。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112744\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112744votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112744\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，Redis，数据库", "front_image_path": "full/c766feed221138f7946130756cddfc7e86e388b4.jpg"}
{"title": "详解 MySQL 基准测试和 sysbench 工具", "url": "http://blog.jobbole.com/112597/", "url_object_id": "4983acc210c6e8069653ffd465293cd6", "create_date": "2017/10/11", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/11/e78e36715813f49e9e62fe0c6050075c.png"], "praise_nums": "1", "fav_nums": 2, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/kismetv/p/7615738.html\">编程迷思</a>   </div><h2>前言</h2>\n<p>作为一名后台开发，对数据库进行基准测试，以掌握数据库的性能情况是非常必要的。本文介绍了MySQL基准测试的基本概念，以及使用sysbench对MySQL进行基准测试的详细方法。</p>\n<p><strong>文章有疏漏之处，欢迎批评指正。</strong></p>\n<h1>一、基准测试简介</h1>\n<h2>1、什么是基准测试</h2>\n<p>数据库的基准测试是对数据库的性能指标进行定量的、可复现的、可对比的测试。</p>\n<p><strong>基准测试与压力测试</strong></p>\n<p>基准测试可以理解为针对系统的一种压力测试。但基准测试不关心业务逻辑，更加简单、直接、易于测试，数据可以由工具生成，不要求真实；而压力测试一般考虑业务逻辑(如购物车业务)，要求真实的数据。</p>\n<h2>2、基准测试的作用</h2>\n<p>对于多数Web应用，整个系统的瓶颈在于数据库；原因很简单：Web应用中的其他因素，例如网络带宽、负载均衡节点、应用服务器（包括CPU、内存、硬盘灯、连接数等）、缓存，都很容易通过水平的扩展（俗称加机器）来实现性能的提高。而对于MySQL，由于数据一致性的要求，无法通过增加机器来分散向数据库写数据带来的压力；虽然可以通过前置缓存（Redis等）、读写分离、分库分表来减轻压力，但是与系统其它组件的水平扩展相比，受到了太多的限制。</p>\n<p>而对数据库的基准测试的作用，就是分析在当前的配置下（包括硬件配置、OS、数据库设置等），数据库的性能表现，从而找出MySQL的性能阈值，并根据实际系统的要求调整配置。</p>\n<h2>3、基准测试的指标</h2>\n<p>常见的数据库指标包括：</p>\n<ul>\n<li>TPS/QPS：衡量吞吐量。</li>\n<li>响应时间：包括平均响应时间、最小响应时间、最大响应时间、时间百分比等，其中时间百分比参考意义较大，如前95%的请求的最大响应时间。。</li>\n<li>并发量：同时处理的查询请求的数量。</li>\n</ul>\n<h2>4、基准测试的分类</h2>\n<p>对MySQL的基准测试，有如下两种思路：</p>\n<p>（1）针对整个系统的基准测试：通过http请求进行测试，如通过浏览器、APP或postman等测试工具。该方案的优点是能够更好的针对整个系统，测试结果更加准确；缺点是设计复杂实现困难。</p>\n<p>（2）只针对MySQL的基准测试：优点和缺点与针对整个系统的测试恰好相反。</p>\n<p>在针对MySQL进行基准测试时，一般使用专门的工具进行，例如mysqlslap、sysbench等。其中，sysbench比mysqlslap更通用、更强大，且更适合Innodb（因为模拟了许多Innodb的IO特性），下面介绍使用sysbench进行基准测试的方法。</p>\n<h1>二、sysbench</h1>\n<h2>1、sysbench简介</h2>\n<p>sysbench是跨平台的基准测试工具，支持多线程，支持多种数据库；主要包括以下几种测试：</p>\n<ul>\n<li>cpu性能</li>\n<li>磁盘io性能</li>\n<li>调度程序性能</li>\n<li>内存分配及传输速度</li>\n<li>POSIX线程性能</li>\n<li>数据库性能(OLTP基准测试)</li>\n</ul>\n<p>本文主要介绍对数据库性能的测试。</p>\n<h2>2、sysbench安装</h2>\n<p>本文使用的环境时CentOS 6.5；在其他Linux系统上的安装方法大同小异。MySQL版本是5.6。</p>\n<p>（1）下载解压</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f52843981005673\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nwget https://github.com/akopytov/sysbench/archive/1.0.zip -O \"sysbench-1.0.zip\"\r\nunzip sysbench-1.0.zip\r\ncd sysbench-1.0</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52843981005673-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1f52843981005673-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52843981005673-3\">3</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f52843981005673-1\"><span class=\"crayon-e\">wget </span><span class=\"crayon-v\">https</span><span class=\"crayon-o\">:</span><span class=\"crayon-c\">//github.com/akopytov/sysbench/archive/1.0.zip -O \"sysbench-1.0.zip\"</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1f52843981005673-2\"><span class=\"crayon-e\">unzip </span><span class=\"crayon-v\">sysbench</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0.zip</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1f52843981005673-3\"><span class=\"crayon-e\">cd </span><span class=\"crayon-v\">sysbench</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n\n</div>\n<p>（2）安装依赖</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f5284f027800246\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nyum install automake libtool –y</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f5284f027800246-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f5284f027800246-1\"><span class=\"crayon-e\">yum </span><span class=\"crayon-e\">install </span><span class=\"crayon-e\">automake </span><span class=\"crayon-i\">libtool</span><span class=\"crayon-h\"> </span>–<span class=\"crayon-v\">y</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0005 seconds] -->\r\n\n</div>\n<p>（3）安装</p>\n<p>安装之前，确保位于之前解压的sysbench目录中。</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f52853204670030\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n./autogen.sh\r\n./configure\r\nexport LD_LIBRARY_PATH=/usr/local/mysql/include #这里换成机器中mysql路径下的include\r\nmake\r\nmake install</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52853204670030-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1f52853204670030-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52853204670030-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1f52853204670030-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52853204670030-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f52853204670030-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">autogen</span><span class=\"crayon-sy\">.</span><span class=\"crayon-i\">sh</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1f52853204670030-2\"><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-e\">configure</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1f52853204670030-3\"><span class=\"crayon-e\">export </span><span class=\"crayon-v\">LD_LIBRARY_PATH</span><span class=\"crayon-o\">=</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">usr</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">local</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#这里换成机器中mysql路径下的include</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1f52853204670030-4\"><span class=\"crayon-e\">make</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1f52853204670030-5\"><span class=\"crayon-e\">make </span><span class=\"crayon-v\">install</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n\n</div>\n<p>（4）安装成功</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f52857743389215\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n[root&lt;a href=\"http://www.jobbole.com/members/q1531454480\"&gt;@test&lt;/a&gt; sysbench-1.0]# sysbench --version\r\nsysbench 1.0.9</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52857743389215-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1f52857743389215-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f52857743389215-1\"><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">root</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-i\">a</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">href</span><span class=\"crayon-o\">=</span><span class=\"crayon-s\">\"http://www.jobbole.com/members/q1531454480\"</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">a</span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sysbench</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1.0</span><span class=\"crayon-sy\">]</span><span class=\"crayon-p\"># sysbench --version</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1f52857743389215-2\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1.0.9</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n\n</div>\n<h2>3、sysbench语法</h2>\n<p>执行sysbench –help，可以看到sysbench的详细使用方法。</p>\n<p>sysbench的基本语法如下：</p>\n<p><strong>sysbench [options]… [testname] [command]</strong></p>\n<p>下面说明实际使用中，常用的参数和命令。</p>\n<h3>（1）command</h3>\n<p>command是sysbench要执行的命令，包括prepare、run和cleanup，顾名思义，prepare是为测试提前准备数据，run是执行正式的测试，cleanup是在测试完成后对数据库进行清理。</p>\n<h3>（2）testname</h3>\n<p>testname指定了要进行的测试，在老版本的sysbench中，可以通过–test参数指定测试的脚本；而在新版本中，–test参数已经声明为废弃，可以不使用–test，而是直接指定脚本。</p>\n<p>例如，如下两种方法效果是一样的：</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f5285b883167133\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench --test=./tests/include/oltp_legacy/oltp.lua\r\nsysbench ./tests/include/oltp_legacy/oltp.lua</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f5285b883167133-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1f5285b883167133-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f5285b883167133-1\"><span class=\"crayon-v\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">=</span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">lua</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1f5285b883167133-2\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0009 seconds] -->\r\n\n</div>\n<p>测试时使用的脚本为lua脚本，可以使用sysbench自带脚本，也可以自己开发。对于大多数应用，使用sysbench自带的脚本就足够了。不同版本的sysbench中，lua脚本的位置可能不同，可以自己在sysbench路径下使用find命令搜索oltp.lua。P.S.：大多数数据服务都是oltp类型的，如果你不了解什么是oltp，那么大概率你的数据服务就是oltp类型的。</p>\n<h3>（3）options</h3>\n<p>sysbench的参数有很多，其中比较常用的包括：</p>\n<p><strong>MySQL</strong><strong>连接信息参数</strong></p>\n<ul>\n<li>–mysql-host：MySQL服务器主机名，默认localhost；如果在本机上使用localhost报错，提示无法连接MySQL服务器，改成本机的IP地址应该就可以了。</li>\n<li>–mysql-port：MySQL服务器端口，默认3306</li>\n<li>–mysql-user：用户名</li>\n<li>–mysql-password：密码</li>\n</ul>\n<p><strong>MySQL</strong><strong>执行参数</strong></p>\n<ul>\n<li>–oltp-test-mode：执行模式，包括simple、nontrx和complex，默认是complex。simple模式下只测试简单的查询；nontrx不仅测试查询，还测试插入更新等，但是不使用事务；complex模式下测试最全面，会测试增删改查，而且会使用事务。可以根据自己的需要选择测试模式。</li>\n<li>–oltp-tables-count：测试的表数量，根据实际情况选择</li>\n<li>–oltp-table-size：测试的表的大小，根据实际情况选择</li>\n<li>–threads：客户端的并发连接数</li>\n<li>–time：测试执行的时间，单位是秒，该值不要太短，可以选择120</li>\n<li>–report-interval：生成报告的时间间隔，单位是秒，如10</li>\n</ul>\n<h2>4、sysbench使用举例</h2>\n<p>在执行sysbench时，应该注意：</p>\n<p>（1）尽量不要在MySQL服务器运行的机器上进行测试，一方面可能无法体现网络（哪怕是局域网）的影响，另一方面，sysbench的运行（尤其是设置的并发数较高时）会影响MySQL服务器的表现。</p>\n<p>（2）可以逐步增加客户端的并发连接数（–thread参数），观察在连接数不同情况下，MySQL服务器的表现；如分别设置为10,20,50,100等。</p>\n<p>（3）一般执行模式选择complex即可，如果需要特别测试服务器只读性能，或不使用事务时的性能，可以选择simple模式或nontrx模式。</p>\n<p>（4）如果连续进行多次测试，注意确保之前测试的数据已经被清理干净。</p>\n<p>下面是sysbench使用的一个例子：</p>\n<h3>（1）准备数据</h3>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f52862550855995\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench ./tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.65.66 --mysql-port=3306 --mysql-user=root --mysql-password=123456 --oltp-test-mode=complex --oltp-tables-count=10 --oltp-table-size=100000 --threads=10 --time=120 --report-interval=10 prepare</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52862550855995-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f52862550855995-1\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">192.168.65.66</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3306</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">123456</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mode</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">tables</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">count</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">table</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">100000</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">threads</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">time</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">interval</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">prepare</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n\n</div>\n<p>其中，执行模式为complex，使用了10个表，每个表有10万条数据，客户端的并发线程数为10，执行时间为120秒，每10秒生成一次报告。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/82a41dd113faf12511a4a9eeb23eb804.png\" alt=\"\"></p>\n<h3>（2）执行测试</h3>\n<p>将测试结果导出到文件中，便于后续分析。</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f52865525157800\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench ./tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.65.66 --mysql-port=3306 --mysql-user=root --mysql-password=123456 --oltp-test-mode=complex --oltp-tables-count=10 --oltp-table-size=100000 --threads=10 --time=120 --report-interval=10 run &gt;&gt; /home/test/mysysbench.log</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f52865525157800-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f52865525157800-1\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">192.168.65.66</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3306</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">123456</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mode</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">complex</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">tables</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">count</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">table</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">size</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">100000</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">threads</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">time</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">120</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">report</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">interval</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">run</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">home</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">mysysbench</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">log</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0022 seconds] -->\r\n\n</div>\n<h3>（3）清理数据</h3>\n<p>执行完测试后，清理数据，否则后面的测试会受到影响。</p>\n<div>\n<!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1f5286b880353535\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nsysbench ./tests/include/oltp_legacy/oltp.lua --mysql-host=192.168.65.66 --mysql-port=3306 --mysql-user=root --mysql-password=123456 cleanup</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1f5286b880353535-1\">1</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1f5286b880353535-1\"><span class=\"crayon-i\">sysbench</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">tests</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">include</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp_legacy</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">oltp</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">lua</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">host</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">192.168.65.66</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">port</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">3306</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">user</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">root</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">--</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">password</span><span class=\"crayon-o\">=</span><span class=\"crayon-cn\">123456</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">cleanup</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0012 seconds] -->\r\n\n</div>\n<h2>5、测试结果</h2>\n<p>测试结束后，查看输出文件，如下所示：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/bc2d91443c26b403618e0378598e0f0d.png\" alt=\"\"></p>\n<p>其中，对于我们比较重要的信息包括：</p>\n<p>queries：查询总数及qps</p>\n<p>transactions：事务总数及tps</p>\n<p>Latency-95th percentile：前95%的请求的最大响应时间，本例中是344毫秒，这个延迟非常大，是因为我用的MySQL服务器性能很差；在正式环境中这个数值是绝对不能接受的。</p>\n<h1>三、建议</h1>\n<p>下面是使用sysbench的一些建议。</p>\n<p>1、在开始测试之前，应该首先明确：应采用针对整个系统的基准测试，还是针对MySQL的基准测试，还是二者都需要。</p>\n<p>2、如果需要针对MySQL的基准测试，那么还需要明确精度方面的要求：是否需要使用生产环境的真实数据，还是使用工具生成也可以；前者实施起来更加繁琐。如果要使用真实数据，尽量使用全部数据，而不是部分数据。</p>\n<p>3、基准测试要进行多次才有意义。</p>\n<p>4、测试时需要注意主从同步的状态。</p>\n<p>5、测试必须模拟多线程的情况，单线程情况不但无法模拟真实的效率，也无法模拟阻塞甚至死锁情况。</p>\n<h1>参考文献</h1>\n<p>http://blog.csdn.net/oahz4699092zhao/article/details/53332105</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112597\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112597votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112597\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，MySQL，数据库", "front_image_path": "full/35011d6168be00e949624c665041dc724e3ad786.jpg"}
{"title": "Adobe 软件的最佳 Linux 替代品", "url": "http://blog.jobbole.com/112589/", "url_object_id": "b2b4f5cd38ef5798d885749ba5917116", "create_date": "2017/10/10", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/02f8cb35080c751b3ae2d27bf7843287.jpg"], "praise_nums": "5", "fav_nums": 5, "comment_nums": 2, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://www.maketecheasier.com/adobe-alternatives-for-linux/\">Toni Matthews-el</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8928-1.html\">Linux中国/geekpi</a>   </div><p>你是一名正在寻找 Adobe 的替代品的 Linux 用户吗？那你不是一个人。如果你是一个狂热的平面设计师，那么你可能很擅长避开昂贵的 Adobe 产品。不过，对于 Adobe 来说，Linux 用户通常是其支持最不利的。因此，Adobe 的替代品是必须的 —— 但是最好的选择是什么？</p>\n<p>这最终要看具体的 Adobe 程序和你希望完成的事情。幸运的是，由于需求是所有发明之母，有人响应了这些号召。其结果是出现了一系列高效的 Adobe 替代品。</p>\n<h3 id=\"toc_1\">Evince (Adobe Acrobat Reader)</h3>\n<p><img class=\"aligncenter\" title=\"Evince_AdobeReaderSubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/02f8cb35080c751b3ae2d27bf7843287.jpg\" alt=\"Evince_AdobeReaderSubstitute\"></p>\n<p>就像 Adobe Acrobat Reader 一样，<a href=\"https://wiki.gnome.org/Apps/Evince\">Evince</a> 是一个“支持多种文档格式的文档查看器”。例如，用户可以使用 Evince 作为 PDF 查看器。它还支持各种漫画书格式（cbr、cbz、cb7 和 cbt）。你可以在 Evince 网站上找到<a href=\"https://wiki.gnome.org/Apps/Evince/SupportedDocumentFormats\">支持格式的完整列表</a>。</p>\n<p>对于 Evince ，Linux 用户不用高估，也不用贬低，它就是个标准的查看器。你可以在需要时前往官方网站进行更新。</p>\n<h3 id=\"toc_2\">Pixlr (Adobe Photoshop)</h3>\n<p><img class=\"aligncenter\" title=\"Pixlr_Photoshopsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/368e5c3d6ee1d12ff97840c95c35d372.jpg\" alt=\"Pixlr_Photoshopsubstitute\"></p>\n<p>关于 <a href=\"https://pixlr.com/\">Pixlr</a> 的很棒的一点是这个 Adobe 替代品的各种工具可以在线获得。如果你有一个互联网连接，那么你就有一个强大的图像编辑工作区。</p>\n<p><a href=\"https://pixlr.com/editor/\">Pixlr Editor</a> 是 Photoshop 的一个功能强大的替代品，你可以使用图层和相关效果。它还有一些漂亮的绘图和颜色编辑工具。<a href=\"https://pixlr.com/express/\">Pixlr Express</a> 没有这么多功能，因为它主要用于图像增强、调整颜色和清晰度，并增加一些 Instagram 适用的效果！</p>\n<p>你可以通过 Pixlr 完成的任务简直不可置信，而且完全免费的。</p>\n<h3 id=\"toc_3\">Inkscape (Adobe Illustrator)</h3>\n<p><img class=\"aligncenter\" title=\"Inkscape_Illustratorsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/42a9a8d70f0d2685aeece355411a4def.jpg\" alt=\"Inkscape_Illustratorsubstitute\"></p>\n<p><a href=\"https://inkscape.org/en/\">Inkscape</a>是另一个值得推荐的免费 Adobe 替代品。它主要作为一个“专业的矢量图形编辑器”。除了 Illustrator，Inkscape 也与 Corel Draw、Freehand 和 Xara X 的功能差不多。</p>\n<p>它的矢量设计工具可用于制作 logo 和“高可伸缩性”艺术品。Inkscape 包含绘图、形状和文本工具。图层工具允许你锁定、分组或隐藏单个图层。</p>\n<h3 id=\"toc_4\">Pinegrow Web Editor (Adobe Dreamweaver)</h3>\n<p><img class=\"aligncenter\" title=\"Pinegrow_Dreamweaversubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/29f3b3c6087f20365d8dea875bd655e5.jpg\" alt=\"Pinegrow_Dreamweaversubstitute\"></p>\n<p><a href=\"http://pinegrow.com/\">Pinegrow Web Editor</a> 是 Dreamweaver 在 Linux 上的绝佳替代品。该程序可让你在桌面上直接制作 HTML 网站。</p>\n<p>不仅是使用代码创建（而且需要稍后预览），Pinegrow 可以提供详细的可视化编辑体验。你可以直接查看和测试你的 HTML 项目，实时了解链接是否正常工作，或者图片是否在它该在的地方。Pinegrow 还附带了 WordPress 主题构建器。</p>\n<p>免费试用 30 天。如果你喜欢，你可以一次性支付 $49 购买。</p>\n<h3 id=\"toc_5\">Scribus (Adobe InDesign)</h3>\n<p><img class=\"aligncenter\" title=\"Scribus_InDesignsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/49e60536c002546f459886d676d23ebe.jpg\" alt=\"Scribus_InDesignsubstitute\"></p>\n<p><a href=\"https://www.scribus.net/\">Scribus</a> 可能是最接近 Adobe InDesign 的替代品。根据开发者的说法，你应该<a href=\"https://www.scribus.net/why-on-earth-should-i-use-scribus-2/\">认真考虑使用</a> Scribus，因为它是可靠和免费的。</p>\n<p>实际上，Scribus 不仅仅是一个出色的桌面出版工具，也是一个很好的自出版工具。当你可以自己做高质量的杂志和书籍时，为什么要依靠昂贵的商业软件来创建？Scribus 目前允许设计师使用一个 200 色的调色板，下一个稳定版中<a href=\"https://www.scribus.net/because-color-matters/\">承诺将会加倍颜色数</a>。</p>\n<h3 id=\"toc_6\">digiKam (Adobe Lightroom)</h3>\n<p><img class=\"aligncenter\" title=\"digiKam_Lightroomsubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/75e5d570b76f8502b3ac02f2696ec0c6.jpg\" alt=\"digiKam_Lightroomsubstitute\"></p>\n<p><a href=\"http://digikam.org/\">digiKam</a> 也许是目前 Linux 用户最好的 Lightroom 替代品。功能包括导入照片、整理图片集、图像增强、创建幻灯片等功能。</p>\n<p>它的时尚设计和先进的功能是真正用心之作。实际上，digiKam 背后的人是摄影师们。不仅如此，他们希望在 Linux 中完成在 Lightroom 能做的任何工作。</p>\n<h3 id=\"toc_7\">Webflow (Adobe Muse)</h3>\n<p><img class=\"aligncenter\" title=\"Webflow_Museubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/fb9b3754aebcc39c1da964700fe8e766.jpg\" alt=\"Webflow_Museubstitute\"></p>\n<p><a href=\"https://webflow.com/\">Webflow</a> 是另一个可以证明你无需下载软件而可以完成很多事的网站。这是一个非常方便的 Adobe Muse 替代品，Webflow 是创建高响应式网站设计的理想选择。</p>\n<p>Webflow 的最好的一方面是你不需要自己编写代码。你只需拖放图像并写入文本。Webflow 为你做了所有杂事。你可以从头开始构建网站，也可以使用各种模板。虽然是免费的，但是其高级版本还提供了额外的功能，如能够轻松地导出 HTML 和 CSS 以在其他地方使用。</p>\n<h3 id=\"toc_8\">Tupi (Adobe Animate)</h3>\n<p><img class=\"aligncenter\" title=\"Tupi_Animatesubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f51344b7a7d54f504851a9c5fa71a2ff.jpg\" alt=\"Tupi_Animatesubstitute\"></p>\n<p><a href=\"http://www.maefloresta.com/portal/\">Tupi</a> 是 Adobe Animate 的替代品，或者也可以用于那些<a href=\"https://www.maketecheasier.com/sites-moving-away-flash/\">不太热衷于 Flash 的人</a>。当然，Tupi 的作者说这并不是与 Flash 竞争。然而，其使用 HTML5 的能力使其成为了理想的替代品。</p>\n<p>在 PC 或平板电脑上绘制 2D 动画。不确定如何开始？使用网站的 <a href=\"https://www.youtube.com/user/maefloresta\">YouTube 教程</a>了解如何制作剪贴画动画以及更多。</p>\n<h3 id=\"toc_9\">Black Magic Fusion (Adobe After Effects)</h3>\n<p><img class=\"aligncenter\" title=\"Fusion_AFterEffectssubstitute\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/66943ddefdc61c992d8c204666324759.jpg\" alt=\"Fusion_AFterEffectssubstitute\"></p>\n<p><a href=\"https://www.blackmagicdesign.com/\">Black Magic Fusion</a> 注定是 Adobe After Effects 的替代者。这个视觉效果软件历经了大约 25 年的开发！Fusion 通常用于在好莱坞电影和电视节目中制造令人印象深刻的效果 —— 这靠的是其丰富而时尚的功能。</p>\n<p>Fusion 通过使用节点，即那些“代表效果、过滤器和其他处理的小图标”工作。将这些节点连接在一起，创建一系列复杂的视觉效果。该程序包括许多功能，如图片修饰、对象跟踪和令人兴奋的 3D 效果。</p>\n<p>你可以选择免费版或者 $995 的 Fusion Studio。为了帮助你决定，<a href=\"https://www.blackmagicdesign.com/products/fusion/compare\">你可以比较</a>免费和高级版的 Fusion 功能。</p>\n<h3 id=\"toc_10\">总结</h3>\n<p>如你所见，这些远不止于是 Adobe 替代品。由于开源的缘故，显著提升的替代品的不断地发布。我们很快就会看到一个仅为 Linux 用户创建的完整套件。在此之前，你可以随意选择这些替代品。</p>\n<p>知道这里没有提到的其它有用的 Adobe 替代品吗？在下面的评论区分享软件建议。</p>\n<p> </p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112589\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112589votetotal\">5</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112589\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 2 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，adobe，Linux", "front_image_path": "full/4439e403a2c28b82101fcf6605f36f3d3a79f7f2.jpg"}
{"title": "如何在一个 U 盘上安装多个 Linux 发行版", "url": "http://blog.jobbole.com/112707/", "url_object_id": "0e2c4297cf8c32b12e9fe1756453f8f0", "create_date": "2017/10/16", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2016/08/2e327580770370cc02c696e176d4cb77.jpg"], "praise_nums": "3", "fav_nums": 1, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://itsfoss.com/multiple-linux-one-usb/\">Ambarish Kumar</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8957-1.html\">Linux中国/geekpi</a>   </div><blockquote><p>本教程介绍如何在一个 U 盘上安装多个 Linux 发行版。这样，你可以在单个 U 盘上享受多个现场版live Linux 发行版了。</p></blockquote>\n<p>我喜欢通过 U 盘尝试不同的 Linux 发行版。它让我可以在真实的硬件上测试操作系统，而不是虚拟化的环境中。此外，我可以将 USB 插入任何系统（比如 Windows 系统），做任何我想要的事情，以及享受相同的 Linux 体验。而且，如果我的系统出现问题，我可以使用 U 盘恢复！</p>\n<p>创建单个<a href=\"https://itsfoss.com/create-live-usb-of-ubuntu-in-windows/\">可启动的现场版 Linux USB</a> 很简单，你只需下载一个 ISO 文件并将其刻录到 U 盘。但是，如果你想尝试多个 Linux 发行版呢？你可以使用多个 U 盘，也可以覆盖同一个 U 盘以尝试其他 Linux 发行版。但这两种方法都不是很方便。</p>\n<p>那么，有没有在单个 U 盘上安装多个 Linux 发行版的方式呢？我们将在本教程中看到如何做到这一点。</p>\n<h3 id=\"toc_1\">如何创建有多个 Linux 发行版的可启动 USB</h3>\n<p>我们有一个工具正好可以做到<em>在单个 U 盘上保留多个 Linux 发行版</em>。你所需要做的只是选择要安装的发行版。在本教程中，我们将介绍<em>如何在 U 盘中安装多个 Linux 发行版</em>用于现场会话live session。</p>\n<p>要确保你有一个足够大的 U 盘，以便在它上面安装多个 Linux 发行版，一个 8 GB 的 U 盘应该足够用于三四个 Linux 发行版。</p>\n<h4 id=\"toc_2\">步骤 1</h4>\n<p><a href=\"http://multibootusb.org/\">MultiBootUSB</a> 是一个自由、开源的跨平台应用程序，允许你创建具有多个 Linux 发行版的 U 盘。它还支持在任何时候卸载任何发行版，以便你回收驱动器上的空间用于另一个发行版。</p>\n<p>下载 .deb 包并双击安装。</p>\n<p><a href=\"https://github.com/mbusb/multibootusb/releases/download/v8.8.0/python3-multibootusb_8.8.0-1_all.deb\">下载 MultiBootUSB</a></p>\n<h4 id=\"toc_3\">步骤 2</h4>\n<p>推荐的文件系统是 FAT32，因此在创建多引导 U 盘之前，请确保格式化 U 盘。</p>\n<h4 id=\"toc_4\">步骤 3</h4>\n<p>下载要安装的 Linux 发行版的 ISO 镜像。</p>\n<h4 id=\"toc_5\">步骤 4</h4>\n<p>完成这些后，启动 MultiBootUSB。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/59bb31afe67fed96bf8544aa03d90b62.png\" alt=\"MultiBootUSB\"></p>\n<p>主屏幕要求你选择 U 盘和你打算放到 U 盘上的 Linux 发行版镜像文件。</p>\n<p>MultiBootUSB 支持 Ubuntu、Fedora 和 Debian 发行版的持久化，这意味着对 Linux 发行版的现场版本所做的更改将保存到 USB 上。</p>\n<p>你可以通过拖动 MultiBootUSB 选项卡下的滑块来选择持久化大小。持久化为你提供了在运行时将更改保存到 U 盘的选项。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/1445361a61e458b7f7c0bee4ee389da3.png\" alt=\"MultiBootUSB persistence storage\"></p>\n<h4 id=\"toc_6\">步骤 5</h4>\n<p>单击“安装发行版”选项并继续安装。在显示成功的安装消息之前，需要一些时间才能完成。</p>\n<p>你现在可以在已安装部分中看到发行版了。对于另外的操作系统，重复该过程。这是我安装 Ubuntu 16.10 和 Fedora 24 后的样子。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/04299cb6ee0226e024c35f1a0445bc49.png\" alt=\"MultiBootSystem with Ubuntu and Fedora\"></p>\n<h4 id=\"toc_7\">步骤 6</h4>\n<p>下次通过 USB 启动时，我可以选择任何一个发行版。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/67d16917c3bce3f95bc67691edcb45c7.png\" alt=\"Boot Menu\"></p>\n<p>只要你的 U 盘允许，你可以添加任意数量的发行版。要删除发行版，请从列表中选择它，然后单击卸载发行版。</p>\n<h3 id=\"toc_8\">最后的话</h3>\n<p>MultiBootUSB 真的很便于在 U 盘上安装多个 Linux 发行版。只需点击几下，我就有两个我最喜欢的操作系统的工作盘了，我可以在任何系统上启动它们。</p>\n<p>如果你在安装或使用 MultiBootUSB 时遇到任何问题，请在评论中告诉我们。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112707\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112707votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112707\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，Linux", "front_image_path": "full/dd1cc9aabc819ded578b6acfe94b7f995ee5ea2d.jpg"}
{"title": "BFPRT 算法（TOP-K问题）", "url": "http://blog.jobbole.com/112753/", "url_object_id": "27bf36e3e84699824cd884b8b80ea7f6", "create_date": "2017/10/24", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2014/10/a1a4de99de0c75eab712542a7dac876f.png"], "praise_nums": "1", "fav_nums": 1, "comment_nums": 1, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"https://www.61mon.com/index.php/archives/175/\">刘毅</a>   </div><h3>一：背景介绍</h3>\n<p>在一堆数中求其前k大或前k小的问题，简称TOP-K问题。而目前解决TOP-K问题最有效的算法即是”BFPRT算法”，又称为”中位数的中位数算法”，该算法由Blum、Floyd、Pratt、Rivest、Tarjan提出，最坏时间复杂度为$O(n)$。</p>\n<p>在首次接触TOP-K问题时，我们的第一反应就是可以先对所有数据进行一次排序，然后取其前k即可，但是这么做有两个问题：</p>\n<ul>\n<li>快速排序的平均复杂度为$O(nlogn)$，但最坏时间复杂度为$O(n^2)$，不能始终保证较好的复杂度。</li>\n<li>我们只需要前k大的，而对其余不需要的数也进行了排序，浪费了大量排序时间。</li>\n</ul>\n<p>除这种方法之外，堆排序也是一个比较好的选择，可以维护一个大小为k的堆，时间复杂度为$O(nlogk)$。</p>\n<p>那是否还存在更有效的方法呢？受到快速排序的启发，通过<strong>修改快速排序中主元的选取方法</strong>可以降低快速排序在<strong>最坏情况下的时间复杂度</strong>，并且我们的目的只是求出前k，故递归的规模变小，速度也随之提高。下面来简单回顾下快速排序的过程，以升序为例：</p>\n<p>（1）：选取主元（数组中随机一个元素）；<br>\n（2）：以选取的主元为分界点，把小于主元的放在左边，大于主元的放在右边；<br>\n（3）：分别对左边和右边进行递归，重复上述过程。</p>\n<p><span id=\"more-112753\"></span> <span id=\"menu_index_2\"></span></p>\n<h3>二：BFPRT算法过程及代码</h3>\n<p>BFPRT算法步骤如下：</p>\n<p>（1）：选取主元；<br>\n（1.1）：将n个元素划分为$⌊frac n5⌋$个组，每组5个元素，若有剩余，舍去；<br>\n（1.2）：使用插入排序找到$⌊frac n5⌋$个组中每一组的中位数；<br>\n（1.3）：对于（1.2）中找到的所有中位数，调用BFPRT算法求出它们的中位数，作为主元；<br>\n（2）：以（1.3）选取的主元为分界点，把小于主元的放在左边，大于主元的放在右边；<br>\n（3）：判断主元的位置与k的大小，有选择的对左边或右边递归。</p>\n<p>上面的描述可能并不易理解，先看下面这幅图：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/5bbd9517fcc7829ce1a5689afa13c379.png\" alt=\"\"></p>\n<p>BFPRT()调用GetPivotIndex()和Partition()来求解第k小，在这过程中，GetPivotIndex()也调用了BFPRT()，即GetPivotIndex)和BFPRT()为互递归的关系。</p>\n<p>下面为代码实现，其所求为<strong>前K小的数</strong>：</p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f4fe1e75eca344623304\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n/**\r\n * BFPRT算法（前K小数问题）\r\n *\r\n * author : 刘毅（Limer）\r\n * date   : 2017-01-25\r\n * mode   : C++\r\n */\r\n\r\n#include &lt;iostream&gt;\r\n#include &lt;algorithm&gt;\r\n\r\nusing namespace std;\r\n\r\n/* 插入排序，返回中位数下标 */\r\nint InsertSort(int array[], int left, int right)\r\n{\r\n    int temp;\r\n    int j;\r\n\r\n    for (int i = left + 1; i &lt;= right; i++)\r\n    {\r\n        temp = array[i];\r\n        j = i - 1;\r\n        while (j &gt;= left &amp;&amp; array[j] &gt; temp)\r\n            array[j + 1] = array[j--];\r\n        array[j + 1] = temp;\r\n    }\r\n\r\n    return ((right - left) &gt;&gt; 1) + left;\r\n}\r\n\r\n/* 返回中位数的中位数下标 */\r\n\r\nint BFPRT(int array[], int left, int right, const int &amp; k);\r\n\r\nint GetPivotIndex(int array[], int left, int right)\r\n{\r\n    if (right - left &lt; 5)\r\n        return InsertSort(array, left, right);\r\n\r\n    int sub_right = left - 1;\r\n\r\n    for (int i = left; i + 4 &lt;= right; i += 5)\r\n    {\r\n        int index = InsertSort(array, i, i + 4);  // 找到五个元素的中位数的下标\r\n        swap(array[++sub_right], array[index]);   // 依次放在左侧\r\n    }\r\n\r\n    return BFPRT(array, left, sub_right, ((sub_right - left + 1) &gt;&gt; 1) + 1);\r\n}\r\n\r\n/* 利用中位数的中位数的下标进行划分，返回分界线下标 */\r\nint Partition(int array[], int left, int right, int pivot_index)\r\n{\r\n    swap(array[pivot_index], array[right]);  // 把主元放置于末尾\r\n    int divide_index = left;                 // 跟踪划分的分界线\r\n\r\n    for (int i = left; i &lt; right; i++)\r\n    {\r\n        if (array[i] &lt; array[right])\r\n            swap(array[divide_index++], array[i]);  // 比主元小的都放在左侧\r\n    }\r\n\r\n    swap(array[divide_index], array[right]);  // 最后把主元换回来\r\n\r\n    return divide_index;\r\n}\r\n\r\nint BFPRT(int array[], int left, int right, const int &amp; k)\r\n{\r\n    int pivot_index = GetPivotIndex(array, left, right);            // 得到中位数的中位数下标\r\n    int divide_index = Partition(array, left, right, pivot_index);  // 进行划分，返回划分边界\r\n    int num = divide_index - left + 1;\r\n\r\n    if (num == k)\r\n        return divide_index;\r\n    else if (num &gt; k)\r\n        return BFPRT(array, left, divide_index - 1, k);\r\n    else\r\n        return BFPRT(array, divide_index + 1, right, k - num);\r\n}\r\n\r\nint main()\r\n{\r\n    int k = 5;\r\n    int array[10] = { 1,1,2,3,1,5,-1,7,8,-10 };\r\n\r\n    cout &lt;&lt; \"原数组：\";\r\n    for (int i = 0; i &lt; 10; i++)\r\n        cout &lt;&lt; array[i] &lt;&lt; \" \";\r\n    cout &lt;&lt; endl;\r\n\r\n    cout &lt;&lt; \"第\" &lt;&lt; k &lt;&lt; \"小值为：\" &lt;&lt; array[BFPRT(array, 0, 9, k)] &lt;&lt; endl;\r\n\r\n    cout &lt;&lt; \"变换后的数组：\";\r\n    for (int i = 0; i &lt; 10; i++)\r\n        cout &lt;&lt; array[i] &lt;&lt; \" \";\r\n    cout &lt;&lt; endl;\r\n\r\n    return 0;\r\n}</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-25\">25</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-26\">26</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-27\">27</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-28\">28</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-29\">29</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-30\">30</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-31\">31</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-32\">32</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-33\">33</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-34\">34</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-35\">35</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-36\">36</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-37\">37</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-38\">38</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-39\">39</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-40\">40</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-41\">41</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-42\">42</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-43\">43</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-44\">44</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-45\">45</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-46\">46</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-47\">47</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-48\">48</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-49\">49</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-50\">50</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-51\">51</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-52\">52</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-53\">53</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-54\">54</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-55\">55</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-56\">56</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-57\">57</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-58\">58</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-59\">59</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-60\">60</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-61\">61</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-62\">62</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-63\">63</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-64\">64</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-65\">65</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-66\">66</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-67\">67</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-68\">68</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-69\">69</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-70\">70</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-71\">71</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-72\">72</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-73\">73</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-74\">74</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-75\">75</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-76\">76</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-77\">77</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-78\">78</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-79\">79</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-80\">80</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-81\">81</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-82\">82</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-83\">83</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-84\">84</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-85\">85</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-86\">86</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-87\">87</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-88\">88</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-89\">89</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-90\">90</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-91\">91</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-92\">92</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-93\">93</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-94\">94</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-95\">95</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-96\">96</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-97\">97</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-98\">98</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-99\">99</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f4fe1e75eca344623304-100\">100</div><div class=\"crayon-num\" data-line=\"crayon-59f4fe1e75eca344623304-101\">101</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-1\"><span class=\"crayon-c\">/**</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-2\"><span class=\"crayon-c\"> * BFPRT算法（前K小数问题）</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-3\"><span class=\"crayon-c\"> *</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-4\"><span class=\"crayon-c\"> * author : 刘毅（Limer）</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-5\"><span class=\"crayon-c\"> * date   : 2017-01-25</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-6\"><span class=\"crayon-c\"> * mode   : C++</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-7\"><span class=\"crayon-c\"> */</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-8\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-9\"><span class=\"crayon-p\">#include &lt;iostream&gt;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-10\"><span class=\"crayon-p\">#include &lt;algorithm&gt;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-11\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-12\"><span class=\"crayon-e\">using </span><span class=\"crayon-t\">namespace</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">std</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-13\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-14\"><span class=\"crayon-c\">/* 插入排序，返回中位数下标 */</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-15\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">InsertSort</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-16\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-17\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">temp</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-18\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">j</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-19\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-20\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-21\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-22\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">temp</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-23\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-24\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">while</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">j</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">temp</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-25\"><span class=\"crayon-h\">            </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">j</span><span class=\"crayon-o\">--</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-26\"><span class=\"crayon-h\">        </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">j</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">temp</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-27\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-28\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-29\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">right</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-30\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-31\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-32\"><span class=\"crayon-c\">/* 返回中位数的中位数下标 */</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-33\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-34\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">BFPRT</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-35\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-36\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetPivotIndex</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-37\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-38\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">right</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-39\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">InsertSort</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-40\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-41\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sub_right</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-42\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-43\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-44\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-45\"><span class=\"crayon-h\">        </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">InsertSort</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// 找到五个元素的中位数的下标</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-46\"><span class=\"crayon-h\">        </span><span class=\"crayon-e\">swap</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-o\">++</span><span class=\"crayon-v\">sub_right</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">index</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">   </span><span class=\"crayon-c\">// 依次放在左侧</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-47\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-48\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-49\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">BFPRT</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">sub_right</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">sub_right</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-50\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-51\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-52\"><span class=\"crayon-c\">/* 利用中位数的中位数的下标进行划分，返回分界线下标 */</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-53\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Partition</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pivot_index</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-54\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-55\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">swap</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">pivot_index</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// 把主元放置于末尾</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-56\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">                 </span><span class=\"crayon-c\">// 跟踪划分的分界线</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-57\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-58\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-59\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-60\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-61\"><span class=\"crayon-h\">            </span><span class=\"crayon-e\">swap</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// 比主元小的都放在左侧</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-62\"><span class=\"crayon-h\">    </span><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-63\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-64\"><span class=\"crayon-h\">    </span><span class=\"crayon-e\">swap</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// 最后把主元换回来</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-65\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-66\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-67\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-68\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-69\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">BFPRT</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-sy\">]</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-m\">const</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&amp;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-70\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-71\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pivot_index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">GetPivotIndex</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">            </span><span class=\"crayon-c\">// 得到中位数的中位数下标</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-72\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Partition</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">pivot_index</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\">  </span><span class=\"crayon-c\">// 进行划分，返回划分边界</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-73\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">num</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-74\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-75\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">num</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">==</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-76\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-77\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">if</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">num</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&gt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-78\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">BFPRT</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">left</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-79\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">else</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-80\"><span class=\"crayon-h\">        </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">BFPRT</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">divide_index</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">+</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">right</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">num</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-81\"><span class=\"crayon-sy\">}</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-82\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-83\"><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">main</span><span class=\"crayon-sy\">(</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-84\"><span class=\"crayon-sy\">{</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-85\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-86\"><span class=\"crayon-h\">    </span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">{</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">2</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">3</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">5</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">7</span><span class=\"crayon-sy\">,</span><span class=\"crayon-cn\">8</span><span class=\"crayon-sy\">,</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">10</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">}</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-87\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-88\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"原数组：\"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-89\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-90\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\" \"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-91\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">endl</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-92\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-93\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"第\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"小值为：\"</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-e\">BFPRT</span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">9</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">k</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">endl</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-94\"> </div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-95\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\"变换后的数组：\"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-96\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-t\">int</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">i</span><span class=\"crayon-o\">++</span><span class=\"crayon-sy\">)</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-97\"><span class=\"crayon-h\">        </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-t\">array</span><span class=\"crayon-sy\">[</span><span class=\"crayon-v\">i</span><span class=\"crayon-sy\">]</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">\" \"</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-98\"><span class=\"crayon-h\">    </span><span class=\"crayon-v\">cout</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">&lt;&lt;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">endl</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-99\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f4fe1e75eca344623304-100\"><span class=\"crayon-h\">    </span><span class=\"crayon-st\">return</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">0</span><span class=\"crayon-sy\">;</span></div><div class=\"crayon-line\" id=\"crayon-59f4fe1e75eca344623304-101\"><span class=\"crayon-sy\">}</span></div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0164 seconds] -->\r\n<p><code></code>运行如下：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/7f4233b03fbad0d9b681860edf4a1bc3.png\" alt=\"\"></p>\n<h3>三：时间复杂度分析</h3>\n<p> </p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/10/d206bda7b56cbfee9973074ed8eac16b.png\"><img class=\"alignnone size-full wp-image-112756\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/d206bda7b56cbfee9973074ed8eac16b.png\" alt=\"QQ截图20171024111911\"></a></p>\n<p><a href=\"http://jbcdn2.b0.upaiyun.com/2017/10/e4022c9658a1f141e7c9a66c6b4d1626.png\"><img class=\"alignnone size-full wp-image-112757\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e4022c9658a1f141e7c9a66c6b4d1626.png\" alt=\"QQ截图20171024112045\"></a></p>\n<h3>四：参考文献</h3>\n<ul>\n<li>算法导论（第3版）. Page 120.</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112753\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112753votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112753\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，算法", "front_image_path": "full/30fcdf79d0b901a9dde107f5e6e10f11fd95d574.jpg"}
{"title": "Hello, World！我的房车编程生活，已经 150 天了", "url": "http://blog.jobbole.com/112606/", "url_object_id": "3e1c1959a27ac7a0987efd85517a6f29", "create_date": "2017/10/13", "front_image_url": ["http://wx1.sinaimg.cn/mw690/7cc829d3gy1fkgdqomc4yj20ku0d1ad9.jpg"], "praise_nums": "2", "fav_nums": 2, "comment_nums": 8, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a> 翻译。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://ruby-on-wheels.github.io/blog/the-first-150-days-of-van-life/\">Jakob Class</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我的房车编程生活今天已经到了第 150 天。自今年 5 月离开柏林以来，我访问了 6 个国家，行程超过了 1.2 万公里，收集了 18 万瓦时(Wh）太阳能，并沿途遇到了许多有趣的人。</p>\n<p>房车编程生活无疑是我人生中值得纪念的一次经历。</p>\n<h2>接受想法驱动，不必遵循计划</h2>\n<p>作为一名可远程工作的软件工程师，我的作息基本看大脑的状态：兴奋时工作，疲倦时休息；我的生活以前完全围绕着灵活的工作时间进行安排。通常，我会对下周有一个详细的计划，比如周一和前同事共进午餐，周二参加生日晚宴，周三看电影，周四发表演讲，周五去听音乐会，周六来次（自行车）骑行等等。</p>\n<blockquote><p>编注：小编从这位程序员小哥的 GitHub 资料中发现，原来他是 GitHub 职员。在伯乐在线之前的编译文章《<a href=\"http://mp.weixin.qq.com/s?__biz=MjM5MzA0OTkwMA==&amp;mid=2651196256&amp;idx=1&amp;sn=ec8000f5a4d24650b307079b0909dbdc&amp;chksm=bd6e57238a19de351524cbd7b2328f973322949fbbfe1660afd4d608a2dbe70dd90c70357a4e&amp;scene=21#wechat_redirect\" target=\"_blank\">为什么招不到最好的程序员？StackOverflow 创始人有些建议</a>》中就提到「GitHub 至少三分之二是远程工作者」，WordPress 绝大多数员工都是可远程工作的，Stack Overflow 也有非常高的比例。</p>\n<p><img class=\"alignnone\" src=\"http://wx2.sinaimg.cn/mw690/7cc829d3gy1fkgdp0pa77j20f70fun1m.jpg\" width=\"547\" height=\"570\"></p></blockquote>\n<p>我很少躺在吊床上放松休息，或在拐角的公园里享受阳光，放飞思绪。尽管我的工作很棒，我经常觉得需要休息一下：放个假或只是换个地方工作几周。</p>\n<p>但如今生活在房车中，我不再有这样的想法。我不再遵循固定的计划，而是接受随机想法的驱动：海浪很大的时候去冲浪；天冷空气好的时候就工作；天气炎热的时候去游泳；困倦的时候补个觉；当我喜欢一个地方，我就呆在那里；当我遇到一个很酷的人，我就加入其中；当我的房车坏了，我试着把它修好。</p>\n<p>你看，我的房车（编程）生活，如同<span style=\"color: #000000;\">源源不断的不可控事件</span>：没有太多的计划，事情都自然而然地发生。甚至有时，我什么都不做，只是躺在吊床上放松休息。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_8728.JPG\" alt=\"Relaxing in my hammock\"></p>\n<h2>更健康的生活</h2>\n<p>柏林为人们提供了各种美味可口的食物。如果我能在街角买到一顿大餐，为什么要把宝贵的时间花在购物和烹饪上呢？尽管在大城市里上馆子吃饭很容易，但是坚持健康的饮食则更具挑战性。我过去经常吃沙瓦玛（ shawarma）、汉堡、烤肉串、炸肉排或披萨等各种垃圾食物。</p>\n<p>自从搬进房车后，我经常下厨。原料是各种各样的蔬菜和<strong>大量</strong>橄榄油，有时我还用肉或鱼来增添花样，烹饪不再是一种负担。我的人生不再匆忙，因为我再也不必在 20 分钟内赶往某处；相反地，时间由我支配，我很享受它。在准备一顿健康饭菜的同时，我还放松了心情，实现了双赢。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_8473.JPG\" alt=\"Preparing a meal in my van\"></p>\n<p>我尽可能把车停在开阔的绿色自然环境中。打开窗户，这样一整天都能呼吸到新鲜空气。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_9161.JPG\" alt=\"Working in the van right next to the sea\"></p>\n<p>我有时甚至在车外的野营桌上工作（见下图）。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_8258.JPG\" alt=\"Working outside of the van right next to the sea\"></p>\n<p>我如今在自然环境中工作，而不再是“臭哄哄”的办公室内，那里充斥着空调制造的“人造假空气”。当我回头远眺，我看到的是树木、群山、大海或河流。离开桌子，只需一秒，我便能光脚步入草地、沙滩或水中。我不再需要大清早骑车或坐地铁，赶往污染严重的拥挤都市。</p>\n<p>在柏林的时候，我经常会有轻微的感冒。大概每隔三个月，我会感到有点恶心或疲惫。但自从我住进房车以来，五个月都<strong>没有</strong>生过病！</p>\n<p><img class=\"alignnone aligncenter\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_7719.JPG\" width=\"750\" height=\"563\"></p>\n<p style=\"text-align: center;\">（Jakob 改装后房车，车头顶部加上了太阳能板）</p>\n<h2>生活更加可持续</h2>\n<p>当你住在柏林的普通公寓时，你会觉得资源是无限的。打开水龙头，会有无尽的淡水；设备插入插座后，你可以让它一直工作；用 2000 瓦的吹风机吹干头发，或者晚上洗个 20 分钟的热水澡，这些都完全没有问题！</p>\n<p>但当你住进一辆房车时，一切都变了。突然之间，所有的资源都是有限的，你必须以可持续的方式来利用它们。当我的水箱空了，我必须去寻找水源，将水带回车内。天黑后，车内的电池还留有 200 Ah，充电必须等到第二天天亮。我在柏林刷牙时的用水量，可能足够让现在的我支撑整整一天。而当时 80% 的水可能从水龙头流出后，就直接流入了下水道，甚至都没有接触到我的身体！</p>\n<p>房车具有的局限性并不一定会导致生活质量的下降。我仍然可以做想做的一切，只是，我不再浪费那么多资源，因为我更清楚它们是有限、不可再生的。这一点我们经常会忘记，特别是住在西部（发达）城市的时候。</p>\n<h2>变得更加外向</h2>\n<p>在柏林，我通常不会在街上随便找一个陌生人搭讪。我会和朋友们在一起制订计划，通常会忽略身边的陌生人。即使注意到他们，他们大多看起来很忙碌，或者倦容满面。</p>\n<p>如今，工作结束后，当我离开房车前往海滩，我通常会遇到放松和开放的人，他们是来度假、旅行者、冲浪的，或者是自由自在的嬉皮士。他们似乎都没有压力，每个人都有自己有趣的故事。如果我突然接近并向他们打招呼，没有人会感到惊讶，大家都已经习以为常了。与之前的旅行相比，我更能接触到新的朋友。</p>\n<p><img class=\"img-responsive\" src=\"https://ruby-on-wheels.github.io/assets/images/IMG_9413.JPG\" alt=\"Eating together with together travelers\"></p>\n<h2>一个更加简单、快乐的生活?</h2>\n<p>在过去的 150 天里，我的生活变得更加简单。我感到更加舒适自在，因为我不必再多做计划。今天做不完的事情，我大可不必担心，可以放到明天继续做。正如一位西班牙旅行者曾对我说的：</p>\n<blockquote><p>太阳每日照常升起，生活仍在继续。</p></blockquote>\n<p>我现在整个人感到身心平衡，并憧憬着前方未知的冒险旅程！</p>\n<p>译注：在“国际化大都市”工作的单身狗受到了成吨的暴击，一边翻一边留下 130 滴“羡慕的”眼泪 (;´༎ຶД༎ຶ`) 😭</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112606\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112606votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112606\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 8 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">飞哥的咖啡</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318\">\r\n\t\t\t<img src=\"http://jbcdn2.b0.upaiyun.com/2016/09/9667abaa540914200edd449974fb5538.jpg\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            我见青山多妩媚，料青山见我应如是        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/zhj318\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/zhj318/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/zhj318/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 41</a> · <a title=\"QQ：574375911\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "职场，程序员", "front_image_path": "full/79d64de6f0b671c661012e01ecb710c7bbfc064d.jpg"}
{"title": "从银行转账失败到分布式事务：总结与思考", "url": "http://blog.jobbole.com/112760/", "url_object_id": "0975d26f2e429051a027a8bbb24006c0", "create_date": "2017/10/24", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2015/11/0320c1acf91edcafcab3cfa218486cfa.jpg"], "praise_nums": "1", "fav_nums": 1, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a target=\"_blank\" href=\"http://www.cnblogs.com/xybaby/p/7465816.html\">xybaby</a>   </div><p>思考这个问题的初衷，是有一次给朋友转账，结果我的钱被扣了，朋友没收到钱。而我之前一直认为银行转账一定是由事务保证强一致性的，于是学习、总结了一下分布式事务的各种理论、方法。</p>\n<p>事务是一个非常广义的词汇，各行各业解读都不一样。对于程序员，事务等价于Transaction，是指一组连续的操作，这些操作组合成一个逻辑的、完整的操作。即这组操作执行前后，系统需要处于一个可预知的、一致的状态。因此，这一组操作要么都成功执行，要么都不能执行；如果部分成功，部分失败，成功的部分需要回滚（rollback）。</p>\n<h3>关系型数据库事务</h3>\n<p>大多数人可能和我一样，第一次听说事务是在学习关系型数据库（mysql、sql server、Oracle）的时候，在关系型数据库中，如果一组操作满足ACID特性，那么称之为一个事务。关于关系型数据库的<a href=\"https://en.wikipedia.org/wiki/ACID\" target=\"_blank\">ACID</a>特性，不管是教材还是网络上都有大量的资料，这里只简单介绍。</p>\n<p>A（Atomic）：原子性，构成事务的所有操作，要么都执行完成，要么全部不执行，不可能出现部分成功部分失败的情况<br>\nC（Consistency）：一致性，在事务执行前后，数据库的一致性约束没有被破坏。这里的一致性含义后面会详细解释<br>\nI（Isolation）：隔离性，数据库中的事务一般都是并发的，隔离性是指并发的两个事务的执行互不干扰，一个事务不能看到其他事务运行过程的中间状态<br>\nD（Durability）：持久性，事务完成之后，该事务对数据的更改会被持久化到数据库，且不会被回滚。</p>\n<p>我们举一个简单的转账的例子，用户A给玩家B转100块钱，那么涉及到两个操作：玩家A的账户扣100元，玩家B的账户加100元。即</p>\n<blockquote><p>UserA.account -= 100<br>\nUserB.account += 100</p></blockquote>\n<p>原子性很好理解，这两个操作要么都成功，要么都不执行（更准确的是从效果上来看等价于都没有执行）。不可能出现用户A的钱减少了而用户B的钱没增加的情况，用户是不允许的；更不可能出现用户B的钱增加 而 用户A的钱没有减少的情况，银行是绝对不干的。</p>\n<p>一致性说一起来大家都懂，但是深究起来也是似懂非懂。ACID中的一致性，网络上的介绍都很模糊，都是说要处于一致的状态，那什么是一致的状态呢，比如转账操作中，A扣钱，B加钱，AB的钱的综合是一定的，这个是否属于ACID中的Consistency呢？我觉得不是的，<a href=\"https://en.wikipedia.org/wiki/Transaction_processing\" target=\"_blank\">Wiki Transaction_processing</a>和<a href=\"https://en.wikipedia.org/wiki/ACID\" target=\"_blank\">Wiki： ACID</a>分别是这么描述的</p>\n<blockquote><p> Consistency: A transaction is a correct transformation of the state. The actions taken as a group <strong>do not violate any of the integrity constraints associated</strong> with the state.</p>\n<p>The consistency property ensures that any transaction will bring the database from one valid state to another. Any data written to the database must be valid according to all defined rules, including constraints, cascades, triggers, and any combination thereof. <strong>This does not guarantee correctness of the transaction in all ways the application programmer might have wanted</strong> (that is the responsibility of application-level code), but merely that any programming errors cannot result in the violation of any defined rules.</p></blockquote>\n<p>上面黑色加粗的部分指出，ACID中的一致性是指完整性约束不被破坏，完整性包含实体完整性（主属性不为空）、参照完整性（外键必须存在原表中）、用户自定义的完整性。用户自定义的完整性比如列值非空（not null）、列值唯一（unique）、列值是否满足一个bool表达式（check语句，如性别只能有两个值、岁数是一定范围内的整数等），例如age smallint CHECK (age &gt;=0 AND age &lt;= 120).数据库保证age的值在[0, 120]的范围，如果不在这个范文，那么更新操作失败，事务也会失败。另外，向mysql中的cascade，以及触发器（trigger）都属于用户自定义的完整性约束。在MongoDB3.2中<a href=\"//docs.mongodb.com/manual/core/document-validation/\" target=\"_blank\">document validation</a>就是用户自定义的完整性约束，在插入或者更新docuemnt的时候检查，不过用户可以自行设定validationAction，确定当数据不符合约束时的表现，默认为error，即拒绝数据写操作。</p>\n<p>因此，用户A，B在这次事务操作前后，账户的总和一定，是应用层面的一致性，而不是数据库保证的一致性，应用层面的一致性事实上是由原子性来保证的。</p>\n<p>隔离性说起来简单，但事实上背后的事情很复杂，数据库的隔离性依赖于加锁或者多版本控制。简单来说，如果UserA.account初始值为500，执行完第一条指令（即减去100），但事务还没有提交，其他的事务是不能读到这个中间结果（UserA.account的值为400）的。这就是避免了脏读（Drity Read），对应的隔离级别就是READ_COMMITTED。在SQL标准中，定义了四个隔离级别：</p>\n<blockquote><p>　　READ_UNCOMMITTED<br>\nREAD_COMMITTED<br>\nREPEATABLE_READ<br>\nSERIALIZABLE</p></blockquote>\n<p>来解决事务并发中带来的一下几个问题脏读（Dirty Read)、不可重复读（Non-repeatable Read）、幻读（Phantom Read）</p>\n<p>不同的数据库或者说存储引擎默认支持不同的隔离级别，比如InnoDB存储引擎默认支持REPEATABLE_READ，而Mongodb只支持READ_UNCOMMITTED</p>\n<p>持久性需要考虑到一个事务在执行过程中的各种情况的异常。一个事务的流程是这样的：</p>\n<blockquote><p>开启一个事务<br>\n执行一组操作<br>\n如果都执行成功，那么提交并结束事务<br>\n如果任何操作失败，那么回滚已经执行的操作，结束事务</p></blockquote>\n<p>在事务执行过程中，如果出现故障，比如断电、宕机，这个时候就要利用日志（redo log或者undo log） 加上 checkpoint来保证事务的完整结束。</p>\n<h3>分布式事务</h3>\n<p>当数据的规模越来越大，超出了单个关系型数据库的处理能力，这个时候就出现了关系型数据的垂直分表或者分表，也出现了天然支持水平扩展（sharding）的NoSql。另外，大型网站的服务化（SOA）以及这两年非常火的微服务，往往将服务进行拆分，单独部署，自然也使用独立的数据库，甚至是异构的数据库。这个时候，关系型数据库保证事务的手段，比如加锁、日志就行不通了。当然，本文讨论的不仅仅是数据库，也包含分布式存储、消息队列，以及任何要保证原子性、持久性的逻辑。</p>\n<p>分布式事务的最大挑战在于CAP，在《<a href=\"http://www.cnblogs.com/xybaby/p/6871764.html\" target=\"_blank\">CAP理论与MongoDB一致性、可用性的一些思考</a>》一文中有详细介绍。简而言之，由于网络分割（P： Network Partition）的存在，用户不得不在一致性（C Consistency）与可用性（A： Avaliable）之前做权衡。如果要保证强一致性（主要是应用层面的强一致性），那么在网络分割的时候，系统就不可用；如果要保证高可用性，那么就只能提供弱一致性，保证最终一致。下面提到的各种实现分布式事务的方法、协议都需要在一致性与可用性之间权衡。</p>\n<h4>2PC</h4>\n<p>提到分布式事务，首先想到的肯定是两阶段提交（2pc， <a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" target=\"_blank\">two-phase commit protocol</a>），2pc是非常经典的<strong>强一致性</strong>、<strong>中心化</strong>的原子提交协议。中心化是指协议中有两类节点：一个中心化协调者节点（coordinator）和N个参与者节点（participant、cohort）。</p>\n<p>顾名思义，两阶段提交协议的每一次事务提交分为两个阶段：</p>\n<p>在第一阶段，协调者询问所有的参与者是否可以提交事务（请参与者投票），所有参与者向协调者投票。</p>\n<p>在第二阶段，协调者根据所有参与者的投票结果做出是否事务可以全局提交的决定，并通知所有的参与者执行该决定。在一个两阶段提交流程中，参与者不能改变自己的投票结果。两阶段提交协议的可以全局提交的前提是所有的参与者都同意提交事务，只要有一个参与者投票选择放弃(abort)事务，则事务必须被放弃。</p>\n<p>wiki上给出了简要流程：</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/adcf4bbfed6036e8654af87e101d9254.png\" alt=\"\"></p>\n<p>注意，上图中洗下面一行也表明，两阶段提交协议也依赖与日志，只要存储介质不出问题，两阶段协议就能最终达到一致的状态（成功或者回滚）</p>\n<p>而下图（来自<a href=\"https://www.slideshare.net/sourabhdave/distributed-databases-24839617\" target=\"_blank\">slideshare</a>）详细描述了整个流程：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/dc09effd00629725c2a12b672bc59161.jpg\" alt=\"\"></p>\n<p>在刘杰的《分布式原理介绍中》，有非常详细的流程介绍，可以配合上图一起看，另外还介绍了在各种异常情况下（比如Coordinator、Participant宕机，网络分割导致的超时）两阶段协议的工作情况。另外，在<a href=\"http://blog.jobbole.com/95632/\" target=\"_blank\">这篇文章</a>中也有比较清晰的流程介绍。在这里只讨论2PC的优缺点：</p>\n<p>优点：强一致性，只要节点或者网络最终恢复正常，协议就能保证顺利结束；部分关系型数据库（Oracle）、框架直接支持</p>\n<p>缺点：两阶段提交协议的容错能力较差，比如在节点宕机或者超时的情况下，无法确定流程的状态，只能不断重试；两阶段提交协议的性能较差， 消息交互多，且受最慢节点影响</p>\n<p><a href=\"//blog.csdn.net/m0_38031406/article/details/76474800\" target=\"_blank\">这篇文章</a>描述了为什么两阶段提交协议在分布式系统中不适用：</p>\n<blockquote><p>　　系统“水平”伸缩的死敌。基于两阶段提交的分布式事务在提交事务时需要在多个节点之间进行协调,最大限度地推后了提交事务的时间点，客观上延长了事务的执行时间，这会<strong>导致事务在访问共享资源时发生冲突和死锁的概率增高</strong>，随着数据库节点的增多，这种趋势会越来越严重，从而成为系统在数据库层面上水平伸缩的”枷锁”， 这是很多Sharding系统不采用分布式事务的主要原因。</p></blockquote>\n<p>所言甚是！</p>\n<h4>3PC</h4>\n<p>三阶段提交协议（3pc <a href=\"https://en.wikipedia.org/wiki/Three-phase_commit_protocol\" target=\"_blank\">Three-phase_commit_protocol</a>）主要是为了解决两阶段提交协议的阻塞问题，从原来的两个阶段扩展为三个阶段，并且增加了超时机制。</p>\n<p><img class=\"aligncenter\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/d7ff9cc44c99e8aab1b1bdbb80f20cd4.png\" alt=\"\"></p>\n<p>3PC只是解决了在异常情况下2PC的阻塞问题，但导致一次提交要传递6条消息，延时很大。具体流程描述可参见《<a href=\"https://en.wikipedia.org/wiki/ACID\" target=\"_blank\">关于分布式事务、两阶段提交协议、三阶提交</a><a href=\"http://blog.jobbole.com/95632/\" target=\"_blank\">协议 </a>》一文。</p>\n<h4>TCC</h4>\n<p>TCC是Try、Commit、Cancel的缩写，在国内由于<a href=\"http://www.sohu.com/a/124709543_468650%20\" target=\"_blank\">支付宝的布道</a>而广为人知，<strong>TCC在保证强一致性的同时，最大限度提高系统的可伸缩性与可用性</strong>。</p>\n<p>我们假设一个完整的为业务包含一组子业务，Try操作完成所有的子业务检查，预留必要的业务资源，实现与其他事务的隔离；Confirm使用Try阶段预留的业务资源真正执行业务，而且Confirm操作满足幂等性，以遍支持重试；Cancel操作释放Try阶段预留的业务资源，同样也满足幂等性。“一次完整的交易由一系列微交易的Try 操作组成，如果所有的Try 操作都成功，最终由微交易框架来统一Confirm，否则统一Cancel，从而实现了类似经典两阶段提交协议（2PC）的强一致性。”</p>\n<p>与2PC协议比较 ，TCC拥有以下特点：</p>\n<blockquote><p>　　位于业务服务层而非资源层 ，由业务层保证原子性</p>\n<p>没有单独的准备(Prepare)阶段，降低了提交协议的成本</p>\n<p>Try操作 兼备资源操作与准备能力</p>\n<p>Try操作可以灵活选择业务资源的锁定粒度，而不是锁住整个资源，提高了并发度</p></blockquote>\n<p>当然，TCC需要较的高开发成本，每个子业务都需要有响应的comfirm、Cancel操作，即实现相应的补偿逻辑。</p>\n<h4>基于消息的分布式事务</h4>\n<p>这类事务机制将分布式事务分成多个本地事务，这里称之为主事务与从事务。首先主事务本地先行提交，然后通过消息通知从事务，从事务从消息中获取信息进行本地提交。可以看出这是一种<strong>异步事务机制、只能保证最终一致性；但可用性非常高，不会因为故障而发生阻塞</strong>。另外，主事务已经先行提交，如果因为从事务无法提交，要回滚主事务还是比较麻烦，所以这种模式只适用于理论上大概率等成功的业务情况，即从事务的提交失败可能是由于故障，而不大可能是逻辑错误。</p>\n<p>基于异步消息的事务机制主要有两种方式：<strong>本地消息表与事务消息</strong>。二者的区别在于：怎么保证主事务的提交与消息发送这两个操作的原子性。</p>\n<p>如果用异步消息实现转账的例子，那么操作分为四部：用户A扣钱，发消息，用户B收消息，用户B扣钱。前两步必须保证原子性，如果A扣钱成功但是没有发出消息，那么用户A损失了；如果发消息成功，但是没有扣钱，那么用户B就多得了一笔钱，银行肯定不干。</p>\n<h5>本地消息表</h5>\n<p>基于本地消息表的方案是指将消息写入本地数据库，通过本地事务保证主事务与消息写入的原子性。例如银行转账的例子，<a href=\"http://blog.csdn.net/gaowenhui2008/article/details/53910341\" target=\"_blank\">伪码</a>如下：</p>\n<blockquote><p> begin transaction:</p>\n<p>update User set account = account – 100 where userId = ‘A’<br>\ninsert into message(userId, amount, status) values(‘A’, 100, 1)</p>\n<p>commit transaction</p></blockquote>\n<p>然后通过pull或者push模式，从业务获取消息并执行。如果是push模式，那么一般使用具有持久化功能的消息队列，从事务务订阅消息。如果是pull模式，那么从事务定时去拉取消息，然后执行。</p>\n<p>mongodb的写入就很像本地消息表，在WriteConcern为w:1的情况下，更新操作只要写到oplog以及primary就可以向客户端返回。secondary异步拉取oplog并本地记录执行。</p>\n<h5>事务消息：</h5>\n<p>事务消息依赖于支持“事务消息”的消息队列，其基本思想是 利用消息中间间实施两阶段提交，将本地事务和发消息放在了一个分布式事务里，保证要么本地操作成功成功并且对外发消息成功，要么两者都失败。流程如下：</p>\n<blockquote><p>主事务向消息队列发送预备消息</p>\n<p>主事务收到ACK之后本地执行主事务</p>\n<p>根据执行的结果（成功或失败）向消息队列发送提交或者回滚消息</p></blockquote>\n<p>详细的流程如下图（图片<a href=\"http://blog.csdn.net/mine_song/article/details/64118963\" target=\"_blank\">来源见水印</a>）所示：</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f6cbba9d1e08621af696d4e93da9aa81.png\" alt=\"\"></p>\n<p>不难看到，相比本地消息表的方式，事务消息由消息中间件保证本地事务与消息的原子性，不依赖于本地数据库存储消息。但实现了“事务消息”的消息队列比较少，还不够通用。</p>\n<p>不管是本地消息表还是事务消息，都需要保证从事务执行且仅仅执行一次，exact once。如果失败，需要重试，但也不可能无限次的重试，当从事务最终失败的情况下，需要通知主业务回滚吗？但是此时，主事务已经提交，因此只能通过补偿，实现逻辑上的回滚，而当前时间点距主事务的提交已经有一定时间，回滚也可能失败。因此，最好是保证从事务逻辑上不会失败，万一失败，记录log并报警，人工介入。</p>\n<h4>1PC</h4>\n<p>1PC（one phase commit）这个概念，我是在《<a href=\"http://book.mixu.net/distsys/\" target=\"_blank\">Distributed systems for fun and profit</a>》一文中看到的，应该是对标2PC，3PC。在wiki中并没有正式的词条，在google上的文章也不是很多。在我的理解中，1PC适用于分布式存储系统的复制集，即复制集中多个节点的数据提交，。一般来说，这些节点存储同样的数据，只要单个节点能提交，其他节点理论上也应该可以提交。 在《<a href=\"http://book.mixu.net/distsys/\" target=\"_blank\">Distributed systems for fun and profit</a>》中是这么描述的：</p>\n<blockquote><p> Having a second phase in place before the commit is considered permanent is useful, because it allows the system to roll back an update when a node fails. In contrast, in primary/backup (“1PC”), t<strong>here is no step for rolling back</strong> an operation that has failed on some nodes and succeeded on others, and hence the replicas could diverge.</p></blockquote>\n<p>即对于分布式存储中使用非常广泛的中心化复制集协议Primary Secondary，在部分节点失败、部分节点成功的情况下没有回滚操作，可能会导致不一致。不过这些分布式存储系统都竭力保证，这些不一致是暂时的，会通过重试等手段保证最终的一致。</p>\n<p>1PC的优点是性能非常好，而且只有在出现物理故障的时候才会出现不一致。</p>\n<p>比如在MongoDB中，更新操作会写入Primary节点以及oplog collection，Secondary节点从Primary节点的oplog collection拉取操作日志并执行，这是一个异步的过程。及时Secondary节点因为故障执行oplog失败，Promary节点的数据也不会回滚。在《<a href=\"http://www.cnblogs.com/xybaby/p/7153755.html\" target=\"_blank\">带着问题学习分布式系统之中心化复制集</a>》中也提到过，为了提高数据可靠性（避免极端情况下数据被回滚），设定WriteConcern为w:Majority，（shard有一个Primary 一个Secondary 一个Arbiter组成）。如果这个时候由于其中一个secondary挂掉，写入操作是不可能成功的。因此，在超时时间到达之后，会向客户端返回出错信息。但是在这个时候数据是持久化到了primary节点，不会被回滚。如果此时Secondary重启，那么是会从Primary拉取日志并执行。所以当客户端返回的出错信息包含<a href=\"https://docs.mongodb.com/manual/reference/method/WriteResult/#WriteResult.writeConcernError\">WriteResult.writeConcernError</a>  时，应该谨慎处理</p>\n<p>对于分布式文件系统GFS、haystack，如果Secondary节点失败，也会采取简单粗暴的重试，并通过一些机制（cheksum，offset）来保证最终能读到正确的数据</p>\n<h3>思考与总结</h3>\n<p>更多的时候，分布式事务只需要保证原子性，这个原子性也保证了应用层面上的一致性，而由本地事务来保证隔离性、持久性。</p>\n<p>原子性这个东西，即使不是分布式，仅仅是单进程单线程也是需要考虑的，这就是C++中的RAII，python中的with statement，以及各种语言的try…finally…。当涉及到跨进程、异步通信的时候，就很难通过语言层面的机制保证原子性了。</p>\n<p>在分布式领域，由于网络或者机器故障，经常需要重试，因此幂等性非常重要</p>\n<p>很多场景，比如电商、网络购票，首先要保证的是高可用，不大可能采用强一致性，因此我们也会看到‘正在处理中…‘这种中间状态，后台很可能是异步处理的，在12306买过票的话都知道，下单成功到最后是否能出票由很长一段时间。</p>\n<p>在笔者的业务领域，并没有涉及到强一致性的场景，只要最终一致性就行了。上面的提到的各种办法，不管是2PC、TCC、本地消息表、事务消息，都需要引入额外的框架或者组件。所以更多的时候是采取业务补偿的方式，比如一个涉及两个进程的操作需要保证原子性，进程间RPC通信，那么一般是A进程先执行，然后RPC调用B进程接口，根据B进程的返回结果，绝对是否回滚（补偿）；但如果涉及到异步RPC、或者多线程、或者两个以上进程的串联时，那么就不一定能补偿、甚至很难补偿了，这个时候只记录一个error log，然后通知人工排查。因此，事务补偿只适合业务比较简单的常见，而且很难形成通用的框架，或者说实用性不强。</p>\n<p>之前一直以为像银行转账这种场景，一定是强一致性的。后来自己遇到这么一回事，我给朋友转账，我这边显示转账成功，但朋友并没有收到钱。我以为是需要一定时间，结果24小时之后还没有收到。我自己重新比对转账单，才发现是把对方的开户银行写错了。因此可见，转账这个操作肯定不是强一致性，具体怎么搞的在网上也没有查到。更坑爹的是，转账失败，我的钱被扣了，朋友也没有收到钱，但是我没有收到任何消息，也没有给我把钱退回来，在我打电话到银行去咨询之后才退回来。这个体验真的很差，但银行是大爷，没办法！</p>\n<h3>references</h3>\n<p><a href=\"https://en.wikipedia.org/wiki/Transaction_processing\" target=\"_blank\">Wiki Transaction_processing</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/ACID\" target=\"_blank\">Wiki： ACID</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/Two-phase_commit_protocol\" target=\"_blank\">Wiki：two-phase commit protocol</a></p>\n<p><a href=\"https://en.wikipedia.org/wiki/ACID\" target=\"_blank\">关于分布式事务、两阶段提交协议、三阶提交</a><a href=\"http://blog.jobbole.com/95632/\" target=\"_blank\">协议<em id=\"__mceDel\"> </em></a></p>\n<p>刘杰：分布式原理介绍</p>\n<p><a href=\"http://book.mixu.net/distsys/\" target=\"_blank\">Distributed systems for fun and profit</a></p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112760\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112760votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112760\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，分布式", "front_image_path": "full/6be559ca13bab9c662992cfdc486acd6d42b61a5.jpg"}
{"title": "GitHub 的 MySQL 基础架构自动化测试", "url": "http://blog.jobbole.com/112713/", "url_object_id": "3fb3aeaf27ebfbe4ca62bf81130103c4", "create_date": "2017/10/16", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/b04d0a2ac9daafe9ef55487f7989d502.jpg"], "praise_nums": "1", "fav_nums": 2, "comment_nums": 1, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://githubengineering.com/mysql-testing-automation-at-github/\">tomkrouper, Shlomi Noach</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8927-1.html\">Linux中国/MonkeyDEcho</a>   </div><p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/b04d0a2ac9daafe9ef55487f7989d502.jpg\"></p>\n<p>我们 MySQL 数据库基础架构是 Github 关键组件。 MySQL 提供 Github.com、 GitHub 的 API 和验证等等的服务。每一次的 <code>git</code> 请求都以某种方式触及 MySQL。我们的任务是保持数据的可用性，并保持其完整性。即使我们 MySQL 集群是按流量分配的，但是我们还是需要执行深度清理、即时更新、在线模式schema迁移、集群拓扑重构、连接池化pooling和负载平衡等任务。 我们建有基础架构来自动化测试这些操作，在这篇文章中，我们将分享几个例子，来说明我们是如何通过持续测试打造我们的基础架构的。这是让我们一梦到天亮的根本保障。</p>\n<h3 id=\"toc_1\">备份</h3>\n<p>没有比备份数据更重要的了，如果您没有备份数据库，在它出事前这可能并不是什么问题。Percona 的 <a href=\"https://www.percona.com/software/mysql-database/percona-xtrabackup\">Xtrabackup</a> 是我们一直用来完整备份 MySQL 数据库的工具。如果有专门需要备份的数据，我们就会备份到另一个专门备份数据的服务器上。</p>\n<p>除了完整的二进制备份外，我们每天还会多次运行逻辑备份。这些备份数据可以让我们的工程师获取到最新的数据副本。有时候，他们希望从表中获取一整套数据，以便他们可以在一个生产级规模的表上测试索引的修改，或查看特定时间以来的数据。Hubot 可以让我们恢复备份的表，并且当表准备好使用时会通知我们。</p>\n<p><strong>tomkrouper</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd19415595682\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.mysql backup-list locations\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd19415595682-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd19415595682-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd19415595682-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">mysql </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">list </span><span class=\"crayon-i\">locations</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd19415595682-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd22180831268\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n+-----------+------------+---------------+---------------------+---------------------+----------------------------------------------+\r\n| Backup ID | Table Name | Donor Host    | Backup Start        | Backup End          | File Name                                    |\r\n+-----------+------------+---------------+---------------------+---------------------+----------------------------------------------+\r\n|   1699494 | locations  | db-mysql-0903 | 2017-07-01 22:09:17 | 2017-07-01 22:09:17 | backup-mycluster-locations-1498593122.sql.gz |\r\n|   1699133 | locations  | db-mysql-0903 | 2017-07-01 16:11:37 | 2017-07-01 16:11:39 | backup-mycluster-locations-1498571521.sql.gz |\r\n|   1698772 | locations  | db-mysql-0903 | 2017-07-01 10:09:21 | 2017-07-01 10:09:22 | backup-mycluster-locations-1498549921.sql.gz |\r\n|   1698411 | locations  | db-mysql-0903 | 2017-07-01 04:12:32 | 2017-07-01 04:12:32 | backup-mycluster-locations-1498528321.sql.gz |\r\n|   1698050 | locations  | db-mysql-0903 | 2017-06-30 22:18:23 | 2017-06-30 22:18:23 | backup-mycluster-locations-1498506721.sql.gz |\r\n| ...\r\n|   1262253 | locations  | db-mysql-0088 | 2016-08-01 01:58:51 | 2016-08-01 01:58:54 | backup-mycluster-locations-1470034801.sql.gz |\r\n|   1064984 | locations  | db-mysql-0088 | 2016-04-04 13:07:40 | 2016-04-04 13:07:43 | backup-mycluster-locations-1459494001.sql.gz |\r\n+-----------+------------+---------------+---------------------+---------------------+----------------------------------------------+\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd22180831268-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd22180831268-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd22180831268-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd22180831268-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd22180831268-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd22180831268-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd22180831268-13\">13</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-1\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd22180831268-2\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Backup </span><span class=\"crayon-v\">ID</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Table </span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Donor </span><span class=\"crayon-v\">Host</span><span class=\"crayon-h\">    </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Backup </span><span class=\"crayon-v\">Start</span><span class=\"crayon-h\">        </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Backup </span><span class=\"crayon-st\">End</span><span class=\"crayon-h\">          </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">File </span><span class=\"crayon-v\">Name</span><span class=\"crayon-h\">                                    </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-3\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd22180831268-4\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1699494</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0903</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">17</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1498593122.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-5\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1699133</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0903</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">16</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">37</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">16</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">11</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">39</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1498571521.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd22180831268-6\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1698772</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0903</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">21</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">10</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">09</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">22</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1498549921.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-7\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1698411</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0903</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">04</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">32</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">04</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">12</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">32</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1498528321.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd22180831268-8\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1698050</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0903</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">06</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">30</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">23</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">06</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">30</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">22</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">18</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">23</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1498506721.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-9\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd22180831268-10\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1262253</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0088</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">58</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">51</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">08</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">01</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">01</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">58</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">54</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1470034801.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-11\"><span class=\"crayon-o\">|</span><span class=\"crayon-h\">   </span><span class=\"crayon-cn\">1064984</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">locations</span><span class=\"crayon-h\">  </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0088</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">04</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">04</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">40</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">2016</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">04</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">04</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">13</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">43</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">locations</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">1459494001.sql.gz</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">|</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd22180831268-12\"><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">-</span><span class=\"crayon-o\">+</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">--</span><span class=\"crayon-o\">+</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd22180831268-13\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0113 seconds] -->\r\n<p><strong>tomkrouper</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd27963448805\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.mysql restore 1699133\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd27963448805-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd27963448805-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd27963448805-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">mysql </span><span class=\"crayon-i\">restore</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1699133</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd27963448805-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd2a860221266\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nA restore job has been created for the backup job 1699133. You will be notified in #database-ops when the restore is complete.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd2a860221266-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd2a860221266-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd2a860221266-1\"><span class=\"crayon-i\">A</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">restore </span><span class=\"crayon-e\">job </span><span class=\"crayon-e\">has </span><span class=\"crayon-e\">been </span><span class=\"crayon-e\">created </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">backup </span><span class=\"crayon-i\">job</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1699133.</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">You </span><span class=\"crayon-e\">will </span><span class=\"crayon-e\">be </span><span class=\"crayon-e\">notified </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-p\">#database-ops when the restore is complete.</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd2a860221266-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd2e603079205\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@tomkrouper: the locations table has been restored as locations_2017_07_01_16_11 in the restores database on db-mysql-0482\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd2e603079205-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd2e603079205-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd2e603079205-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">tomkrouper</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">locations </span><span class=\"crayon-e\">table </span><span class=\"crayon-e\">has </span><span class=\"crayon-e\">been </span><span class=\"crayon-e\">restored </span><span class=\"crayon-st\">as</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">locations_2017_07_01_16_11 </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-e\">restores </span><span class=\"crayon-e\">database </span><span class=\"crayon-e\">on </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0482</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd2e603079205-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p>数据被加载到非生产环境的数据库，该数据库可供请求该次恢复的工程师访问。</p>\n<p>我们保留数据的“备份”的最后一个方法是使用<a href=\"https://dev.mysql.com/doc/refman/5.6/en/replication-delayed.html\">延迟副本</a>delayed replica。这与其说是备份，不如说是保护。对于每个生产集群，我们有一个延迟 4 个小时复制的主机。如果运行了一个不该运行的请求，我们可以在 chatops 中运行 <code>mysql panic</code> 。这将导致我们所有的延迟副本立即停止复制。这也将给值班 DBA 发送消息。从而我们可以使用延迟副本来验证是否有问题，并快速前进到二进制日志的错误发生之前的位置。然后，我们可以将此数据恢复到主服务器，从而恢复数据到该时间点。</p>\n<p>备份固然好，但如果发生了一些未知或未捕获的错误破坏它们，它们就没有价值了。让脚本恢复备份的好处是它允许我们通过 cron 自动执行备份验证。我们为每个集群设置了一个专用的主机，用于运行最新备份的恢复。这样可以确保备份运行正常，并且我们能够从备份中检索数据。</p>\n<p>根据数据集大小，我们每天运行几次恢复。恢复的服务器被加入到复制工作流，并通过复制保持数据更新。这测试不仅让我们得到了可恢复的备份，而且也让我们得以正确地确定备份的时间点，并且可以从该时间点进一步应用更改。如果恢复过程中出现问题，我们会收到通知。</p>\n<p>我们还追踪恢复所需的时间，所以我们知道在紧急情况下建立新的副本或还原需要多长时间。</p>\n<p>以下是由 Hubot 在我们的机器人聊天室中输出的自动恢复过程。</p>\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd32949237141\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\ngh-mysql-backup-restore: db-mysql-0752: restore_log.id = 4447 \r\ngh-mysql-backup-restore: db-mysql-0752: Determining backup to restore for cluster 'prodcluster'. \r\ngh-mysql-backup-restore: db-mysql-0752: Enabling maintenance mode \r\ngh-mysql-backup-restore: db-mysql-0752: Setting orchestrator downtime \r\ngh-mysql-backup-restore: db-mysql-0752: Disabling Puppet \r\ngh-mysql-backup-restore: db-mysql-0752: Stopping MySQL \r\ngh-mysql-backup-restore: db-mysql-0752: Removing MySQL files \r\ngh-mysql-backup-restore: db-mysql-0752: Running gh-xtrabackup-restore \r\ngh-mysql-backup-restore: db-mysql-0752: Restore file: xtrabackup-notify-2017-07-02_0000.xbstream \r\ngh-mysql-backup-restore: db-mysql-0752: Running gh-xtrabackup-prepare \r\ngh-mysql-backup-restore: db-mysql-0752: Starting MySQL \r\ngh-mysql-backup-restore: db-mysql-0752: Update file ownership \r\ngh-mysql-backup-restore: db-mysql-0752: Upgrade MySQL \r\ngh-mysql-backup-restore: db-mysql-0752: Stopping MySQL \r\ngh-mysql-backup-restore: db-mysql-0752: Starting MySQL \r\ngh-mysql-backup-restore: db-mysql-0752: Backup Host: db-mysql-0034 \r\ngh-mysql-backup-restore: db-mysql-0752: Setting up replication \r\ngh-mysql-backup-restore: db-mysql-0752: Starting replication \r\ngh-mysql-backup-restore: db-mysql-0752: Replication catch-up \r\ngh-mysql-backup-restore: db-mysql-0752: Restore complete (replication running) \r\ngh-mysql-backup-restore: db-mysql-0752: Enabling Puppet \r\ngh-mysql-backup-restore: db-mysql-0752: Disabling maintenance mode \r\ngh-mysql-backup-restore: db-mysql-0752: Setting orchestrator downtime \r\ngh-mysql-backup-restore: db-mysql-0752: Restore process complete. \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd32949237141-24\">24</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd32949237141-25\">25</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-1\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">restore_log</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4447</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-2\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Determining </span><span class=\"crayon-e\">backup </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">restore </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">cluster</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'prodcluster'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-3\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Enabling </span><span class=\"crayon-e\">maintenance </span><span class=\"crayon-e\">mode </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-4\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Setting </span><span class=\"crayon-e\">orchestrator </span><span class=\"crayon-e\">downtime </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-5\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Disabling </span><span class=\"crayon-e\">Puppet </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-6\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Stopping </span><span class=\"crayon-e\">MySQL </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-7\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Removing </span><span class=\"crayon-e\">MySQL </span><span class=\"crayon-e\">files </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-8\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Running </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">xtrabackup</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">restore </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-9\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Restore </span><span class=\"crayon-v\">file</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xtrabackup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">notify</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">02_0000.xbstream</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-10\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Running </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">xtrabackup</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">prepare </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-11\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-e\">MySQL </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-12\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Update </span><span class=\"crayon-e\">file </span><span class=\"crayon-e\">ownership </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-13\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Upgrade </span><span class=\"crayon-e\">MySQL </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-14\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Stopping </span><span class=\"crayon-e\">MySQL </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-15\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-e\">MySQL </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-16\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Backup </span><span class=\"crayon-v\">Host</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0034</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-17\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Setting </span><span class=\"crayon-e\">up </span><span class=\"crayon-e\">replication </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-18\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-e\">replication </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-19\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Replication </span><span class=\"crayon-st\">catch</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">up </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-20\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Restore </span><span class=\"crayon-e\">complete</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">replication </span><span class=\"crayon-v\">running</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-21\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Enabling </span><span class=\"crayon-e\">Puppet </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-22\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Disabling </span><span class=\"crayon-e\">maintenance </span><span class=\"crayon-e\">mode </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-23\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Setting </span><span class=\"crayon-e\">orchestrator </span><span class=\"crayon-e\">downtime </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd32949237141-24\"><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0752</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Restore </span><span class=\"crayon-e\">process </span><span class=\"crayon-v\">complete</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd32949237141-25\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0097 seconds] -->\r\n<p>还有一件我们可以使用备份做的事情是向一组现有的 MySQL 服务器添加一个新的副本。我们初始化一个新的服务器，一旦我们得知它准备就绪，我们就可以开始恢复该特定集群的最新备份。我们有一个脚本，可以运行所有需要手动执行的恢复命令。我们的自动恢复系统基本上使用的是相同的脚本。这简化了系统构建过程，并允许我们在一个启动运行的主机上使用几个对话命令（chatops）来替代一堆手动执行命令。下面显示的是在该对话（chatops）中手动执行的恢复：</p>\n<p><strong>jessbreckenridge</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd36294019653\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.mysql backup-restore -H db-mysql-0007 -o -r magic_word=daily_rotating_word\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd36294019653-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd36294019653-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd36294019653-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">mysql </span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">H</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">o</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">r</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">magic_word</span><span class=\"crayon-o\">=</span><span class=\"crayon-v\">daily_rotating</span><span class=\"crayon-sy\">_</span>word</div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd36294019653-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0008 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd3a186891624\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Determining backup to restore for cluster 'mycluster'. \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: restore_log.id = 4449 \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Enabling maintenance mode\r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Setting orchestrator downtime \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Disabling Puppet \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Stopping MySQL \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Removing MySQL files \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Running gh-xtrabackup-restore \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Restore file: xtrabackup-mycluster-2017-07-02_0015.xbstream \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Running gh-xtrabackup-prepare \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Update file ownership \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Starting MySQL \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Upgrade MySQL \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Stopping MySQL \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Starting MySQL \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Setting up replication \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Starting replication \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Backup Host: db-mysql-0201 \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Replication catch-up \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Replication behind by 4589 seconds, waiting 1800 seconds before next check. \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Restore complete (replication running) \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Enabling puppet \r\n@jessbreckenridge gh-mysql-backup-restore: db-mysql-0007: Disabling maintenance mode \r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-9\">9</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-10\">10</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-11\">11</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-12\">12</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-13\">13</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-14\">14</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-15\">15</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-16\">16</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-17\">17</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-18\">18</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-19\">19</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-20\">20</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-21\">21</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-22\">22</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd3a186891624-23\">23</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd3a186891624-24\">24</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Determining </span><span class=\"crayon-e\">backup </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">restore </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">cluster</span><span class=\"crayon-h\"> </span><span class=\"crayon-s\">'mycluster'</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">restore_log</span><span class=\"crayon-sy\">.</span><span class=\"crayon-v\">id</span><span class=\"crayon-h\"> </span><span class=\"crayon-o\">=</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4449</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-3\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Enabling </span><span class=\"crayon-e\">maintenance </span><span class=\"crayon-i\">mode</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-4\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Setting </span><span class=\"crayon-e\">orchestrator </span><span class=\"crayon-i\">downtime</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-5\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Disabling </span><span class=\"crayon-i\">Puppet</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-6\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Stopping </span><span class=\"crayon-i\">MySQL</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-7\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Removing </span><span class=\"crayon-e\">MySQL </span><span class=\"crayon-i\">files</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-8\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Running </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">xtrabackup</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">restore</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-9\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Restore </span><span class=\"crayon-v\">file</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">xtrabackup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mycluster</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">2017</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">07</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">02_0015.xbstream</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-10\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Running </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">xtrabackup</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">prepare</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-11\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Update </span><span class=\"crayon-e\">file </span><span class=\"crayon-i\">ownership</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-12\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-i\">MySQL</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-13\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Upgrade </span><span class=\"crayon-i\">MySQL</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-14\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Stopping </span><span class=\"crayon-i\">MySQL</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-15\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-i\">MySQL</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-16\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Setting </span><span class=\"crayon-e\">up </span><span class=\"crayon-i\">replication</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-17\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Starting </span><span class=\"crayon-i\">replication</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-18\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Backup </span><span class=\"crayon-v\">Host</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0201</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-19\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Replication </span><span class=\"crayon-st\">catch</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">up</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-20\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Replication </span><span class=\"crayon-e\">behind </span><span class=\"crayon-i\">by</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">4589</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">seconds</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">waiting</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1800</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">seconds </span><span class=\"crayon-e\">before </span><span class=\"crayon-e\">next </span><span class=\"crayon-v\">check</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-21\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Restore </span><span class=\"crayon-e\">complete</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-e\">replication </span><span class=\"crayon-v\">running</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-22\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Enabling </span><span class=\"crayon-i\">puppet</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd3a186891624-23\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jessbreckenridge </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">backup</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">restore</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">Disabling </span><span class=\"crayon-e\">maintenance </span><span class=\"crayon-i\">mode</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd3a186891624-24\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0110 seconds] -->\r\n<p></p>\n<h3 id=\"toc_2\">故障转移</h3>\n<p><a href=\"http://githubengineering.com/orchestrator-github/\">我们使用协调器</a> 来为主服务器master和中间服务器intermediate master执行自动化故障切换。我们期望协调器orchestrator能够正确检测主服务器故障，指定一个副本进行晋升，在所指定的副本下修复拓扑，完成晋升。我们预期 VIP（虚拟 IP）、连接池可以相应地进行变化、客户端进行重连、puppet 在晋升后的主服务器上运行基本组件等等。故障转移是一项复杂的任务，涉及到我们基础架构的许多方面。</p>\n<p>为了建立对我们的故障转移的信赖，我们建立了一个<em>类生产环境</em>的测试集群，并且我们不断地崩溃它来观察故障转移情况。</p>\n<p>这个<em>类生产环境</em>的测试集群是一套复制环境，与我们的生产集群的各个方面都相同：硬件类型、操作系统、MySQL 版本、网络环境、VIP、puppet 配置、<a href=\"https://githubengineering.com/context-aware-mysql-pools-via-haproxy/\">haproxy 设置</a> 等。与生产集群唯一不同的是它不发送/接收生产流量。</p>\n<p>我们在测试集群上模拟写入负载，同时避免复制滞后。写入负载不会太大，但是有一些有意地写入相同数据集的竞争请求。这在正常情况下并不是很有用，但是事实证明这在故障转移中是有用的，我们将会稍后简要描述它。</p>\n<p>我们的测试集群有来自三个数据中心的典型的服务器。我们希望故障转移能够从同一个数据中心内晋升替代副本。我们希望在这样的限制下尽可能多地恢复副本。我们要求尽可能地实现这两者。协调器对拓扑结构没有先验假定prior assumption；它必须依据崩溃时的状态作出反应。</p>\n<p>然而，我们有兴趣创建各种复杂而多变的故障恢复场景。我们的故障转移测试脚本为故障转移提供了基础：</p>\n<ul>\n<li>它能够识别现有的主服务器</li>\n<li>它能够重构拓扑结构，来代表主服务器下的所有的三个数据中心。不同的数据中心具有不同的网络延迟，并且预期会在不同的时间对主机崩溃做出反应。</li>\n<li>能够选择崩溃方式。可以选择干掉主服务器（<code>kill -9</code>）或网络隔离（比较好的方式： <code>iptables -j REJECT</code> 或无响应的方式： <code>iptables -j DROP</code>）方式。</li>\n</ul>\n<p>脚本通过选择的方法使主机崩溃，并等待协调器可靠地检测到崩溃然后执行故障转移。虽然我们期望检测和晋升在 30 秒钟内完成，但脚本会稍微放宽这一期望，并在查找故障转移结果之前休眠一段指定的时间。然后它将检查：</p>\n<ul>\n<li>一个新的（不同的）主服务器是否到位</li>\n<li>集群中有足够的副本</li>\n<li>主服务器是可写的</li>\n<li>对主服务器的写入在副本上可见</li>\n<li>内部服务发现项已更新（如预期般识别到新的主服务器；移除旧的主服务器）</li>\n<li>其他内部检查</li>\n</ul>\n<p>这些测试可以证实故障转移是成功的，不仅是 MySQL 级别的，而是在更大的基础设施范围内成功的。VIP 被赋予；特定的服务已经启动；信息到达了应该去的地方。</p>\n<p>该脚本进一步继续恢复那个失败的服务器：</p>\n<ul>\n<li>从备份恢复它，从而隐含地测试了我们的备份/恢复过程</li>\n<li>验证服务器配置是否符合预期（该服务器不再认为其是主服务器）</li>\n<li>将其加入到复制集群，期望找到在主服务器上写入的数据</li>\n</ul>\n<p>看一下以下可视化的计划的故障转移测试：从运行良好的群集，到在某些副本上发现问题，诊断主服务器（<code>7136</code>）是否死机，选择一个服务器（<code>a79d</code>）来晋升，重构该服务器下的拓扑，晋升它（故障切换成功），恢复失败的（原）主服务器并将其放回群集。</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/0166bd164ba629026460a4ff478f68aa.gif\" alt=\"automated master failover\"></p>\n<h4 id=\"toc_3\">测试失败怎么样?</h4>\n<p>我们的测试脚本使用了一种“停止世界”的方法。任何故障切换组件中的单个故障都将导致整个测试失败，因此在有人解决该问题之前，无法进行任何进一步的自动化测试。我们会得到警报，并检查状态和日志进行处理。</p>\n<p>脚本将各种情况下失败，如不可接受的检测或故障转移时间；备份/还原出现问题；失去太多服务器；在故障切换后的意外配置等等。</p>\n<p>我们需要确保协调器正确地连接服务器。这是竞争性写入负载有用的地方：如果设置不正确，复制很容易中断。我们会得到 <code>DUPLICATE KEY</code> 或其他错误提示出错。</p>\n<p>这是特别重要的，因此我们改进协调器并引入新的行为，以允许我们在安全的环境中测试这些变化。</p>\n<h4 id=\"toc_4\">出现：混乱测试</h4>\n<p>上面所示的测试程序将捕获（并已经捕获）我们基础设施许多部分的问题。这些够了吗？</p>\n<p>在生产环境中总是有其他的东西。有些特定测试方法不适用于我们的生产集群。它们不具有相同的流量和流量方式，也不具有完全相同的服务器集。故障类型可能有所不同。</p>\n<p>我们正在为我们的生产集群设计混乱测试。 混乱测试将会在我们的生产中，但是按照预期的时间表和充分控制的方式来逐个破坏我们的部分生产环境。 混乱测试在恢复机制中引入更高层次的信赖，并影响（因此测试）我们的基础设施和应用程序的更大部分。</p>\n<p>这是微妙的工作：当我们承认需要混乱测试时，我们也希望可以避免对我们的服务造成不必要的影响。不同的测试将在风险级别和影响方面有所不同，我们将努力确保我们的服务的可用性。</p>\n<h3 id=\"toc_5\">模式迁移</h3>\n<p><a href=\"http://githubengineering.com/gh-ost-github-s-online-migration-tool-for-mysql/\">我们使用 gh-ost</a>来运行实时模式迁移schema migration。gh-ost 是稳定的，但也处于活跃开发中，重大新功能正在不断开发和计划中。</p>\n<p>gh-ost 通过将数据复制到 ghost 表来迁移，将由二进制日志拦截的进一步更改应用到 ghost 表中，就如其正在写入原始表。然后它将 ghost 表交换代替原始表。迁移完成时，GitHub 继续使用由 gh-ost 生成和填充的表。</p>\n<p>在这个时候，几乎所有的 GitHub 的 MySQL 数据都被 gh-ost 重新创建，其中大部分重新创建多次。我们必须高度信赖 gh-ost，让它一遍遍地操弄我们的数据，即使它还处于活跃开发中。下面是我们如何获得这种信赖的。</p>\n<p>gh-ost 提供生产环境测试能力。它支持在副本上运行迁移，其方式与在主服务器上运行的方式大致相同： gh-ost 将连接到副本，并将其视为主服务器。它将采用与实际主机迁移相同的方式解析其二进制日志。但是，它将复制行并将二进制日志事件应用于副本，并避免对主服务器进行写入。</p>\n<p>我们在生产环境中给 gh-ost 提供专用的副本。这些副本并不为生产环境提供服务。每个这样的副本将检索生产表的当前列表，并以随机顺序对其进行迭代。一个接一个地选择一个表并在该表上执行复制迁移。迁移实际上并不修改表结构，而是运行一个微不足道的 <code>ENGINE=InnoDB</code> 更改。该测试运行迁移时，如果表正在生产环境中使用，会复制实际的生产数据，并接受二进制日志之外的真实的生产环境流量。</p>\n<p>这些迁移可以被审计。以下是我们如何从对话中（chatops）检查运行中的测试状态：</p>\n<p><strong>ggunson</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd43831638499\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.migration test-status\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd43831638499-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd43831638499-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd43831638499-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">migration </span><span class=\"crayon-v\">test</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">status</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd43831638499-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd46676271400\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n# Migrating `prod`.`pull_requests`; Ghost table is `prod`.`_pull_requests_gho`\r\n# Migrating ghost-db-mysql-0007:3306; inspecting ghost-db-mysql-0007:3306; executing on ghost-db-mysql-0007\r\n# Migration started at Mon Jan 30 02:13:39 -0800 2017\r\n# chunk-size: 2500; max-lag-millis: 1500ms; max-load: Threads_running=30; critical-load: Threads_running=1000; nice-ratio: 0.000000\r\n# throttle-additional-flag-file: /tmp/gh-ost.throttle\r\n# panic-flag-file: /tmp/ghost-test-panic.flag\r\n# Serving on unix socket: /tmp/gh-ost.test.sock\r\nCopy: 57992500/86684838 66.9%; Applied: 57708; Backlog: 1/100; Time: 3h28m38s(total), 3h28m36s(copy); streamer: mysql-bin.000576:142993938; State: migrating; ETA: 1h43m12s\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd46676271400-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd46676271400-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd46676271400-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd46676271400-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd46676271400-5\">5</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd46676271400-6\">6</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd46676271400-7\">7</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd46676271400-8\">8</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd46676271400-9\">9</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd46676271400-1\"><span class=\"crayon-p\"># Migrating `prod`.`pull_requests`; Ghost table is `prod`.`_pull_requests_gho`</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd46676271400-2\"><span class=\"crayon-p\"># Migrating ghost-db-mysql-0007:3306; inspecting ghost-db-mysql-0007:3306; executing on ghost-db-mysql-0007</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd46676271400-3\"><span class=\"crayon-p\"># Migration started at Mon Jan 30 02:13:39 -0800 2017</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd46676271400-4\"><span class=\"crayon-p\"># chunk-size: 2500; max-lag-millis: 1500ms; max-load: Threads_running=30; critical-load: Threads_running=1000; nice-ratio: 0.000000</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd46676271400-5\"><span class=\"crayon-p\"># throttle-additional-flag-file: /tmp/gh-ost.throttle</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd46676271400-6\"><span class=\"crayon-p\"># panic-flag-file: /tmp/ghost-test-panic.flag</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd46676271400-7\"><span class=\"crayon-p\"># Serving on unix socket: /tmp/gh-ost.test.sock</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd46676271400-8\"><span class=\"crayon-v\">Copy</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">57992500</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">86684838</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">66.9</span><span class=\"crayon-o\">%</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Applied</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">57708</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Backlog</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1</span><span class=\"crayon-o\">/</span><span class=\"crayon-cn\">100</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">Time</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3h28m38s</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">total</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">3h28m36s</span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">copy</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">streamer</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">bin</span><span class=\"crayon-sy\">.</span><span class=\"crayon-cn\">000576</span><span class=\"crayon-o\">:</span><span class=\"crayon-cn\">142993938</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">State</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">migrating</span><span class=\"crayon-sy\">;</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ETA</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">1h43m12s</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd46676271400-9\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0018 seconds] -->\r\n<p>当测试迁移完成表数据的复制时，它将停止复制并执行切换，使用 ghost 表替换原始表，然后交换回来。我们对实际替换数据并不感兴趣。相反，我们将留下原始的表和 ghost 表，它们应该是相同的。我们通过校验两个表的整个表数据来验证。</p>\n<p>测试能以下列方式完成：</p>\n<ul>\n<li><em>成功</em> ：一切顺利，校验和相同。我们期待看到这一结果。</li>\n<li><em>失败</em> ：执行问题。这可能偶尔发生，因为迁移进程被杀死、复制问题等，并且通常与 gh-ost 自身无关。</li>\n<li><em>校验失败</em> ：表数据不一致。对于被测试的分支，这个需要修复。对于正在进行的 master 分支测试，这意味着立即阻止生产迁移。我们不会遇到后者。</li>\n</ul>\n<p>测试结果经过审核，发送到机器人聊天室，作为事件发送到我们的度量系统。下图中的每条垂直线代表成功的迁移测试:</p>\n<p><img src=\"http://jbcdn2.b0.upaiyun.com/2017/10/71e92c739206c69fde93c70a457376b8.png\" alt=\"automated master failover\"></p>\n<p>这些测试不断运行。如果发生故障，我们会收到通知。当然，我们可以随时访问机器人聊天室（chatops），了解发生了什么。</p>\n<h4 id=\"toc_6\">测试新版本</h4>\n<p>我们不断改进 gh-ost。我们的开发流程基于 git 分支，然后我们通过<a href=\"https://github.com/github/gh-ost/pulls\">拉取请求（PR）</a>来提供合并。</p>\n<p>提交的 gh-ost 拉取请求（PR）通过持续集成（CI）进行基本的编译和单元测试。一旦通过，该 PR 在技术上就有资格合并，但更好的是它<a href=\"https://githubengineering.com/deploying-branches-to-github-com/\">有资格通过 Heaven 进行部署</a>。作为我们基础架构中的敏感组件，在其进入 master 分支前，我们会小心部署分支进行密集测试。</p>\n<p><strong>shlomi-noach</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd4b030675144\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.deploy gh-ost/fix-reappearing-throttled-reasons to prod/ghost-db-mysql-0007\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd4b030675144-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd4b030675144-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd4b030675144-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">deploy </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ost</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">fix</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">reappearing</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">throttled</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">reasons </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">prod</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ghost</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd4b030675144-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd4e886802767\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@shlomi-noach is deploying gh-ost/fix-reappearing-throttled-reasons (baee4f6) to production (ghost-db-mysql-0007). \r\n@shlomi-noach's production deployment of gh-ost/fix-reappearing-throttled-reasons (baee4f6) is done! (2s) \r\n@shlomi-noach, make sure you watch for exceptions in haystack\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd4e886802767-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd4e886802767-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd4e886802767-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd4e886802767-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd4e886802767-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">shlomi</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">noach </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">deploying </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ost</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">fix</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">reappearing</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">throttled</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">reasons</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">baee4f6</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">production</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ghost</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd4e886802767-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">shlomi</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">noach</span>'<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">production </span><span class=\"crayon-e\">deployment </span><span class=\"crayon-e\">of </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ost</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">fix</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">reappearing</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">throttled</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">reasons</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">baee4f6</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">done</span><span class=\"crayon-o\">!</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2s</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd4e886802767-3\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">shlomi</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">noach</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">make </span><span class=\"crayon-e\">sure </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">watch </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">exceptions </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">haystack</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd4e886802767-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0021 seconds] -->\r\n<p><strong>jonahberquist</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd51871568520\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.deploy gh-ost/interactive-command-question to prod/ghost-db-mysql-0012\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd51871568520-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd51871568520-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd51871568520-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">deploy </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ost</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">interactive</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">command</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">question </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">prod</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">ghost</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0012</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd51871568520-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0007 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd55204667884\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n@jonahberquist is deploying gh-ost/interactive-command-question (be1ab17) to production (ghost-db-mysql-0012). \r\n@jonahberquist's production deployment of gh-ost/interactive-command-question (be1ab17) is done! (2s) \r\n@jonahberquist, make sure you watch for exceptions in haystack\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd55204667884-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd55204667884-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd55204667884-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd55204667884-4\">4</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd55204667884-1\"><span class=\"crayon-sy\">@</span><span class=\"crayon-e\">jonahberquist </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">deploying </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ost</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">interactive</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">command</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">question</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">be1ab17</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">to</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">production</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">ghost</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0012</span><span class=\"crayon-sy\">)</span><span class=\"crayon-sy\">.</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd55204667884-2\"><span class=\"crayon-sy\">@</span><span class=\"crayon-i\">jonahberquist</span>'<span class=\"crayon-i\">s</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">production </span><span class=\"crayon-e\">deployment </span><span class=\"crayon-e\">of </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">ost</span><span class=\"crayon-o\">/</span><span class=\"crayon-v\">interactive</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">command</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">question</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-v\">be1ab17</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">done</span><span class=\"crayon-o\">!</span><span class=\"crayon-h\"> </span><span class=\"crayon-sy\">(</span><span class=\"crayon-cn\">2s</span><span class=\"crayon-sy\">)</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd55204667884-3\"><span class=\"crayon-sy\">@</span><span class=\"crayon-v\">jonahberquist</span><span class=\"crayon-sy\">,</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">make </span><span class=\"crayon-e\">sure </span><span class=\"crayon-e\">you </span><span class=\"crayon-e\">watch </span><span class=\"crayon-st\">for</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">exceptions </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-i\">haystack</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd55204667884-4\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0019 seconds] -->\r\n<p><strong>shlomi-noach</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd58490161973\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\n.wcid gh-ost\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd58490161973-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd58490161973-2\">2</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd58490161973-1\"><span class=\"crayon-sy\">.</span><span class=\"crayon-e\">wcid </span><span class=\"crayon-v\">gh</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">ost</span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd58490161973-2\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0004 seconds] -->\r\n<p><strong>Hubot</strong></p><!-- Crayon Syntax Highlighter v2.7.1.1 -->\r\n\r\n\t\t<div id=\"crayon-59f502dddfd5b604578524\" class=\"crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate\" data-settings=\" minimize scroll-always\" style=\" margin-top: 12px; margin-bottom: 12px; font-size: 13px !important; line-height: 15px !important;\">\r\n\t\t\r\n\t\t\t<div class=\"crayon-toolbar\" data-settings=\" show\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><span class=\"crayon-title\"></span>\r\n\t\t\t<div class=\"crayon-tools\" style=\"font-size: 13px !important;height: 19.5px !important; line-height: 19.5px !important;\"><div class=\"crayon-button crayon-nums-button\" title=\"切换是否显示行编号\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-plain-button\" title=\"纯文本显示代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-wrap-button\" title=\"切换自动换行\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-expand-button\" title=\"点击展开代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-copy-button\" title=\"复制代码\"><div class=\"crayon-button-icon\"></div></div><div class=\"crayon-button crayon-popup-button\" title=\"在新窗口中显示代码\"><div class=\"crayon-button-icon\"></div></div></div></div>\r\n\t\t\t<div class=\"crayon-info\" style=\"min-height: 18.2px !important; line-height: 18.2px !important;\"></div>\r\n\t\t\t<div class=\"crayon-plain-wrap\"><textarea wrap=\"soft\" class=\"crayon-plain print-no\" data-settings=\"dblclick\" readonly style=\"-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 13px !important; line-height: 15px !important;\">\nshlomi-noach testing fix-reappearing-throttled-reasons 41 seconds ago: ghost-db-mysql-0007 \r\njonahberquist testing interactive-command-question 7 seconds ago: ghost-db-mysql-0012 \r\n\r\nNobody is in the queue.\r\n</textarea></div>\r\n\t\t\t<div class=\"crayon-main\" style=\"\">\r\n\t\t\t\t<table class=\"crayon-table\">\r\n\t\t\t\t\t<tr class=\"crayon-row\">\r\n\t\t\t\t<td class=\"crayon-nums \" data-settings=\"show\">\r\n\t\t\t\t\t<div class=\"crayon-nums-content\" style=\"font-size: 13px !important; line-height: 15px !important;\"><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd5b604578524-1\">1</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd5b604578524-2\">2</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd5b604578524-3\">3</div><div class=\"crayon-num crayon-striped-num\" data-line=\"crayon-59f502dddfd5b604578524-4\">4</div><div class=\"crayon-num\" data-line=\"crayon-59f502dddfd5b604578524-5\">5</div></div>\r\n\t\t\t\t</td>\r\n\t\t\t\t\t\t<td class=\"crayon-code\"><div class=\"crayon-pre\" style=\"font-size: 13px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;\"><div class=\"crayon-line\" id=\"crayon-59f502dddfd5b604578524-1\"><span class=\"crayon-v\">shlomi</span><span class=\"crayon-o\">-</span><span class=\"crayon-e\">noach </span><span class=\"crayon-e\">testing </span><span class=\"crayon-v\">fix</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">reappearing</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">throttled</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">reasons</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">41</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">seconds </span><span class=\"crayon-v\">ago</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ghost</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0007</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd5b604578524-2\"><span class=\"crayon-e\">jonahberquist </span><span class=\"crayon-e\">testing </span><span class=\"crayon-v\">interactive</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">command</span><span class=\"crayon-o\">-</span><span class=\"crayon-i\">question</span><span class=\"crayon-h\"> </span><span class=\"crayon-cn\">7</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">seconds </span><span class=\"crayon-v\">ago</span><span class=\"crayon-o\">:</span><span class=\"crayon-h\"> </span><span class=\"crayon-v\">ghost</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">db</span><span class=\"crayon-o\">-</span><span class=\"crayon-v\">mysql</span><span class=\"crayon-o\">-</span><span class=\"crayon-cn\">0012</span><span class=\"crayon-h\"> </span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd5b604578524-3\"> </div><div class=\"crayon-line crayon-striped-line\" id=\"crayon-59f502dddfd5b604578524-4\"><span class=\"crayon-e\">Nobody </span><span class=\"crayon-st\">is</span><span class=\"crayon-h\"> </span><span class=\"crayon-st\">in</span><span class=\"crayon-h\"> </span><span class=\"crayon-e\">the </span><span class=\"crayon-v\">queue</span><span class=\"crayon-sy\">.</span></div><div class=\"crayon-line\" id=\"crayon-59f502dddfd5b604578524-5\"> </div></div></td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n<!-- [Format Time: 0.0015 seconds] -->\r\n<p>一些 PR 很小，不影响数据本身。对状态消息，交互式命令等的更改对 gh-ost 应用程序的影响较小。而其他的 PR 对迁移逻辑和操作会造成重大变化，我们将严格测试这些，通过我们的生产表车队运行这些，直到其满足了这些改变不会造成数据损坏威胁的程度。</p>\n<h3 id=\"toc_7\">总结</h3>\n<p>在整个测试过程中，我们建立对我们的系统的信赖。通过自动化这些测试，在生产环境中，我们得到了一切都按预期工作的反复确认。随着我们继续发展我们的基础设施，我们还通过调整测试来覆盖最新的变化。</p>\n<p>产品总会有令你意想不到的未被测试覆盖的场景。我们对生产环境的测试越多，我们对应用程序的期望越多，基础设施的能力就越强。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112713\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112713votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112713\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 2 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，MySQL，数据库", "front_image_path": "full/74bd3f28858c8b017da84facee861639472ce72a.jpg"}
{"title": "为什么我最喜欢的编程语言是 Go", "url": "http://blog.jobbole.com/112706/", "url_object_id": "9091dd1d699348e40b009cdeae41ea85", "create_date": "2017/10/19", "front_image_url": ["http://wx2.sinaimg.cn/large/7cc829d3gy1fknpksz2oej20h30aymzi.jpg"], "praise_nums": "1", "fav_nums": 1, "comment_nums": 4, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文由 <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/q3198108035\">tsteho</a> 翻译，<a href=\"http://www.jobbole.com/members/hanxiaomax\">艾凌风</a> 校稿。未经许可，禁止转载！<br>英文出处：<a target=\"_blank\" href=\"https://michael.stapelberg.de/Artikel/golang_favorite\">Michael Stapelberg</a>。欢迎加入<a target=\"_blank\" href=\"http://group.jobbole.com/category/feedback/trans-team/\">翻译组</a>。</div><p>我力图尊重每个人的喜好，因此我通常会避开相关争论：哪种编程语言、文本编辑器或者操作系统才是最好的。然而，我最近很多次被问到为什么我喜欢并且大量使用 <a href=\"https://golang.org/\">Go</a>，所以写下这篇文章 :-)</p>\n<p><img id=\"pic\" class=\"aligncenter\" src=\"http://wx2.sinaimg.cn/large/7cc829d3gy1fknpksz2oej20h30aymzi.jpg\"></p>\n<h3>我的经历/背景</h3>\n<p>我已经使用 C 和 Perl 进行了很多规模宏大的项目。我也用 Python、Ruby、 C++、CHICKEN Scheme、Emacs Lisp、Rust和Java (仅仅针对Android )编写程序。我了解一些 Lua、PHP、Erlang 和 Haskell。我以前使用 <a href=\"https://en.wikipedia.org/wiki/Delphi_(programming_language)\">Delphi</a> 开发了很多程序。</p>\n<p>在 2009 年，当它首次发布时，我简要地了解了一下 Go。当 Go1.0 在 2012 年发布时，我认真地开始使用该语言。Go1.0 的一个特色是 <a href=\"https://golang.org/doc/go1compat\">Go 1 兼容性保证</a>的发布。我仍然在生产环境中运行着这些<a href=\"https://github.com/stapelberg/greetbot\">代码</a> ，它们是我在2012年编写的，基本上没有修改过。</p>\n<h1>一、清晰性</h1>\n<h3>格式化</h3>\n<p>按照惯例，Go使用 <a href=\"https://golang.org/cmd/gofmt/\">gofmt</a> 来格式化代码。以编程方式来格式化代码并不是新的想法，但与它的先辈们相比，<a href=\"https://golang.org/cmd/gofmt/\">gofmt</a> 严格地支持一种规范风格。</p>\n<p>用相同的方式格式化所有代码，使得阅读代码更容易，因为代码令人感觉似曾相识。这不仅有助于阅读标准库或 Go 编译器，也有助于和许多代码库打交道—想想看开源或者大公司。</p>\n<p>此外，在代码审查（Code Review）期间，自动格式化能大大节省时间，因为在代码能够被审计前，代码的规范风格不再需要人为处理：现在，你能让持续集成系统验证 <a href=\"https://golang.org/cmd/gofmt/\">gofmt</a> 并没有产生差异。</p>\n<p>有趣的是，有了编辑器在保存文件时应用 gofmt，我写代码的方式也已经改变。我曾经试图匹配格式化程序执行后的内容，之后再让gofmt 更正我的错误。如今，我尽可能快地表达我的想法，并且相信 gofmt 能够使得格式化的更好（这个<a href=\"https://play.golang.org/p/I6GJwiT77v\">例子</a>是我可能会写的内容，点击Format）。</p>\n<h3>高质量的代码</h3>\n<p>我使用标准库（<a href=\"https://golang.org/pkg/\">文档</a>，<a href=\"https://github.com/golang/go/tree/master/src\">源码</a>）相当多，具体参见下文。</p>\n<p>所有我已经阅读的标准库的质量都是极其高的。其中一个例子就是 <a href=\"https://golang.org/pkg/image/jpeg/\">image/jpeg</a> 包：我当时并不知道 JPEG 是如何工作的，但通过在阅读维基百科中有关介绍 JPEG 的文章和阅读 <a href=\"https://golang.org/pkg/image/jpeg/\">image/jpeg</a> 源码之间切换，我轻易地明白了JPEG是如何工作的。如果包中还有一些注释，我把它看作教学实施。</p>\n<h3>观点</h3>\n<p>我已经慢慢地认同 Go 社区秉承的很多观点，比如：</p>\n<ul>\n<li><a href=\"https://github.com/golang/go/wiki/CodeReviewComments#variable-names\">变量</a>默认情况下应该简短，并且能够从它的声明中进一步变得更具描述性。</li>\n<li>保持依赖关系树短小精悍（以一种合理的程度）：<a href=\"https://www.youtube.com/watch?v=PAAkCSZUG1c&amp;t=9m28s\">有点重复代码比一点依赖更好</a>。</li>\n<li>引入抽象层是有代价的。Go代码通常是相当清晰的，但这是有代价的，因为有时候代码有点重复。</li>\n<li>参见<a href=\"https://github.com/golang/go/wiki/CodeReviewComments\">代码审计说明</a>和<a href=\"https://go-proverbs.github.io/\">Go格言</a>获取更多信息。</li>\n</ul>\n<h3>很少的关键字和抽象层</h3>\n<p>Go 规范仅仅列出了 <a href=\"https://golang.org/ref/spec#Keywords\">25 个关键字</a>，而我能很容易地记在脑中。</p>\n<p><a href=\"https://golang.org/pkg/builtin/\">内建函数</a>和<a href=\"https://golang.org/ref/spec#Types\">类型</a>也是同样的情况。</p>\n<p>根据我的经验，少量的抽象层次和概念使得该语言容易学习，并且很快感到适应。</p>\n<p>当我们在谈论它时：我对 <a href=\"https://golang.org/ref/spec\">Go 规范</a>的可读性感到惊讶。它真的看起来是针对程序员（而不是标准委员会？）</p>\n<h1>二、速度</h1>\n<h3>反馈快/延迟低</h3>\n<p>我喜欢快速的反馈：我喜欢快速加载的网站，我更喜欢流畅、不会滞后的用户界面，并且任何时候我都将选择一个快速的工具，而不是一个功能更强大的工具。大型网站性能的<a href=\"https://blog.gigaspaces.com/amazon-found-every-100ms-of-latency-cost-them-1-in-sales/\">调查结果</a>证明这种行为被大量用户认可。</p>\n<p>Go 编译器的作者满足了我对低延迟的期望：编译速度对他们来讲很重要，并且新的优化需要仔细地衡量是否会降低编译速度。</p>\n<p>我有一个之前没有用过 Go 的朋友。在使用 go get 命令安装了 <a href=\"https://robustirc.net/\">RobustIRC</a> 桥之后，他得出结论，Go 一定是一种解释性语言，我不得不纠正他：不，Go 编译器本来就这么快。</p>\n<p>大部分 Go 工具也不例外，例如 gofmt 或者 goimports 是惊人的快。</p>\n<h3>最大化利用资源</h3>\n<p>对于批量应用程序（相对于交互式应用程序），充分利用可用资源通常比低延迟更重要。</p>\n<p>配置和更改 Go 程序利用所有可用的 IOPS、网络带宽和计算能力是很容易的。例如，我之前写过<a href=\"https://people.debian.org/~stapelberg/2014/01/17/debmirror-rackspace.html\">填充 1Gbps 的链路信息</a>，并且优化 <a href=\"https://github.com/Debian/debiman/\">debiman</a> 利用所有可用的资源，这减少了几小时运行时间。</p>\n<h1>三、丰富的标准库</h1>\n<p><a href=\"https://golang.org/pkg\">Go 标准库</a>提供了有效地使用通用通讯协议和数据存储格式/机制的方法，如TCP/IP、HTTP、JPEG、SQL等。</p>\n<p>Go 的标准库是我迄今看到的最好的标准库。我认为它组织良好、清晰、精细又全面：我经常发现只需使用标准库和一两个外部包就可以编写出大小合理的程序。</p>\n<p>领域特定的数据类型和算法（通常）不包括在标准库内，而是包括在第三方库中，例如 <a href=\"https://godoc.org/golang.org/x/net/html\">golang.org/x/net/html</a>。在新代码合入标准库之前，golang.org/x命名空间也充当了新代码的暂存区：<a href=\"https://golang.org/doc/go1compat\">Go 1 兼容性保证</a>排除任何破坏性的改变，即使这些改变看起来很明显是有价值的。golang.org/x/crypto/ssh就是一个典型的例子，为了<a href=\"https://github.com/golang/crypto/commit/e4e2799dd7aab89f583e1d898300d96367750991\">建立更安全的默认配置</a>，它不得不打破现有的代码。</p>\n<h1>四、工具</h1>\n<p>我使用 go get 工具来下载、编译、安装和更新 Go 包。</p>\n<p>所有我用到的 Go 代码库都用内建的 <a href=\"https://golang.org/pkg/testing/\">testing</a> 工具。这不仅令测试容易和快速，而且使得<a href=\"https://blog.golang.org/cover\">覆盖率报告</a>很容易生成。</p>\n<p>每当一个程序使用比预期更多的资源时，我就使用 pprof。参见 golang.org 发布的有关 pprof 的<a href=\"https://blog.golang.org/profiling-go-programs\">博文</a>，或者我发布的有关优化 Debian 代码搜索的<a href=\"https://people.debian.org/~stapelberg/2014/12/23/code-search-taming-the-latency-tail.html\">博文</a>。在导入 net/http/pprof <a href=\"https://golang.org/pkg/net/http/pprof/\">包</a>之后，你可以在服务器运行时对其进行配置，而无需重新编译或重新启动。</p>\n<p>交叉编译就像设置 GOARCH 环境变量一样简单，例如树莓派3 只需设置 GOARCH=arm64。值得注意的是，工具也能够跨平台运行！比如，我能在我的 AMD64 电脑上配置 <a href=\"https://gokrazy.org\">gokrazy</a>：go tool pprof ~/go/bin/linux_arm64/dhcp <a href=\"http://gokrazy:3112/debug/pprof/heap\">http://gokrazy:3112/debug/pprof/heap</a>。</p>\n<p><a href=\"https://godoc.org/golang.org/x/tools/cmd/godoc\">godoc</a> 以纯文本形式显示文档，或者通过 HTTP 提供服务。<a href=\"https://godoc.org/\">godoc.org</a> 是一个公共实例，但是我在本地运行了一个实例，这样我就可以在离线时或者包还未发布时使用了。</p>\n<p>需要注意的是，这些标准工具和 Go 语言是互相伴随的。如果这些标准工具来自于 C 语言，上述每一项将是一个重大的成就。在 Go 中，我们认为这是理所应当的。</p>\n<h3>开始学习</h3>\n<p>希望我已经说清楚了，为什么我喜欢使用Go。</p>\n<p>如果你有兴趣开始使用 Go，请核查<a href=\"https://github.com/gopheracademy/gopher/blob/1cdbcd9fc3ba58efd628d4a6a552befc8e3912be/bot/bot.go#L516\">初学者的资源</a>获取相关信息，这也是我们引导刚加入Gophers <a href=\"https://slack.com/\">Slack</a>频道的人需要核查的。参见<a href=\"https://golang.org/help/\">https://golang.org/help/</a>。</p>\n<h3>注意事项</h3>\n<p>当然，没有编程工具是完全没有问题的。鉴于这篇文章解释为什么 Go 是我最喜欢的编程语言，所以该文只讨论了好的一面。不过，我将顺便地提及一些问题：</p>\n<ul>\n<li>如果你使用的 Go 包还没有提供稳定的 API，你可能想要使用特定的、已知的能够正常运行的版本。最好的办法是用 <a href=\"https://github.com/golang/dep\">dep</a> 工具，在编写 Go 语言时，它还不是 Go 的一部分。</li>\n<li>地道的 Go 代码不一定能转化为最高性能的机器代码，而且运行时间需要付出一些（小的）代价。在极少的情况下，我发现有性能缺乏的情况，我成功地诉诸于 <a href=\"https://golang.org/cmd/cgo/\">cgo</a> 或者汇编器。如果你的范围是硬实时应用程序或其他性能极其关键的代码，你的情况就可能不一样了。</li>\n<li>我之前写到 Go 标准库是我见过的最好的标准库，但是那不意味着它一点问题都没有。其中一个例子是 go/ast—标准库中最古老的包之一，当以编程的方式修改 Go 代码时，用它<a href=\"https://golang.org/issues/20744\">处理注释时会很复杂</a>。</li>\n</ul>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112706\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112706votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112706\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 4 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035\">tsteho</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035\">\r\n\t\t\t<img src=\"http://q.qlogo.cn/qqapp/208656/78BB6F88A07D4D78DB552CAD9BD3D689/100\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            Python爱好者        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/q3198108035\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/q3198108035/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/q3198108035/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 13</a> · <a title=\"QQ：3280767506\" target=\"_blank\" href=\"#\"><i class=\"fa fa-qq\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "开发，Go", "front_image_path": "full/a5e9e0f4c0aa89aeba655b9235066a4a93a5d4a4.jpg"}
{"title": "用 Linux、Python 和树莓派酿制啤酒", "url": "http://blog.jobbole.com/112617/", "url_object_id": "ba818803dbcf536ccfb4c3dad025e02d", "create_date": "2017/10/13", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/321648670d5fb1fe559a6b86b4c1c557.png"], "praise_nums": "3", "fav_nums": 5, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://opensource.com/article/17/7/brewing-beer-python-and-raspberry-pi\">Christopher Aedo</a>   译文出处：<a target=\"_blank\" href=\"https://linux.cn/article-8942-1.html\">Linux中国/hwlife</a>   </div><blockquote><p>怎样在家用 Python 和树莓派搭建一个家用便携的自制酿啤酒装置</p></blockquote>\n<p>大约十年前我开始酿制自制啤酒，和许多自己酿酒的人一样，我开始在厨房制造提纯啤酒。这需要一些设备并且做出来后确实是好的啤酒，最终，我用一个放入了所有大麦的大贮藏罐作为我的麦芽浆桶。几年之后我一次酿制过 5 加仑啤酒，但是酿制 10 加仑时也会花费同样的时间和效用（只是容器比之前大些），之前我就是这么做的。容量提升到 10 加仑之后，我偶然看到了 <a href=\"http://dougedey.github.io/SB_Elsinore_Server/\">StrangeBrew Elsinore</a> ，我意识到我真正需要的是将整个酿酒过程转换成全电子化的，用树莓派来运行它。</p>\n<p>建造自己的家用电动化酿酒系统需要大量这方面的技术信息，许多学习酿酒的人是在 <a href=\"http://theelectricbrewery.com/\">TheElectricBrewery.com</a> 这个网站起步的，只不过将那些控制版搭建在一起是十分复杂的，尽管最简单的办法在这个网站上总结的很好。当然你也能用<a href=\"http://www.instructables.com/id/Electric-Brewery-Control-Panel-on-the-Cheap/\">一个小成本的方法</a>并且依旧可以得到相同的结果 —— 用一个热水壶和热酒容器通过一个 PID 控制器来加热你的酿酒原料。但是我认为这有点太无聊（这也意味着你不能体验到完整的酿酒过程）。</p>\n<h3 id=\"toc_1\">需要用到的硬件</h3>\n<p>在我开始我的这个项目之前, 我决定开始买零件，我最基础的设计是一个可以将液体加热到 5500 瓦的热酒容器（HLT）和开水壶，加一个活底的麦芽浆桶，我通过一个 50 英尺的不锈钢线圈在热酒容器里让泵来再循环麦芽浆（<a href=\"https://byo.com/hops/item/1325-rims-and-herms-brewing-advanced-homebrewing\">“热量交换再循环麦芽浆系统, 也叫 HERMS</a>）。同时我需要另一个泵来在热酒容器里循环水，并且把水传输到麦芽浆桶里，整个电子部件全部是用树莓派来控制的。</p>\n<p>建立我的电子酿酒系统并且尽可能的自动化意味着我需要以下的组件：</p>\n<ul>\n<li>一个 5500 瓦的电子加热酒精容器（HLT）</li>\n<li>能够放入加热酒精容器里的 50 英尺（0.5 英寸）的不锈钢线圈（热量交换再循环麦芽浆系统）</li>\n<li>一个 5500 瓦的电子加热水壶</li>\n<li>多个固态继电器加热开关</li>\n<li>2 个高温食品级泵</li>\n<li>泵的开关用继电器</li>\n<li>可拆除装置和一个硅管</li>\n<li>不锈钢球阀</li>\n<li>一个测量温度的探针</li>\n<li>很多线</li>\n<li>一个来容纳这些配件的电路盒子</li>\n</ul>\n<p><img class=\"aligncenter\" title=\"Brew system\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/321648670d5fb1fe559a6b86b4c1c557.png\" alt=\"Brew system\"></p>\n<p style=\"text-align: center\"><em>酿酒系统 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>建立酿酒系统的电气化方面的细节 <a href=\"http://theelectricbrewery.com/\">The Electric Brewery</a> 这个网站概括的很好，这里我不再重复，当你计划用树莓派代替这个 PID 控制器的话，你可以读以下的建议。</p>\n<p>一个重要的事情需要注意，固态继电器（SSR）信号电压，许多教程建议使用一个 12 伏的固态继电器来关闭电路，树莓派的 GPIO 针插口只支持 3 伏输出电压，然而，必须购买继电器将电压变为 3 伏。</p>\n<p style=\"text-align: center\"><img title=\"Inkbird SSR\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f0d9beae7a48846d36fdd52d50e8770b.png\" alt=\"Inkbird SSR\"></p>\n<p style=\"text-align: center\"><em>Inkbird SSR (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>要运行酿酒系统，你的树莓派必须做两个关键事情：测量来自几个不同位置的温度，用继电器开关来控制加热元件，树莓派很容易来处理这些任务。</p>\n<p>这里有一些不同的方法来将温度传感器连到树莓派上，但是我找到了最方便的方法用<a href=\"https://en.wikipedia.org/wiki/1-Wire\">单总线</a>。这就可以让多个传感器分享相同的线路（实际上是三根线），这三根线可以使酿酒系统的多个设备更方便的工作，如果你要从网上找一个防水的 DS18B20 温度传感器，你可以会找到很多选择。我用的是<a href=\"https://smile.amazon.com/gp/product/B018KFX5X0/\">日立 DS18B20 防水温度传感器</a>。</p>\n<p>要控制加热元件，树莓派包括了几个用来软件寻址的总线扩展器（GPIO），它会通过在某个文件写入 0 或者 1 让你发送3.3v 的电压到一个继电器，在我第一次了解树莓派是怎样工作的时候，这个<a href=\"http://www.susa.net/wordpress/2012/06/raspberry-pi-relay-using-gpio/\">用 GPIO 驱动继电器的树莓派教程</a>对我来说是最有帮助的，总线扩展器控制着多个固态继电器，通过酿酒软件来直接控制加热元件的开关。</p>\n<p>我首先将所有部件放到这个电路盒子，因为这将成为一个滚动的小车，我要让它便于移动，而不是固定不动的，如果我有一个店（比如说在车库、工具房、或者地下室），我需要要用一个装在墙上的更大的电路盒，而现在我找到一个大小正好的<a href=\"http://amzn.to/2hupFCr\">防水工程盒子</a>，能放进每件东西，最后它成为小巧紧凑工具盒，并且能够工作。在左下角是和树莓派连接的为总线扩展器到单总线温度探针和<a href=\"http://amzn.to/2hL8JDS\">固态继电器</a>的扩展板。</p>\n<p>要保持 240v 的固态继电器温度不高，我在盒子上切了个洞，在盒子的外面用 CPU 降温凝胶把<a href=\"http://amzn.to/2i4DYwy\">铜片散热片</a>安装到盒子外面的热槽之间。它工作的很好，盒子里没有温度上的问题了，在盒子盖上我放了两个开关为 120v 的插座，加两个240v 的 led 来显示加热元件是否通电。我用干燥器的插座和插头，所以可以很容易的断开电热水壶的连接。首次尝试每件事情都工作正常。（第一次绘制电路图必有回报）</p>\n<p>这个照片来自“概念”版，最终生产系统应该有两个以上的固态继电器，以便 240v 的电路两个针脚能够切换，另外我将通过软件来切换泵的开关。现在通过盒子前面的物理开关控制它们，但是也很容易用继电器控制它们。</p>\n<p style=\"text-align: center\"><img title=\"Control box\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/05a735d6ed711e79d3186afe8665529a.png\" alt=\"Control box\"></p>\n<p style=\"text-align: center\"><em>控制盒子 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>唯一剩下有点棘手的事情是温度探针的压合接头，这个探针安装在加热酒精容器和麦芽浆桶球形的最底部阀门前的 T 字型接头上。当液体流过温度传感器，温度可以准确显示。我考虑加一个套管到热水壶里，但是对于我的酿造工艺没有什么用。最后，我买到了<a href=\"https://www.brewershardware.com/CF1412.html\">四分之一英寸的压合接头</a>，它们工作完美。</p>\n<h3 id=\"toc_2\">软件</h3>\n<p>一旦硬件整理好，我就有时间来处理软件了，我在树莓派上跑了最新的 <a href=\"https://www.raspberrypi.org/downloads/raspbian/\">Raspbian 发行版</a>，操作系统方面没有什么特别的。</p>\n<p>我开始使用 <a href=\"https://github.com/DougEdey/SB_Elsinore_Server\">Strangebrew Elsinore</a> 酿酒软件，当我的朋友问我是否我听说过 <a href=\"https://brewtronix.com/\">Hosehead</a>（一个基于树莓派的酿酒控制器），我找到了 <a href=\"https://github.com/DougEdey/SB_Elsinore_Server\">Strangebrew Elsinore</a> 。我认为 <a href=\"https://brewtronix.com/\">Hosehead</a> 很棒，但我并不是要买一个酿酒控制器，而是要挑战自己，搭建一个自己的。</p>\n<p>设置 <a href=\"https://github.com/DougEdey/SB_Elsinore_Server\">Strangebrew Elsinore</a> 很简单，其<a href=\"http://dougedey.github.io/SB_Elsinore_Server/\">文档</a>直白，没有遇到任何的问题。尽管 Strangebrew Elsinore 工作的很好，但在我的一代树莓派上运行 java 有时是费力的，不止崩溃一次。我看到这个软件开发停顿也很伤心，似乎他们也没有更多贡献者的大型社区（尽管有很多人还在用它）。</p>\n<h4 id=\"toc_3\">CraftBeerPi</h4>\n<p>之后我偶然遇到了一个用 Python 写的 <a href=\"http://www.craftbeerpi.com/\">CraftbeerPI</a>，它有活跃的贡献者支持的开发社区。原作者（也是当前维护者） Manuel Fritsch 在贡献和反馈问题处理方面做的很好。克隆<a href=\"https://github.com/manuel83/craftbeerpi\">这个仓库</a>然后开始只用了我一点时间。其 README 文档也是一个连接 DS1820 温度传感器的好例子，同时也有关于硬件接口到树莓派或者<a href=\"https://www.nextthing.co/pages/chip\">芯片电脑</a> 的注意事项。</p>\n<p>在启动的时候，CraftbeerPI 引导用户通过一个设置过程来发现温度探针是否可用，并且让你指定哪个 GPIO 总线扩展器指针来管理树莓派上哪个配件。</p>\n<p style=\"text-align: center\"><img title=\"CraftBeerPi\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/f8a03ee6fc9b1756098dc00077f89a6e.png\" alt=\"CraftBeerPi\"></p>\n<p style=\"text-align: center\"><em>CraftBeerPi (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>用这个系统进行自制酿酒是容易的，我能够依靠它掌握可靠的温度，我能输入多个温度段来控制麦芽浆温度，用CraftbeerPi 酿酒的日子有一点点累，但是我很高兴用传统的手工管理丙烷燃烧器的“兴奋”来换取这个系统的有效性和持续性。</p>\n<p>CraftBeerPI 的用户友好性鼓舞我设置了另一个控制器来运行“发酵室”。就我来说，那是一个二手冰箱，我用了 50 美元加上放在里面的 25 美元的加热器。CraftBeerPI 很容易控制电器元件的冷热，你也能够设置多个温度阶段。举个例子，这个图表显示我最近做的 IPA 进程的发酵温度。发酵室发酵麦芽汁在 67F° 的温度下需要 4 天，然后每 12 小时上升一度直到温度到达 72F°。剩下两天温度保持不变是为了双乙酰生成。之后 5 天温度降到 65F°，这段时间是让啤酒变“干”，最后啤酒发酵温度直接降到 38F°。CraftBeerPI 可以加入各个阶段，让软件管理发酵更加容易。</p>\n<p style=\"text-align: center\"><img title=\"SIPA fermentation profile\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/8d7c5fbb9698918300bfb2f9fa06f4a9.png\" alt=\"SIPA fermentation profile\"></p>\n<p style=\"text-align: center\"><em>SIPA 发酵设置 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>我也试验过用<a href=\"https://tilthydrometer.com/\">液体比重计</a>来对酵啤酒的比重进行监测，通过蓝牙连接的浮动传感器可以达到。有一个整合的计划能让 CraftbeerPi 很好工作，现在它记录这些比重数据到谷歌的电子表格里。一旦这个液体比重计能连接到发酵控制器，设置的自动发酵设置会基于酵母的活动性直接运行且更加容易，而不是在 4 天内完成主要发酵，可以在比重稳定 24 小时后设定温度。</p>\n<p>像这样的一些项目，构想并计划改进和增加组件是很容易，不过，我很高兴今天经历过的事情。我用这种装置酿造了很多啤酒，每次都能达到预期的麦芽汁比率，而且啤酒一直都很美味。我的最重要的消费者 —— 就是我！很高兴我可以随时饮用。</p>\n<p style=\"text-align: center\"><img title=\"Homebrew on tap\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/0d180cf46d1a47410f56355cb4bf490b.png\" alt=\"Homebrew on tap\"></p>\n<p style=\"text-align: center\"><em>随时饮用 (photo by Christopher Aedo. <a href=\"https://creativecommons.org/licenses/by-sa/4.0/\">CC BY-SA 4.0)</a></em></p>\n<p>这篇文章基于 Christopher 的开放的西部的讲话《用Linux、Python 和树莓派酿制啤酒》。</p>\n<p><strong>作者简介</strong></p>\n<p>Christopher Aedo 从他的学生时代就从事并且贡献于开源软件事业。最近他在 IBM 领导一个极棒的上游开发者团队，同时他也是开发者拥护者。当他不再工作或者实在会议室演讲的时候，他可能在波特兰市俄勒冈州用树莓派酿制和发酵一杯美味的啤酒。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112617\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112617votetotal\">3</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112617\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，Linux，Python", "front_image_path": "full/83d9155a881b52f5a7e8ab8999c0407f73b4bcea.jpg"}
{"title": "为什么 SQL 正在击败 NoSQL，数据的未来是什么？", "url": "http://blog.jobbole.com/112614/", "url_object_id": "b18b989eea213ef86d7e7c511524388d", "create_date": "2017/10/13", "front_image_url": ["http://jbcdn2.b0.upaiyun.com/2017/10/22f63f78e9c9f35b288f0634be3a89f5.gif"], "praise_nums": "2", "fav_nums": 5, "comment_nums": 1, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">原文出处： <a ref=\"nofollow\" target=\"_blank\" href=\"https://blog.timescale.com/why-sql-beating-nosql-what-this-means-for-future-of-data-time-series-database-348b777b847a\">Ajay Kulkarni</a>   译文出处：<a target=\"_blank\" href=\"http://geek.csdn.net/news/detail/238939\">Vincent</a>   </div><p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/22f63f78e9c9f35b288f0634be3a89f5.gif\" alt=\"\"></p>\n<p>自从可以利用计算机做事以来，我们一直在收集的数据以指数级的速度在增长，因此对于数据存储、处理和分析技术的要求也越来越高。在过去的十年里，由于SQL无法满足这些要求，软件开发人员就抛弃了它，NoSQL也就因此而渐渐发展起来：MapReduce，Bigtable，Cassandra，MongoDB等等。</p>\n<p>然而，如今SQL正在重新复出。云端的主要供应商们现在都提供了广受大众欢迎的托管关系型数据库服务：例如<a href=\"https://aws.amazon.com/rds/\">Amazon RDS</a>，<a href=\"https://cloud.google.com/sql/docs/\">谷歌Cloud SQL</a>，<a href=\"https://azure.microsoft.com/en-us/services/postgresql/\">Azure的PostgreSQL数据库</a>(Azure将于今年发布)。用亚马逊自己的话来说就是Aurora数据库结合了PostgreSQL和mysql数据库，因此该产品一直是“<a href=\"http://www.businesswire.com/news/home/20161130006131/en/AWS-Extends-Amazon-Aurora-PostgreSQL-Compatibility\">AWS历史上增长最快的服务</a>”。在Hadoop和Spark之上的SQL接口继续蓬勃发展。就在上个月，<a href=\"https://www.confluent.io/blog/ksql-open-source-streaming-sql-for-apache-kafka/\">Kafka推出了SQL支持</a>。</p>\n<p>在这篇文章中，我们将研究SQL现在为什么会复出的原因，以及这对未来的数据社区工程和分析意味着什么。</p>\n<h1>第一章：新希望</h1>\n<p>为了理解为什么SQL会卷土重来，让我们先了解一下最初设计它的原因。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/72951783ccb91647b0b1ebee30d50620.gif\" alt=\"\"></p>\n<p>好的故事都是起源于20世纪70年代</p>\n<p>我们的故事始于20世纪70年代早期的IBM研究，那时关系型数据库就诞生了。当时的查询语言依赖于复杂的数学逻辑和符号。Donald Chamberlin和Raymond Boyce两个人刚刚完成哲学博士学位，对关系型数据模型印象深刻，但是发现查询语言将成为其发展的一个主要瓶颈。于是他们便开始设计一种新的查询语言(用他们自己的话说)：“<a href=\"http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=6359709\">让那些没有接受过数学和计算机编程方面正规训练的用户更容易使用</a>”。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/05572bb1723acf75c70333b932d338c1.png\" alt=\"\"></p>\n<p style=\"text-align: center\">两个查询语言的比较 © (<a href=\"http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=6359709\">source</a>)</p>\n<p>仔细想想这件事。在互联网出现之前，在个人电脑出现之前，当编程语言C首次被引入世界时，两位年轻的计算机科学家意识到，“<a href=\"http://www.almaden.ibm.com/cs/people/chamberlin/sequel-1974.pdf\">计算机行业的成功很大程度上依赖于培养一种除了训练有素的计算机专家以外的用户</a>。”他们想要的是一种像英语一样易于阅读的查询语言，这也将包括数据库管理和操作。</p>\n<p>其结果就是在1974年首次将SQL引入世界。在接下来的几十年里，SQL将被证明是非常受欢迎的。随着诸如System R、Ingres、DB2、Oracle、SQL Server、PostgreSQL、MySQL(等等)关系型数据库接管了软件行业，SQL也成为了与数据库交互的卓越语言，成为了一个日益拥挤、竞争激烈的生态系统的通用语言。</p>\n<p>（遗憾的是，Raymond Boyce从来没有机会见证SQL的成功。1个月后<a href=\"https://en.wikipedia.org/wiki/Raymond_F._Boyce\">他便死于脑动脉瘤</a>，只做了一个最早的SQL演讲，当时他只有26岁，留下了一个妻子和一个年轻的女儿。）</p>\n<p>有一段时间，似乎SQL成功地完成了它的任务。但后来互联网发生了。</p>\n<h1>第二章：NoSQL的反击</h1>\n<p>在Chamberlin和Boyce都在开发SQL的同时，令他们没有想到的是在加州的第二组工程师正在研究另一个正在萌芽的项目，该项目后来会广泛扩散并威胁到SQL的存在。这个项目就是<a href=\"https://en.wikipedia.org/wiki/ARPANET\">阿帕网</a>，1969年10月29日，<a href=\"http://all-that-is-interesting.com/internet-history\">它诞生了</a>。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/b027676ce3d4e5a5566c55927e1a77fc.png\" alt=\"\"></p>\n<p style=\"text-align: center\">ARPANET的一些创造者，最终演变成今天的互联网(<a href=\"http://all-that-is-interesting.com/internet-history\">来源</a>)</p>\n<p>SQL一直发展的都很好，但是直到1989年，另一个工程师出现并发明了<a href=\"https://en.wikipedia.org/wiki/World_Wide_Web\">万维网</a>。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e0df1de91fb9ad4f9bbcf503b2a2aa30.png\" alt=\"\"></p>\n<p style=\"text-align: center\">发明网络的物理学家(<a href=\"https://webfoundation.org/about/vision/history-of-the-web/\">来源</a>)</p>\n<p>像那些茂密的野草一样，互联网和网络蓬勃发展，极大地扰乱了我们的世界，但对于数据社区来说，它还造成了一个特别的麻烦:跟以前相比，新的数据源以更高的数量和速度生成数据。</p>\n<p>随着互联网的不断发展，软件社区发现，当时的关系型数据库无法处理这一新的负载。<em>因此出现了一阵骚动的力量，就好像一百万个数据库突然过载了。</em></p>\n<p>然后，两个新的互联网巨人取得了突破，并开发了他们自己的非关系型分布式系统来帮助解决这一新的数据冲击：由谷歌发布的<strong>MapReduce</strong>(<a href=\"https://static.googleusercontent.com/media/research.google.com/en//archive/mapreduce-osdi04.pdf\">2004年出版</a>)和<strong>Bigtable</strong>(<a href=\"https://static.googleusercontent.com/media/research.google.com/en//archive/bigtable-osdi06.pdf\">2006年出版</a>)，以及亚马逊(Amazon)发布的 <strong>Dynamo</strong> (<a href=\"http://www.allthingsdistributed.com/files/amazon-dynamo-sosp2007.pdf\">2007出版</a>)。这些开创性的论文导致出现了更多的非关系数据库，包括<strong>Hadoop</strong>(基于MapReduce文件，<a href=\"https://en.wikipedia.org/wiki/Apache_Hadoop\">2006</a>)，<strong>Cassandra</strong>(受Bigtable和Dynamo文件的启发，<a href=\"https://en.wikipedia.org/wiki/Apache_Cassandra\">2008年</a>)和<strong>MongoDB</strong>(<a href=\"https://en.wikipedia.org/wiki/MongoDB\">2009</a>)。因为这些新系统基本上都是从零开始编写的，所以它们也没有使用SQL，导致了NoSQL运动的兴起。</p>\n<p>开发者社区的软件工程师们也接受了NoSQL，而且跟SQL当时的出现相比，接受的群众范围更广了。这个原因很容易理解：NoSQL是现在流行的；它承诺了规模和权力；这似乎是项目通往成功的捷径。但后来出现了问题。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/40e1f5a569b1cb3e45d9c9d56bf25653.gif\" alt=\"\"></p>\n<p style=\"text-align: center\">典型的被NoSQL诱惑的软件开发人员。不要学这家伙。</p>\n<p>开发人员很快发现，没有SQL实际上是非常有限的。。每个NoSQL数据库都提供了自己独特的查询语言，这意味着：学习更多的语言(并在同事之间传播知识);增加了将数据库连接到应用程序的难度，导致代码之间有很强的耦合性;缺乏第三方生态系统，需要公司开发自己的操作和可视化工具。</p>\n<p>这些NoSQL语言是新的，但也没有完全开发出来。例如，关系型数据库已经运行很多年了，像为SQL添加必要的特性(例如JOIN)这些工作早都已经完成了;NoSQL语言的不成熟意味着在应用程序级别就会有更多的复杂性。缺乏JOIN也导致了反规格化，从而又导致数据膨胀和僵化。</p>\n<p>一些NoSQL数据库添加了自己的“类sql”查询语言，比如Cassandra的CQL。但这常常会使问题变得更糟。如果使用跟别的东西完全一样的界面，如果越常见，实际上会导致心理产生更多的疑问：工程师压根就不知道支持什么，不支持什么。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/788e6f314d2276358ead9cef3281be6f.gif\" alt=\"\"></p>\n<p style=\"text-align: center\">类sql的查询语言就像<a href=\"https://www.youtube.com/watch?v=ZX0x-I06Fpc\">《星球大战》假日特别节目</a>。接受不模仿。</p>\n<p style=\"text-align: center\">(<a href=\"https://xkcd.com/653/\">而且总是避免《星球大战》的特别节目</a>)</p>\n<p>社区中的一些人在早期就看到了NoSQL的问题（<a href=\"https://homes.cs.washington.edu/~billhowe/mapreduce_a_major_step_backwards.html\">例如德维特和斯通布雷克在2008年就发现了</a>）。随着时间的推移，通过使用过程中个人经验的辛苦积累，越来越多的软件开发人员也同意了这一点。</p>\n<h1>第三章：SQL的回归</h1>\n<p>最初被黑暗势力所诱惑的软件社区开始看到了光明，SQL也上演了英雄回归的一幕。</p>\n<p>首先是Hadoop上的SQL接口(Spark之后也是)，导致该行业兴起了NoSQL，NoSQL表示“不只是SQL”(Not Only SQL)。</p>\n<p>紧接着NewSQL兴起了：完全接纳了SQL的新的可扩展数据库。来自于麻省理工学院(MIT)和布朗大学(Brown)研究人员的<strong>H-Store</strong>(<a href=\"http://hstore.cs.brown.edu/papers/hstore-demo.pdf\">2008年出版</a>)是最早的扩展OLTP数据库之一。谷歌再次引领了风向标，根据他们的<strong>Spanner</strong> 论文（<a href=\"https://static.googleusercontent.com/media/research.google.com/en//archive/spanner-osdi2012.pdf\">出版于2012年</a>）（其作者包括原始的MapReduce作者）开创了地缘重复的SQL界面的数据库，其次再是<strong>CockroachDB</strong>（<a href=\"https://en.wikipedia.org/wiki/Cockroach_Labs\">2014</a>）这样的其他先驱者。</p>\n<p>与此同时，PostgreSQL社区开始复苏，添加了一些关键的改进，比如JSON数据类型(2012)，以及<a href=\"https://wiki.postgresql.org/wiki/New_in_postgres_10\">PostgreSQL 10</a>中的新特性的potpourri：对分区和复制更好的本地支持，支持对JSON的全文搜索，以及其它更多的特性(定于今年晚些时候发布的版本)。其他如<strong>CitusDB</strong>(<a href=\"https://www.citusdata.com/blog/2016/03/24/citus-unforks-goes-open-source/\">2016</a>)以及其他的公司(<a href=\"https://www.citusdata.com/blog/2016/03/24/citus-unforks-goes-open-source/\">今年发布</a>的<strong><a href=\"https://www.citusdata.com/blog/2016/03/24/citus-unforks-goes-open-source/\">TimescaleDB</a></strong>)找到了新方法从而针对特定数据工作负载的扩展PostgreSQL。<br>\n<img title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/e1263fac9bef0ad66e743bcedef06752.png\" alt=\"\"></p>\n<p>事实上，我们开发<strong><a href=\"https://github.com/timescale/timescaledb\">TimescaleDB</a></strong>的过程与这个行业的发展轨迹是密切相关。早期的TimescaleDB内部版本使用了我们自己的类sql查询语言“ioQL”。是的，我们也没能抵挡住黑暗一面的诱惑:我们感觉能够构建自己的查询语言应该会非常强大。然而，尽管这似乎是一条简单的道路，但我们很快意识到其实需要做更多的工作。我们还发现自己需要不断地去查找合适的语法，去查询那些已经可以用SQL进行查询的内容。</p>\n<p>有一天，我们意识到构建自己的查询语言毫无意义。最关键的还是要接受SQL。这是我们做出的最好的设计决定之一。顿时，一个全新的世界出现了。现在尽管我们的数据库才问世5个月,但是用户却可以在生产环境上使用我们的数据库，还有很多其他的美好事物:可视化工具(Tableau),与常见的ORM的连接器,各种工具和备份选项,丰富的在线教程和语法解释等等。</p>\n<h1>信谷歌，得永生</h1>\n<p><img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/b27ea29357f08bd86515851503e79123.png\" alt=\"\"></p>\n<p>谷歌已经在数据工程和基础架构领域领先了十多年了。我们应该密切关注他们正在做的事情。</p>\n<p>看看谷歌的第二大<strong>Spanner</strong>论文，就在四个月前发布的(<a href=\"https://static.googleusercontent.com/media/research.google.com/en//pubs/archive/46103.pdf\">Spanner:成为一个SQL系统</a>，2017年5月)，你会发现它支持我们的发现成果。</p>\n<p>例如，谷歌开始的时候是在Bigtable上面构建，但后来发现不用SQL会造成很多问题(强调了我们下面的所有引用):</p>\n<blockquote><p>虽然这些系统提供了数据库系统的某些优点，但它们缺少许多应用程序开发人员经常依赖的传统数据库特性。<strong>举一个关键的例子就是一个健壮的查询语言</strong>，这意味着开发人员必须编写复杂的代码来处理和聚合应用程序中的数据。<strong>因此，我们决定将Spanner变成一个完整的SQL系统</strong>，查询执行与Spanner的其他架构特性紧密集成(例如强一致性和全局复制)。</p></blockquote>\n<p>在论文的后面，他们进一步抓住了从NoSQL过渡到SQL的基本原理:</p>\n<blockquote><p>Spanner的原始API提供了对单个和交叉表的点查找和范围扫描的NoSQL方法。虽然NoSQL方法提供了一个简单的启动扳手的方法，并且在简单的检索场景中继续有用，但是SQL在表达更复杂的数据访问模式和将计算推到数据上提供了重要的附加价值。</p></blockquote>\n<p>本文还描述了SQL的采用是如何在扳手上不停止的，但实际上扩展到了谷歌的其余部分，这里的多个系统现在共享一个通用的SQL方言:</p>\n<blockquote><p>扳手的SQL引擎共享一个共同的SQL方言,称为“标准SQL”,与其他几个系统在谷歌上钻包括内部系统如F1和小孔(等)和外部系统如BigQuery…</p>\n<p>对于谷歌的用户来说，这降低了跨系统工作的障碍。一个开发人员或数据分析人员编写了针对Spanner数据库的SQL，可以将他们对该语言的理解转移到Dremel，而不必担心语法、空处理等细微的差异。</p></blockquote>\n<p>这种方法的成功不言自明。Spanner已经成为主要谷歌系统的“真相之源”，包括AdWords和谷歌游戏，而“潜在的云客户对使用SQL非常感兴趣”。</p>\n<p>考虑到谷歌首先帮助发起了NoSQL运动，很值得注意的是，它现在正在接受SQL。(导致一些人最近想:“谷歌在10年的假时间里发送了大数据产业吗?”)</p>\n<h1>这对数据的未来意味着什么:SQL将变成细腰</h1>\n<p>在计算机网络中，有一个概念叫做“细腰结构”。</p>\n<p>这个想法的出现解决了一个关键问题:在任何给定的网络设备上，想象一个堆栈，底层的硬件层和顶部的软件层。中间可能会存在各种网络硬件;同样，也存在存在各种各样的软件和应用程序。需要某种可以确保无论硬件发生了什么情况，软件仍然可以连接到网络的方法;同样的也能确保无论软件发生什么，网络硬件都知道如何处理网络请求。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/c10ce6a68e20e57c787edd1f6341e7b2.png\" alt=\"\"></p>\n<p>在网络中，细腰的角色由<a href=\"https://en.wikipedia.org/wiki/Internet_Protocol\">互联网协议(IP)</a>扮演，它是为局域网设计的底层联网协议和更高级别的应用程序和传输协议的公共接口。(<a href=\"https://www.youtube.com/watch?v=uXumm52oBMo\">这是一个很好的解释</a>。)而且(在一个广泛的简化中)，这个公共接口成为了计算机的通用语言，使网络能够相互连接，设备可以通信，而这种“网络网络”可以发展成为今天丰富多样的互联网。</p>\n<p><strong>我们认为SQL已经成为数据分析的细腰。</strong></p>\n<p>我们生活的时代，数据正在成为“世界上最有价值的资源”(<a href=\"https://www.economist.com/news/leaders/21721656-data-economy-demands-new-approach-antitrust-rules-worlds-most-valuable-resource\">《经济学人》，2017年5月</a>)。因此,我们看到了专业数据库(OLAP、时间序列、文档、图表等)，数据处理工具(Hadoop,Spark,Flink),数据总线(Kafka,RabbitMQ)等呈现出了寒武纪大爆发式的情形。我们也有了更多需要依靠这些数据基础设施的应用程序,无论是第三方数据可视化工具(Tableau,Grafana PowerBI,Superset),web框架(Rails,Django)或定制的数据驱动的应用程序。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/ffffebb9ec5cbd41d7c66b3f39209ffc.png\" alt=\"\"></p>\n<p>像网络一样，我们也有一个复杂的堆栈，底层的基础设施和顶部的应用程序。通常，我们最终会编写大量的胶水代码来完成这个堆栈工作。但是胶水代码可能很脆弱:需要精心的运维。</p>\n<p>我们需要的是一个公共接口，允许堆栈的各个部分彼此通信。理想情况下，这个行业已经标准化了。它能让不同层之间的通信阻碍能够降到最小。</p>\n<p>这就是SQL的力量。和IP一样，SQL也是一个公共接口。</p>\n<p>但SQL实际上比IP复杂得多。因为数据还需要支持人类分析。而且，SQL创建者最初给它设定的目标之一就是可读性要高。</p>\n<p>SQL是完美的吗?不，但社区中的大多数人都已经了解了这门语言。虽然已经有工程师在开发更自然的语言界面，但是这些系统最终会连接到哪里?还是SQL。</p>\n<p>所以在堆栈的顶部还有一层。那一层就是我们人类。</p>\n<h1>SQL回归</h1>\n<p>SQL回来了。不只是因为在组装NoSQL工具时编写胶水代码的做法十分令人反感。不仅仅是因为学习各种各样的新语言是困难的。也不只是因为标准会带来各种优点。</p>\n<p>也因为这个世界充满了数据。它包围着我们，束缚着我们。起初，我们依靠人类的感觉神经系统来处理它。现在，软件和硬件系统也变得足够智能，可以帮助我们。随着收集的数据越来越多，我们也可以更好地认识这个世界，系统的复杂性、存储、处理、分析以及对这些数据可视化的需求只会继续增长。<br>\n<img class=\"aligncenter\" title=\"\" src=\"http://jbcdn2.b0.upaiyun.com/2017/10/067cfbb7c99c2c08bee927e5e293beea.gif\" alt=\"\"></p>\n<p style=\"text-align: center\"><em>数据科学家尤达大师</em></p>\n<p>我们可以生活在满大街的系统都是如纸一般脆弱，接口量达到数百万个的世界里。 或者我们可以再次选择SQL，这样我们生活的世界也可能会变得越来越强大。</p>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112614\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112614votetotal\">2</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112614\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 5 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i> 1 评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n\r\n<!-- END #author-bio -->\r\n\t</div>", "tags": "IT技术，数据库", "front_image_path": "full/2ec6535412daa2cec5d9b2d0b3f0ebbab16ae266.jpg"}
{"title": "微服务进展缓慢的 5 个难点", "url": "http://blog.jobbole.com/112611/", "url_object_id": "fb470c958f70e3d3bf823efd548d1b1f", "create_date": "2017/10/13", "front_image_url": ["http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0-1024x680.jpg"], "praise_nums": "1", "fav_nums": 1, "comment_nums": 0, "content": "<div class=\"entry\">\r\n\r\n        \t\t\t<div class=\"textwidget\"></div>\n\t\t\r\n\t\t<div class=\"copyright-area\">本文作者： <a href=\"http://blog.jobbole.com\">伯乐在线</a> - <a href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a> 。未经作者许可，禁止转载！<br>欢迎加入伯乐在线 <a href=\"http://blog.jobbole.com/99322\" target=\"_blank\">专栏作者</a>。</div><div>\n<h3>前言</h3>\n<p>笔者从2013年加入ThoughtWorks至今共4年时间。在这4年时间里，我分别以开发人员、DevOps工程师、DevOps咨询师、微服务架构师以及微服务咨询师的角色参与了共计7个产品和项目的微服务咨询和实施。其中有成功，有失败，有反思，更多的是学习和总结。以下是我这些年来在微服务咨询上的经验总结，希望能给陷入微服务实施困境的人带来一些帮助。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0-1024x680.jpg\" alt=\"\" width=\"700\" height=\"465\"></a></p>\n<h3>难点1：“一步到位”的认知错觉</h3>\n<p>这些年微服务大红大紫，但是真正能够拿出来做为可实践案例的少之又少。大部分的微服务案例只能看到微服务架构的“演进结果”，但是看不到其“演进过程”。这就像每个人可以看到一个架构的高峰，却看不到攀登高峰的路径。</p>\n<p>这就造成了一个假象：微服务的架构是通过能力极高的架构师一步到位设计出来的。</p>\n<p>这和很多团队自上而下的架构设计感受很相似。于是架构师们蜂拥而至，各种分析方法论层出不穷，讨论和分享络绎不绝。然而真正落地实施的却很少，使得微服务在网络上慢慢变成了一种“玄学”：微服务的实施一直在“理论研究”的阶段。</p>\n<p>这违反了软件架构的最基本规律：架构是通过解决当前的需求和痛点而演进的，无法根据没有出现的问题和痛点进行设计。因此，一步到位的、整体的微服务架构设计完全没有必要。况且一个集中化的设计，很难体现微服务的轻量级优势。</p>\n<p>我相信技术一定是向不断降低成本的方向发展的。如果新技术没有降低成本反而提升了成本，要么这个新技术有问题，要么是姿势不对、走错了路。</p>\n<p>因此，准备实施微服务一定要有一个长期的思想准备。不过跨过了最初的门槛之后，剩下的工作可以被复制、而且速度会越来越快。</p>\n<h3>难点2：“架构师精英主义”</h3>\n<p>很多产品对架构师的依赖很大，即“架构师精英主义”：认为只有这个组织的“技术精英”——架构师才可以完成该产品的架构，而团队其它成员只需要实现架构师的设计就可以。这是大型企业和大型系统的常见问题，来源于长期以来重量级企业级架构的习惯。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/architect.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/architect-1024x602.jpg\" alt=\"\" width=\"700\" height=\"412\"></a></p>\n<p>而微服务则类似于一种“敏捷边际革命”：即由一个不超过2~8个人的小团队就可以完成的轻量级架构。而且对于这种规模的团队而言，即使把整个微服务团队从产品团队移除也不会对整体产品的研发进度产生影响。因此，即使失败了也不会带来太多的损失。不过，当第一个微服务改造成功，那么成功经验的复制带来的乘数效应却能带来很大的收益。</p>\n<p>从架构改造投资的风险收益比来看，这是非常划算的。</p>\n<p>因此，微服务团队完全没必要大张旗鼓，只需要两三个人就可以动工。但是，谁也没有微服务的实践经验啊，万一失败了怎么办？</p>\n<p>这就带来了下一个难点。</p>\n<h3>难点3：缺乏一个信任并鼓励创新的环境</h3>\n<p>面对未知的领域，失败再所难免。而处在这个不确定性频发的世界，成功和失败已经不再重要：也许今天的失败，明天再看就是成功，反之亦然。</p>\n<p>成功只是表明结果符合自己的假设预期，而失败仅仅意味着结果不符合自己的假设预期。但是无论成败，我们都能在行动的过程中有所学习和反思，而这样的经验才是研发活动中最有价值的。</p>\n<p>然而，很多组织，尤其“精英主义”的产品团队，责任和压力往往从上至下分解。由于组织庞大，金字塔的结构往往会构建一种以“不信任”为基础的制度。这种制度营造了一种“宁可不作为，也不能犯错”的文化。由于上层需要对失败负责，使得所有创新只能停留在上层，难以落实推进。在这种情况下，组织的长期合作形成了稳定的工作习惯和思维定势，并形成了利益平衡，这会使得整个组织在面对创新的时候“卡壳”。</p>\n<p>当微服务以一种政治任务从上而下派发的时候，为了避免失败，团队内部会相互推诿。通过不断的分析讨论和设计来论证这个事情的难度。在我看来，只要想搞，就一定能找到办法，而不是先设想出一堆还没有遇到的问题和责任。在行进中解决问题是比设计和讨论更加有效率的方法。</p>\n<p>而组织解决“卡壳”的办法就是引入“背锅侠”：例如新聘请的架构师或外部咨询师，来完成这个事情。出了问题就不用自己来承担责任了。这样虽然是解决问题的一种折中办法，可以让事情毫无风险的执行下去。但这是一种短期效应，无法解决组织本身的创新窘境，长期依赖外部力量来解决最有价值的问题不会让自己提升，反而形成了对外部力量的依赖。对于凝聚组织来说不是一件好事。</p>\n<p>只有打破当前的工作习惯和思维定势，充分认识到创新的困难、风险以及价值，才可以占领创新的高点，吸引人才。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/Microservices.png\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/Microservices-1024x592.png\" alt=\"\" width=\"700\" height=\"405\"></a></p>\n<h3>难点4：微服务技术栈的“选择困难症”</h3>\n<p>由于“精英主义”的架构师需要担负很大的责任和压力。他们必须要为微服务架构谨慎的选择技术栈。因此会在不同的技术栈之间不断尝试。对于习惯了在大型研发组织里“精心设计，加班生产 ”的架构师而言。“长设计，慢反馈”节奏似乎是理所应当的。</p>\n<p>微服务开源社区的快速发展滋长了“架构师焦虑”：如果采用落后的技术会被同行鄙视，被不懂技术的老板鄙视，甚至被下属鄙视。因此架构师们疲于在各种新型的技术栈之间比较和学习。此外，不熟悉技术往往会增大风险，架构师就需要更多的时间研究。带着“一步到位”的架构幻想对微服务技术栈精挑细选，而不会采用现有低成本的方案快速迭代的解决问题。</p>\n<p>微服务的核心在于采用“小规模，快反馈”的机制降低软件系统的复杂性并通过虚拟和自动化技术分散风险，从而及时应对市场变化带来的各种挑战、进行快速销售创新，获得市场的反馈。而不仅仅是利用到了时下新兴的语言，编程框架或工具。</p>\n<p>学习和实践是相辅相成的过程，在实践中学习，并把学习到的知识应用到实践中。这不同于准备一场考试：先停下来学习，准备好了再全力以赴。</p>\n<p>以上四点会让大型组织在微服务实施中“卡壳”，这往往会导致微服务实施忽略最重要一点，也是我认为也是核心的一点。</p>\n<h3>难点5：对微服务的技术变革预估过高，而对微服务带来的组织变革预估不足</h3>\n<p>作为架构师，永远要不要低估康威定理的威力：“设计系统的组织，其产生的设计和架构等价于组织间的沟通结构。”</p>\n<p>从制度经济学角度来讲，软件产品本身就是企业内部组织（员工）和外部组织（用户）沟通制度的计算机程序表达。这个制度一定会朝着缩短组织内外部沟通成本的方向发展。</p>\n<p><a href=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/communication.jpg\"><img src=\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/communication-1024x663.jpg\" alt=\"\" width=\"700\" height=\"453\"></a></p>\n<p>因此，系统架构一定是和组织架构相吻合的，如果不吻合，势必会阻碍组织的渐进。</p>\n<p>这就引出了一个推论：如果企业组织的架构不是唯一的，那么微服务的架构方案也不是唯一的。</p>\n<p>当架构和组织结构相一致的时候，一切都会很顺畅。反之，就会出现各种问题。</p>\n<p>这个关系就像鞋和脚的关系，只有穿上合适的鞋，走起路来才会舒服。过大过小的鞋都无法让你加快前进的步伐。当然，你可以选择买鞋（引入产品），虽然并不是很合脚，但还可以凑合穿，只是在换鞋的时候你不得不停下来试。你也可以花高价为自己定制一套，这个不会让你在短时间内走得更快，只会越来越合脚。</p>\n<p>如果所有人穿上了新鞋，都能跑得很快，只有你不能，那么这就不是鞋的问题，而是你脚的问题，这就不是换鞋能解决的了。你得先把脚的问题解决了，然后再看鞋的问题。当然，也可以通过鞋来矫正脚，只不过会花些功夫，但一定会比不停的换鞋更加有效。</p>\n<p>很不幸，大多数的组织并没有准备好迎接微服务架构带来的组织变化。仍然把“系统架构问题”和“组织问题”割裂成两个不同领域的问题：微服务是技术问题，组织问题是管理问题。</p>\n<p>有竞争力的组织，是能够通过融合优势达到1+1&gt;2效果的组织。而不是把优势割裂开，让1+1&lt;=2的组织。因此，技术问题和管理问题并不是两个问题，而是同一个问题的两个侧面。</p>\n<p>因此，如果你的组织结构是去中心化的小团队结构，那么不用担心，你的应用架构会朝组织架构的方向演进。反之，如果你不是一个去中心化的小团队结构，那么微服务的架构会和组织架构格格不入。</p>\n<h3>如何解决这些问题？</h3>\n<p>作为微服务的实践者，对微服务不应该是“叶公好龙”，仅仅停留在研讨的层面。而应该采用敏捷和精益的方式迅速开始，在行进中解决碰到的问题。每个组织的组织结构和业务结构都有所不同，微服务实施所面对的挑战也截然不同。在实施的过程中快速学习并改进，没有必要进行周期较长的总体设计。</p>\n<p>关于如何解决本文提到的5个问题，请期待下篇《提升微服务实施效率的7个步骤》。</p>\n<blockquote><p>本文首发于GitChat，原作者顾宇，经作者同意授权转发。转载请联系作者或GitChat。</p></blockquote>\n\r\n        \r\n        \r\n        \n    <div class=\"post-adds\">\n        <span data-post-id=\"112611\" class=\" btn-bluet-bigger href-style vote-post-up   register-user-only \"><i class=\"fa  fa-thumbs-o-up\"></i> <h10 id=\"112611votetotal\">1</h10> 赞</span>\n        <span data-book-type=\"1\" data-site-id=\"2\" data-item-id=\"112611\" data-item-type=\"1\" class=\" btn-bluet-bigger href-style bookmark-btn  register-user-only \"><i class=\"fa fa-bookmark-o  \"></i> 1 收藏</span>\n\n                    <a href=\"#article-comment\"><span class=\"btn-bluet-bigger href-style hide-on-480\"><i class=\"fa fa-comments-o\"></i>  评论</span></a>\n        \n        \n        \n        <!-- JiaThis Button BEGIN -->\n        <div class=\"jiathis_style_24x24\" style=\"display: inline-flex; position: relative; margin: 0; clear: both;float: right;\">\n            <a class=\"jiathis_button_tsina\"></a>\n            <a class=\"jiathis_button_weixin\"></a>\n            <a class=\"jiathis_button_qzone\"></a>\n            <a class=\"jiathis_button_fb hide-on-480\"></a>\n            <a href=\"http://www.jiathis.com/share?uid=1745061\" class=\"jiathis jiathis_txt jiathis_separator jtico jtico_jiathis\" target=\"_blank\"></a>\n        </div>\n\n    </div>\n\n\n\n\r\n        <!-- BEGIN #author-bio -->\r\n\r\n<div id=\"author-bio\">\r\n\t\r\n\t<h3 class=\"widget-title\">\r\n\t关于作者：<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">ThoughtWorks</a>\r\n\t</h3>\r\n\t<div class=\"alignleft\">\r\n\t\t<a target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina\">\r\n\t\t\t<img src=\"http://tp3.sinaimg.cn/1774908135/180/0/1\">\r\n\t\t</a>\r\n\t</div>\r\n\r\n    <div class=\"author-bio-info\">\r\n\r\n        <span class=\"author-bio-info-block\">\r\n            ThoughtWorks是一家全球IT咨询公司，追求卓越软件质量，致力于科技驱动商业变革。擅长构建定制化软件产品，帮助客户快速将概念转化为价值。同时为客户提供用户体验设计、技术战略咨询、组织转型等咨询服务。        </span>\r\n        <span class=\"author-bio-info-block\">\r\n            <a href=\"http://www.jobbole.com/members/thoughtworkschina\" target=\"_blank\"><i class=\"fa fa-user\"></i> 个人主页</a> ·\r\n            <a href=\"http://blog.jobbole.com/author/thoughtworkschina/\" target=\"_blank\"><i class=\"fa fa-file-text-o\"></i> 我的文章</a>\r\n\r\n             · <a title=\"声望值\" target=\"_blank\" href=\"http://www.jobbole.com/members/thoughtworkschina/reputation/\"><i class=\"fa fa-graduation-cap\"></i> 72</a> · <a title=\"我的网站\" target=\"_blank\" href=\"http://insights.thoughtworkers.org/\"><i class=\"fa fa-link\"></i></a> <a title=\"微博主页\" target=\"_blank\" href=\"http://weibo.com/thoughtworkschina\"><i class=\"fa fa-weibo\"></i></a>         </span>\r\n    </div>\r\n\t<div class=\"clear\"></div>\r\n</div>\r\n\r\n<!-- END #author-bio -->\r\n\t</div>\r\n\t<!-- END .entry -->\r\n\r\n\r\n<script type=\"text/javascript\">\r\nvar jiathis_config={\r\n\tdata_track_clickback:false,\r\n\ttitle:\"分享从伯乐在线看到的一篇好文章 \",\r\n\tsummary:\"《微服务进展缓慢的 5 个难点》\",\r\n\tpic:\"http://insights.thoughtworks.cn/wp-content/uploads/2017/10/0-1024x680.jpg\",\r\n\tappkey:{\r\n         \"tsina\": 1473879058    },\r\n\tralateuid:{\r\n\t\t\"tsina\": 1670481425\t},\r\n\thideMore:false\r\n}\r\n</script>\r\n<script type=\"text/javascript\" src=\"http://v3.jiathis.com/code/jia.js?uid=1745061\" charset=\"utf-8\"></script>\r\n<!-- JiaThis Button END -->\r\n\t\t\t<div class=\"textwidget\"><p><a href=\"http://group.jobbole.com/22945/\" target=\"_blank\"><img src=\"http://wx4.sinaimg.cn/mw690/bfdcef89gy1fknwaqrq59j20h803caau.jpg\"></a></p>\n</div>\n\t\t\r\n</div>", "tags": "IT技术，微服务", "front_image_path": "full/b2420ad3ad6e9c957eaa9a081537288408c32d67.jpg"}
